<!doctype html>
  <!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html lang="en" class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html lang="en"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Blink - 홈어시스턴트</title>
    <meta name="author" content="Home Assistant">
    <meta name="description" content="Instructions for how to integrate Blink camera/security system within Home Assistant.">
    
    <meta name="viewport" content="width=device-width">
    <link rel="canonical" href="https://hakorea.github.io/integrations/blink/">

    <meta property="fb:app_id" content="338291289691179">
    <meta property="og:title" content="Blink">
    <meta property="og:site_name" content="홈어시스턴트">
    <meta property="og:url" content="https://hakorea.github.io/integrations/blink/">
    <meta property="og:type" content="article">
    <meta property="og:description" content="Instructions for how to integrate Blink camera/security system within Home Assistant.">
    <meta property="og:image" content="https://hakorea.github.io/images/default-social.png">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@home_assistant">
    
    <meta name="twitter:title" content="Blink">
    <meta name="twitter:description" content="Instructions for how to integrate Blink camera/security system within Home Assistant.">
    <meta name="twitter:image" content="https://hakorea.github.io/images/default-social.png">

    <link href="/stylesheets/prism.css?8acb84bc0387c9548a63998fcfea0139" rel="stylesheet">
    <link href="/stylesheets/screen.css?0a23d70030bf362ca935e76ccc50922c" media="screen, projection, print" rel="stylesheet">
    <link href="/atom.xml" rel="alternate" title="홈어시스턴트" type="application/atom+xml">
    <link rel='shortcut icon' href='/images/favicon.ico' />
    <link rel='icon' type='image/png' href='/images/favicon-192x192.png' sizes='192x192' />
  </head>

  <body >

    <header class='site-header'>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item three-tenths lap-two-sixths palm-one-whole ha-title">
      <a href="/" class="site-title">
        <img src="/images/home-assistant-logo.svg" width="36" height="36" alt="Home Assistant">
        <span>홈어시스턴트</span>
      </a>
    </div>

    <div class="grid__item seven-tenths lap-four-sixths palm-one-whole">
      <nav>
        <input type="checkbox" id="toggle">
        <label for="toggle" class="toggle" data-open="Main Menu" data-close="Close Menu"></label>
        <ul class="menu pull-right">
            
            <li><a href="/getting-started/">시작하기</a></li>
            <li><a href="/integrations/">통합구성요소</a></li>
            <li><a href="/docs/">문서</a></li>
            <li><a href="/cookbook/">예제</a></li>
            <li>KOREAN(not official)</li>
        </ul>
      </nav>

      <div class='search-container' style='display: none'>
        <div class='search'>
          <i class="icon-search"></i>
          <input id='search' placeholder='Search the docs…'>
          <a href='#' class='close'><i class="icon-remove-sign"></i></a>
        </div>
      </div>
    </div>
  </div>
</div>

    </header>

    

    <div class="grid-wrapper">
      <div class="grid grid-center">
        
        <div class="grid__item two-thirds lap-one-whole palm-one-whole">
        

          
            <article class="page">
  
  
    

<div class="edit-github"><a href="https://github.com/hakorea/gitpages_source/blob/master/source/_integrations/blink.markdown" rel="external nofollow">깃허브 편집</a></div>


  

  
  <header>
    <h1 class="title indent">
      Blink
    </h1>
  </header>
  <hr class="divider">
  

  <p>The <code>blink</code> integration lets you view camera images and motion events from <a href="https://blinkforhome.com/" rel="external nofollow">Blink</a> camera and security systems.</p>
<h2>
<a class="title-link" name="setup" href="#setup"></a> Setup</h2>
<p>You will need your Blink login information (username, which is usually your email address, and password) to use this module.</p>
<h2>
<a class="title-link" name="configuration" href="#configuration"></a> Configuration</h2>
<p>To enable devices linked in your <a href="https://blinkforhome.com" rel="external nofollow">Blink</a> account, add the following to your <code>configuration.yaml</code> file:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
blink:
  username: YOUR_USERNAME
  password: YOUR_PASSWORD
</code></pre>
<div class="config-vars">
  <h3>
<a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class="">
<dt>
<a class="title-link" name="username" href="#username"></a> username</dt>
<dd><p class="desc"><span class="type">(<span class="string">string</span>)</span><span class="required">(Required)</span><span class="description"><p>The username for accessing your Blink account.</p>
</span></p></dd>
<dt>
<a class="title-link" name="password" href="#password"></a> password</dt>
<dd><p class="desc"><span class="type">(<span class="string">string</span>)</span><span class="required">(Required)</span><span class="description"><p>The password for accessing your Blink account.</p>
</span></p></dd>
<dt>
<a class="title-link" name="scan_interval" href="#scan_interval"></a> scan_interval</dt>
<dd><p class="desc"><span class="type">(<span class="integer">integer</span>)</span><span class="required">(Optional)</span><span class="description"><p>How frequently to query for new data. Defaults to 300 seconds (5 minutes).</p>
</span></p></dd>
<dt>
<a class="title-link" name="binary_sensors" href="#binary_sensors"></a> binary_sensors</dt>
<dd><p class="desc"><span class="type">(<span class="map">map</span>)</span><span class="required">(Optional)</span><span class="description"><p>Binary sensor configuration options.</p>
</span></p></dd>
<dd><dl class="nested">
<dt>
<a class="title-link" name="monitored_conditions" href="#monitored_conditions"></a> monitored_conditions</dt>
<dd>
<p class="desc"><span class="type">(<span class="list">list</span>)</span><span class="required">(Optional)</span><span class="description"><p>The conditions to create sensors from.</p>
</span></p>
<p class="default">
Default value: </p>
<p>all (<code>motion_enabled</code>, <code>motion_detected</code>)</p>
</dd>
</dl></dd>
<dt>
<a class="title-link" name="sensors" href="#sensors"></a> sensors</dt>
<dd><p class="desc"><span class="type">(<span class="map">map</span>)</span><span class="required">(Optional)</span><span class="description"><p>Sensor configuration options.</p>
</span></p></dd>
<dd><dl class="nested">
<dt>
<a class="title-link" name="monitored_conditions" href="#monitored_conditions"></a> monitored_conditions</dt>
<dd>
<p class="desc"><span class="type">(<span class="list">list</span>)</span><span class="required">(Optional)</span><span class="description"><p>The conditions to create sensors from.</p>
</span></p>
<p class="default">
Default value: </p>
<p>all (<code>battery</code>, <code>temperature</code>, <code>wifi_strength</code>)</p>
</dd>
</dl></dd>
<dt>
<a class="title-link" name="offset" href="#offset"></a> offset</dt>
<dd>
<p class="desc"><span class="type">(<span class="integer">integer</span>)</span><span class="required">(Optional)</span><span class="description"><p>How far back in time (minutes) to look for motion. Motion is determined if a new video has been recorded between now and the last time you refreshed plus this offset.</p>
</span></p>
<p class="default">
Default value: </p>
<p>1</p>
</dd>
<dt>
<a class="title-link" name="mode" href="#mode"></a> mode</dt>
<dd>
<p class="desc"><span class="type">(<span class="string">string</span>)</span><span class="required">(Optional)</span><span class="description"><p>Set to ‘legacy’ to enable use of old API endpoint subdomains (APIs can differ based on region, so use this if you are having issues with the integration).</p>
</span></p>
<p class="default">
Default value: </p>
<p>not set</p>
</dd>
</dl>
</div>
<p>Once Home Assistant starts, the <code>blink</code> integration will create the following platforms:</p>
<ul>
<li>An <code>alarm_control_panel</code> to arm/disarm the whole blink system (note, <code>alarm_arm_home</code> is not implemented and will not actually do anything, despite it being an option in the GUI).</li>
<li>A <code>camera</code> for each camera linked to your Blink sync module.</li>
<li>A <code>sensor</code> per camera for every item listed in <code>monitored_conditions</code> (if no items specified in your <code>configuration.yaml</code>, all of them will be added by default).</li>
<li>A <code>binary_sensor</code> for each item listed in <code>monitored_conditions</code> (if no items specified in your <code>configuration.yaml</code>, all of them will be added by default).</li>
</ul>
<p>Since the cameras are battery operated, setting the <code>scan_interval</code> must be done with care so as to not drain the battery too quickly, or hammer Blink’s servers with too many API requests.  The cameras can be manually updated via the <code>trigger_camera</code> service which will ignore the throttling caused by <code>scan_interval</code>.  As a note, all of the camera-specific sensors are only polled when a new image is requested from the camera. This means that relying on any of these sensors to provide timely and accurate data is not recommended.</p>
<p>Please note that each camera reports two different states: one as <code>sensor.blink_&lt;camera_name&gt;_status</code> and the other as <code>binary_sensor.blink_&lt;camera_name&gt;_motion_enabled</code>. The <code>motion_enabled</code> property reports if the <code>camera</code> is ready to detect motion <em>regardless if the system is actually armed</em>*.</p>
<p>Below is an example showing every possible entry:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
blink:
  username: YOUR_USERNAME
  password: YOUR_PASSWORD
  scan_interval: 300
  binary_sensors:
    monitored_conditions:
      - motion_enabled
      - motion_detected
  sensors:
    monitored_conditions:
      - battery
      - temperature
      - wifi_strength
</code></pre>
<h2>
<a class="title-link" name="services" href="#services"></a> Services</h2>
<p>Any sequential calls to services relating to blink should have a minimum of a 5 second delay in between them to prevent the calls fro being throttled and ignored.</p>
<h3>
<a class="title-link" name="blinkblink_update" href="#blinkblink_update"></a> blink.blink_update</h3>
<p>Force a refresh of the Blink system.</p>
<h3>
<a class="title-link" name="blinktrigger_camera" href="#blinktrigger_camera"></a> blink.trigger_camera</h3>
<p>Trigger a camera to take a new still image.</p>
<table>
<thead>
<tr>
<th>Service Data Attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td>no</td>
<td>Name of camera to take new image with.</td>
</tr>
</tbody>
</table>
<h3>
<a class="title-link" name="blinksave_video" href="#blinksave_video"></a> blink.save_video</h3>
<p>Save the last recorded video of a camera to a local file. Note that in most cases, Home Assistant will need to know that the directory is writable via the <code>whitelist_external_dirs</code> in your <code>configuration.yaml</code> file (see example below).</p>
<table>
<thead>
<tr>
<th>Service Data Attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td>no</td>
<td>Name of camera containing video to save.</td>
</tr>
<tr>
<td><code>filename</code></td>
<td>no</td>
<td>Location of save file.</td>
</tr>
</tbody>
</table>
<pre><code class="language-yaml">homeassistant:
    ...
    whitelist_external_dirs:
        - '/tmp'
        - '/path/to/whitelist'
</code></pre>
<h3>
<a class="title-link" name="other-services" href="#other-services"></a> Other Services</h3>
<p>In addition to the services mentioned above, there are generic <code>camera</code> and <code>alarm_control_panel</code> services available for use as well. The <code>camera.enable_motion_detection</code> and <code>camera.disable_motion_detection</code> services allow for individual cameras to be enabled and disabled, respectively, within the Blink system. The <code>alarm_control_panel.alarm_arm_away</code> and <code>alarm_control_panel.alarm_disarm</code> services allow for the whole system to be armed and disarmed, respectively.</p>
<h2>
<a class="title-link" name="examples" href="#examples"></a> Examples</h2>
<p>The following are some examples showing how to correctly make service calls using Blink:</p>
<h3>
<a class="title-link" name="snap-picture-and-save-locally" href="#snap-picture-and-save-locally"></a> Snap Picture and Save Locally</h3>
<p>This example script shows how to take a picture with your camera, named <code>My Camera</code> in your Blink app (this is <strong>not necessarily</strong> the friendly name in home-assistant).  After snapping a picture, the image will then be saved to a local directory called <code>/tmp/my_image.jpg</code>.  Note that this example makes use of services found in the <a href="/integrations/camera#service-snapshot">camera integration</a></p>
<pre><code class="language-yaml">alias: Blink Snap Picture
sequence:
    - service: blink.trigger_camera
      data:
          name: "My Camera"
    - delay: 00:00:05  
    - service: blink.blink_update
    - service: camera.snapshot
      data:
          entity_id: camera.blink_my_camera
          filename: /tmp/my_image.jpg
</code></pre>
<h3>
<a class="title-link" name="arm-blink-when-away" href="#arm-blink-when-away"></a> Arm Blink When Away</h3>
<p>This example automation will arm your blink sync module to detect motion on any of your blink cameras that have motion detection enabled.  By default, Blink enables motion detection on all cameras so, unless you’ve changed anything in your app, you’re all set.  If you want to manually enable motion detection for individual cameras, you can utilize the <a href="/integrations/camera#service-enable_motion_detection">appropriate camera service</a> but please note that motion will only be captured if the sync module is armed.</p>
<p>Here, this example assumes your blink module is named <code>My Sync Module</code> and that you have <a href="/integrations/device_tracker">device trackers</a> set up for presence detection.</p>
<pre><code class="language-yaml">- id: arm_blink_when_away
  alias: Arm Blink When Away
  trigger:
      platform: state
      entity_id: all
      to: 'not_home'
  action:
      service: alarm_control_panel.alarm_arm_away
      entity_id: alarm_control_panel.blink_my_sync_module 
</code></pre>
<h3>
<a class="title-link" name="disarm-blink-when-home" href="#disarm-blink-when-home"></a> Disarm Blink When Home</h3>
<p>Similar to the previous example, this automation will disarm blink when arriving home.</p>
<pre><code class="language-yaml">- id: disarm_blink_when_home
  alias: Disarm Blink When Home
  trigger:
      platform: state
      entity_id: all
      to: 'home'
  action:
      service: alarm_control_panel.alarm_disarm
      entity_id: alarm_control_panel.blink_my_sync_module 
</code></pre>
<h3>
<a class="title-link" name="save-video-locally-when-motion-detected" href="#save-video-locally-when-motion-detected"></a> Save Video Locally When Motion Detected</h3>
<p>When motion is detected, you can use the Blink Home-Assistant integration to save the last recorded video locally, rather than relying on Blink’s servers to save your data.</p>
<p>Again, this example assumes your camera’s name (in the blink app) is <code>My Camera</code> and your sync module name is <code>My Sync Module</code>.  The file will be saved to <code>/tmp/videos/blink_video_{YYYMMDD_HHmmSS}.mp4</code> where <code>{YYYYMMDD_HHmmSS}</code> will be a timestamp create via the use of <a href="/docs/configuration/templating/">templating</a>.</p>
<pre><code class="language-yaml">- id: save_blink_video_on_motion
  alias: Save Blink Video on Motion
  trigger:
      platform: state
      entity_id: binary_sensor.blink_my_camera_motion_detected
      to: 'on'
  action:
      service: blink.save_video
      data_template:
          name: "My Camera"
          filename: "/tmp/videos/blink_video_{{ now().strftime('%Y%m%d_%H%M%S') }}.mp4"
      
</code></pre>


</article>

          
        </div>

        
        <aside id="sidebar" class="grid__item one-third lap-one-whole palm-one-whole">
          <div class="grid">
  
  
    <section class="aside-module grid__item one-whole lap-one-half">

<div class='edit-github'><a href='https://github.com/hakorea/gitpages_source/blob/master/source/_integrations/blink.markdown'>깃허브 편집</a></div>

<div class='brand-logo-container section'><img src='/images/supported_brands/blink.png' /></div><div class="section">
    <kb-alert-link integration="blink"></kb-alert-link>
  </div><div class='section'>
      IoT class<sup><a href='/blog/2016/02/12/classifying-the-internet-of-things/#classifiers'><i class="icon-info-sign"></i></a></sup>: Cloud Polling
    </div><div class='section'>
      Introduced in release: 0.40
    </div><div class='section'>
    Source: <a href='https://github.com/home-assistant/home-assistant/blob/dev/homeassistant/components/blink/'>/components/blink/</a>
  </div><div class='section'>
    <h1 class="title delta">카테고리</h1>
    <ul class='divided'><li>
        <a href='/integrations/#hub'>Hub</a>
      </li><li>
        <a href='/integrations/#alarm'>Alarm</a>
      </li><li>
        <a href='/integrations/#binary-sensor'>Binary Sensor</a>
      </li><li>
        <a href='/integrations/#camera'>Camera</a>
      </li><li>
        <a href='/integrations/#sensor'>Sensor</a>
      </li></ul>
    </div></section>

<script src="https://alerts.home-assistant.io/ce-alert-link.js"></script>

  
</div>

        </aside>
        
      </div>
    </div>

    <footer>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <div class="copyright grid">
        <div class='company grid__item one-third lap-one-half palm-one-whole'>
          <div class="title">
            <img width="40" src="/images/favicon-192x192-full.png" alt="Home Assistant"> 홈어시스턴트
          </div>
          <div class="icons">
            <a rel="me" href='https://twitter.com/home_assistant' title="Twitter"><i class="icon-twitter"></i></a>
            <a rel="me" href='https://www.facebook.com/homeassistantio' title="Facebook"><i class="icon-facebook"></i></a>
            <a rel="me" href='https://github.com/home-assistant/home-assistant' title="GitHub"><i class="icon-github"></i></a>
          </div>
        </div>

        <div class='grid__item one-third lap-one-half palm-one-whole'>
          <ul>
            <li><a href='https://alerts.home-assistant.io'>Home Assistant Alerts</a></li>
            <li><a href='https://developers.home-assistant.io'>Developers</a></li>
            <li><a href='https://data.home-assistant.io'>Data Science</a></li>
            <li><a href='mailto:hello@home-assistant.io'>Contact</a> (no support!)</li>
            <li><a href='/security/'>Security Vulnerabilities</a></li>
            <li><a href='/privacy/'>Privacy</a></li>
            <li><a href='https://status.home-assistant.io'>System Status</a></li>
          </ul>
        </div>

        <div class='grid__item one-third lap-one-half palm-one-whole'>
          이 웹사이트는 <a href='https://jekyllrb.com/'>지킬</a>과
          <a href='https://github.com/coogie/oscailte'>Oscalite 테마</a>를 사용합니다.
        </div>
      </div>
    </div>
  </div>
</div>

    </footer>

    <script>
var _gaq=[['_setAccount','UA-57927901-1'],['_trackPageview']];
(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

<script src="/javascripts/prism.js?5d6619066a1fc5cd819a93c132b539ac" type="text/javascript"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript">
docsearch({
  apiKey: 'ae96d94b201c5444c8a443093edf3efb',
  indexName: 'home-assistant',
  inputSelector: '#search',
  debug: false // Set debug to true if you want to inspect the dropdown
});
document.querySelector('.search .close').addEventListener('click', function(ev) {
  ev.preventDefault();
  document.querySelector('.search-container').style.display = 'none';
});
document.querySelector('.show-search').addEventListener('click', function(ev) {
  ev.preventDefault();
  document.querySelector('.search-container').style.display = 'block';
  document.getElementById('toggle').checked = false;
  document.querySelector('.search-container input').focus();
});
</script>

  </body>
</html>
