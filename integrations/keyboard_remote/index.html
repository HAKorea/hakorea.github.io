<!doctype html>
  <!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html lang="en" class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html lang="en"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Keyboard Remote - 홈어시스턴트</title>
    <meta name="author" content="Home Assistant">
    <meta name="description" content="Instructions on how to use a keyboard to remote control Home Assistant.">
    
    <meta name="viewport" content="width=device-width">
    <link rel="canonical" href="https://hakorea.github.io/integrations/keyboard_remote/">

    <meta property="fb:app_id" content="338291289691179">
    <meta property="og:title" content="Keyboard Remote">
    <meta property="og:site_name" content="홈어시스턴트">
    <meta property="og:url" content="https://hakorea.github.io/integrations/keyboard_remote/">
    <meta property="og:type" content="article">
    <meta property="og:description" content="Instructions on how to use a keyboard to remote control Home Assistant.">
    <meta property="og:image" content="https://hakorea.github.io/images/default-social.png">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@home_assistant">
    
    <meta name="twitter:title" content="Keyboard Remote">
    <meta name="twitter:description" content="Instructions on how to use a keyboard to remote control Home Assistant.">
    <meta name="twitter:image" content="https://hakorea.github.io/images/default-social.png">

    <link href="/stylesheets/prism.css?8acb84bc0387c9548a63998fcfea0139" rel="stylesheet">
    <link href="/stylesheets/screen.css?0a23d70030bf362ca935e76ccc50922c" media="screen, projection, print" rel="stylesheet">
    <link href="/atom.xml" rel="alternate" title="홈어시스턴트" type="application/atom+xml">
    <link rel='shortcut icon' href='/images/favicon.ico' />
    <link rel='icon' type='image/png' href='/images/favicon-192x192.png' sizes='192x192' />
  </head>

  <body >

    <header class='site-header'>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item three-tenths lap-two-sixths palm-one-whole ha-title">
      <a href="/" class="site-title">
        <img src="/images/home-assistant-logo.svg" width="36" height="36" alt="Home Assistant">
        <span>홈어시스턴트</span>
      </a>
    </div>

    <div class="grid__item seven-tenths lap-four-sixths palm-one-whole">
      <nav>
        <input type="checkbox" id="toggle">
        <label for="toggle" class="toggle" data-open="Main Menu" data-close="Close Menu"></label>
        <ul class="menu pull-right">
            
            <li><a href="/getting-started/">시작하기</a></li>
            <li><a href="/integrations/">통합구성요소</a></li>
            <li><a href="/docs/">문서</a></li>
            <li><a href="/cookbook/">예제</a></li>
            <li>KOREAN(not official)</li>
        </ul>
      </nav>

      <div class='search-container' style='display: none'>
        <div class='search'>
          <i class="icon-search"></i>
          <input id='search' placeholder='Search the docs…'>
          <a href='#' class='close'><i class="icon-remove-sign"></i></a>
        </div>
      </div>
    </div>
  </div>
</div>

    </header>

    

    <div class="grid-wrapper">
      <div class="grid grid-center">
        
        <div class="grid__item two-thirds lap-one-whole palm-one-whole">
        

          
            <article class="page">
  
  
    

<div class="edit-github"><a href="https://github.com/hakorea/hakorea.github.io/tree/current/source/_integrations/keyboard_remote.markdown" rel="external nofollow">깃허브 편집</a></div>


  

  
  <header>
    <h1 class="title indent">
      Keyboard Remote
    </h1>
  </header>
  <hr class="divider">
  

  <p>Receive signals from a keyboard and use it as a remote control.</p>
<p>This integration allows you to use one or more keyboards as remote controls. It will fire <code>keyboard_remote_command_received</code> events which can then be used in automation rules.</p>
<p>The <code>evdev</code> package is used to interface with the keyboard and thus this is Linux only. It also means you can’t use your normal keyboard for this because <code>evdev</code> will block it.</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
keyboard_remote:
  type: 'key_up'
</code></pre>
<div class="config-vars">
  <h3>
<a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class="">
<dt>
<a class="title-link" name="type" href="#type"></a> type</dt>
<dd><p class="desc"><span class="type">(<span class="string">string</span>)</span><span class="required">(Required)</span><span class="description"><p>Possible values are <code>key_up</code>, <code>key_down</code>, and <code>key_hold</code>. Be careful, <code>key_hold</code> will fire a lot of events.  This can be a list of types.</p>
</span></p></dd>
<dt>
<a class="title-link" name="emulate_key_hold" href="#emulate_key_hold"></a> emulate_key_hold</dt>
<dd>
<p class="desc"><span class="type">(<span class="boolean">boolean</span>)</span><span class="required">(Optional)</span><span class="description"><p>Emulate key hold events when key is held down.  (Some input devices do not send these otherwise.)</p>
</span></p>
<p class="default">
Default value: </p>
<p>false</p>
</dd>
<dt>
<a class="title-link" name="emulate_key_hold_delay" href="#emulate_key_hold_delay"></a> emulate_key_hold_delay</dt>
<dd>
<p class="desc"><span class="type">(<span class="float">float</span>)</span><span class="required">(Optional)</span><span class="description"><p>Number of milliseconds to wait before sending first emulated key hold event</p>
</span></p>
<p class="default">
Default value: </p>
<p>0.25</p>
</dd>
<dt>
<a class="title-link" name="emulate_key_hold_repeat" href="#emulate_key_hold_repeat"></a> emulate_key_hold_repeat</dt>
<dd>
<p class="desc"><span class="type">(<span class="float">float</span>)</span><span class="required">(Optional)</span><span class="description"><p>Number of milliseconds to wait before sending subsequent emulated key hold event</p>
</span></p>
<p class="default">
Default value: </p>
<p>0.033</p>
</dd>
<dt>
<a class="title-link" name="device_descriptor" href="#device_descriptor"></a> device_descriptor</dt>
<dd><p class="desc"><span class="type">(<span class="string">string</span>)</span><span class="required">(Optional)</span><span class="description"><p>Path to the local event input device file that corresponds to the keyboard.</p>
</span></p></dd>
<dt>
<a class="title-link" name="device_name" href="#device_name"></a> device_name</dt>
<dd><p class="desc"><span class="type">(<span class="string">string</span>)</span><span class="required">(Optional)</span><span class="description"><p>Name of the keyboard device.</p>
</span></p></dd>
</dl>
</div>
<p>Either <code>device_name</code> or <code>device_descriptor</code> must be present in the configuration entry. Indicating a device name is useful in case of repeating disconnections and re-connections of the device (for example, a bluetooth keyboard): the local input device file might change, thus breaking the configuration, while the name remains the same.
In case of presence of multiple devices of the same model, <code>device_descriptor</code> must be used.</p>
<p>A list of possible device descriptors and names is reported in the debug log at startup when the device indicated in the configuration entry could not be found.</p>
<p>A full configuration for two Keyboard Remotes could look like the one below:</p>
<pre><code class="language-yaml">keyboard_remote:
- device_descriptor: '/dev/input/by-id/bluetooth-keyboard'
  type: 'key_down'
  emulate_key_hold: true
  emulate_key_hold_delay: 250
  emulate_key_hold_repeat: 33
- device_descriptor: '/dev/input/event0'
  type:
    - 'key_up'
    - 'key_down'
</code></pre>
<p>Or like the following for one keyboard:</p>
<pre><code class="language-yaml">keyboard_remote:
  device_name: 'Bluetooth Keyboard'
  type: 'key_down'
</code></pre>
<p>And an automation rule to breathe life into it:</p>
<pre><code class="language-yaml">automation:
  alias: Keyboard all lights on
  trigger:
    platform: event
    event_type: keyboard_remote_command_received
    event_data:
      device_descriptor: "/dev/input/event0"
      key_code: 107 # inspect log to obtain desired keycode
  action:
    service: light.turn_on
    entity_id: light.all
</code></pre>
<p><code>device_descriptor</code> or <code>device_name</code> may be specificed in the trigger so the automation will be fired only for that keyboard. This is especially useful if you wish to use several bluetooth remotes to control different devices. Omit them to ensure the same key triggers the automation for all keyboards/remotes.</p>
<h2>
<a class="title-link" name="disconnections" href="#disconnections"></a> Disconnections</h2>
<p>This integration manages disconnections and re-connections of the keyboard, for example in the case of a Bluetooth device that turns off automatically to preserve battery.</p>
<p>If the keyboard disconnects, the integration will fire an event <code>keyboard_remote_disconnected</code>.
When the keyboard reconnects, an event <code>keyboard_remote_connected</code> will be fired.</p>
<p>Here’s an automation example that plays a sound through a media player whenever the keyboard connects/disconnects:</p>
<pre><code class="language-yaml">automation:
  - alias: Keyboard Connected
    trigger:
      platform: event
      event_type: keyboard_remote_connected
    action:
      - service: media_player.play_media
        data:
          entity_id: media_player.speaker
          media_content_id: keyboard_connected.wav
          media_content_type: music

  - alias: Bluetooth Keyboard Disconnected
    trigger:
      platform: event
      event_type: keyboard_remote_disconnected
      event_data:
        device_name: "00:58:56:4C:C0:91"
    action:
      - service: media_player.play_media
        data:
          entity_id: media_player.speaker
          media_content_id: keyboard_disconnected.wav
          media_content_type: music
</code></pre>
<h2>
<a class="title-link" name="permissions" href="#permissions"></a> Permissions</h2>
<p>There might be permissions problems with the event input device file. If this is the case, the user that Home Assistant runs as must be allowed read and write permissions with:</p>
<pre><code class="language-bash">sudo setfacl -m u:HASS_USER:rw /dev/input/event*
</code></pre>
<p>Where <code>HASS_USER</code> is the user who runs Home Assistant.</p>
<p>If you want to make this permanent, you can use a udev rule that sets it for all event input devices. Add a file <code>/etc/udev/rules.d/99-userdev-input.rules</code> containing:</p>
<pre><code class="language-bash">KERNEL=="event*", SUBSYSTEM=="input", RUN+="/usr/bin/setfacl -m u:HASS_USER:rw $env{DEVNAME}"
</code></pre>
<p>You can check ACLs permissions with:</p>
<pre><code class="language-bash">getfacl /dev/input/event*
</code></pre>


</article>

          
        </div>

        
        <aside id="sidebar" class="grid__item one-third lap-one-whole palm-one-whole">
          <div class="grid">
  
  
    <section class="aside-module grid__item one-whole lap-one-half">

<div class='edit-github'><a href='https://github.com/hakorea/hakorea.github.io/tree/current/source/_integrations/keyboard_remote.markdown'>깃허브 편집</a></div>

<div class='brand-logo-container section'><img src='/images/supported_brands/keyboard.png' /></div><div class="section">
    <kb-alert-link integration="keyboard_remote"></kb-alert-link>
  </div><div class='section'>
      IoT class<sup><a href='/blog/2016/02/12/classifying-the-internet-of-things/#classifiers'><i class="icon-info-sign"></i></a></sup>: Local Push
    </div><div class='section'>
      Introduced in release: 0.29
    </div><div class='section'>
    Source: <a href='https://github.com/home-assistant/home-assistant/blob/dev/homeassistant/components/keyboard_remote/'>/components/keyboard_remote/</a>
  </div><div class='section'>
    <h1 class="title delta">카테고리</h1>
    <ul class='divided'><li>
        <a href='/integrations/#other'>Other</a>
      </li></ul>
    </div></section>

<script src="https://alerts.home-assistant.io/ce-alert-link.js"></script>

  
</div>

        </aside>
        
      </div>
    </div>

    <footer>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <div class="copyright grid">
        <div class='company grid__item one-third lap-one-half palm-one-whole'>
          <div class="title">
            <img width="40" src="/images/favicon-192x192-full.png" alt="Home Assistant"> 홈어시스턴트
          </div>
          <div class="icons">
            <a rel="me" href='https://twitter.com/home_assistant' title="Twitter"><i class="icon-twitter"></i></a>
            <a rel="me" href='https://www.facebook.com/homeassistantio' title="Facebook"><i class="icon-facebook"></i></a>
            <a rel="me" href='https://github.com/home-assistant/home-assistant' title="GitHub"><i class="icon-github"></i></a>
          </div>
        </div>

        <div class='grid__item one-third lap-one-half palm-one-whole'>
          <ul>
            <li><a href='https://alerts.home-assistant.io'>Home Assistant Alerts</a></li>
            <li><a href='https://developers.home-assistant.io'>Developers</a></li>
            <li><a href='https://data.home-assistant.io'>Data Science</a></li>
            <li><a href='mailto:hello@home-assistant.io'>Contact</a> (no support!)</li>
            <li><a href='/security/'>Security Vulnerabilities</a></li>
            <li><a href='/privacy/'>Privacy</a></li>
            <li><a href='https://status.home-assistant.io'>System Status</a></li>
          </ul>
        </div>

        <div class='grid__item one-third lap-one-half palm-one-whole'>
          이 웹사이트는 <a href='https://jekyllrb.com/'>지킬</a>과
          <a href='https://github.com/coogie/oscailte'>Oscalite 테마</a>를 사용합니다.
        </div>
      </div>
    </div>
  </div>
</div>

    </footer>

    <script>
var _gaq=[['_setAccount','UA-57927901-1'],['_trackPageview']];
(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

<script src="/javascripts/prism.js?5d6619066a1fc5cd819a93c132b539ac" type="text/javascript"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript">
docsearch({
  apiKey: 'ae96d94b201c5444c8a443093edf3efb',
  indexName: 'home-assistant',
  inputSelector: '#search',
  debug: false // Set debug to true if you want to inspect the dropdown
});
document.querySelector('.search .close').addEventListener('click', function(ev) {
  ev.preventDefault();
  document.querySelector('.search-container').style.display = 'none';
});
document.querySelector('.show-search').addEventListener('click', function(ev) {
  ev.preventDefault();
  document.querySelector('.search-container').style.display = 'block';
  document.getElementById('toggle').checked = false;
  document.querySelector('.search-container input').focus();
});
</script>

  </body>
</html>
