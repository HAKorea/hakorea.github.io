<!doctype html>
  <!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html lang="en" class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html lang="en"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>System Log - 홈어시스턴트</title>
    <meta name="author" content="Home Assistant">
    <meta name="description" content="Summary of errors and warnings in Home Assistant during runtime.">
    
    <meta name="viewport" content="width=device-width">
    <link rel="canonical" href="https://hakorea.github.io/integrations/system_log/">

    <meta property="fb:app_id" content="338291289691179">
    <meta property="og:title" content="System Log">
    <meta property="og:site_name" content="홈어시스턴트">
    <meta property="og:url" content="https://hakorea.github.io/integrations/system_log/">
    <meta property="og:type" content="article">
    <meta property="og:description" content="Summary of errors and warnings in Home Assistant during runtime.">
    <meta property="og:image" content="https://hakorea.github.io/images/default-social.png">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@home_assistant">
    
    <meta name="twitter:title" content="System Log">
    <meta name="twitter:description" content="Summary of errors and warnings in Home Assistant during runtime.">
    <meta name="twitter:image" content="https://hakorea.github.io/images/default-social.png">

    <link href="/stylesheets/prism.css?8acb84bc0387c9548a63998fcfea0139" rel="stylesheet">
    <link href="/stylesheets/screen.css?0a23d70030bf362ca935e76ccc50922c" media="screen, projection, print" rel="stylesheet">
    <link href="/atom.xml" rel="alternate" title="홈어시스턴트" type="application/atom+xml">
    <link rel='shortcut icon' href='/images/favicon.ico' />
    <link rel='icon' type='image/png' href='/images/favicon-192x192.png' sizes='192x192' />
  </head>

  <body >

    <header class='site-header'>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item three-tenths lap-two-sixths palm-one-whole ha-title">
      <a href="/" class="site-title">
        <img src="/images/home-assistant-logo.svg" width="36" height="36" alt="Home Assistant">
        <span>홈어시스턴트</span>
      </a>
    </div>

    <div class="grid__item seven-tenths lap-four-sixths palm-one-whole">
      <nav>
        <input type="checkbox" id="toggle">
        <label for="toggle" class="toggle" data-open="Main Menu" data-close="Close Menu"></label>
        <ul class="menu pull-right">
            
            <li><a href="/getting-started/">시작하기</a></li>
            <li><a href="/integrations/">통합구성요소</a></li>
            <li><a href="/docs/">문서</a></li>
            <li><a href="/cookbook/">예제</a></li>
            <li>KOREAN(not official)</li>
        </ul>
      </nav>

      <div class='search-container' style='display: none'>
        <div class='search'>
          <i class="icon-search"></i>
          <input id='search' placeholder='Search the docs…'>
          <a href='#' class='close'><i class="icon-remove-sign"></i></a>
        </div>
      </div>
    </div>
  </div>
</div>

    </header>

    

    <div class="grid-wrapper">
      <div class="grid grid-center">
        
        <div class="grid__item two-thirds lap-one-whole palm-one-whole">
        

          
            <article class="page">
  
  
    

<div class="edit-github"><a href="https://github.com/hakorea/hakorea.github.io/tree/current/source/_integrations/system_log.markdown" rel="external nofollow">깃허브 편집</a></div>


  

  
  <header>
    <h1 class="title indent">
      System Log
    </h1>
  </header>
  <hr class="divider">
  

  <p>The <code>system_log</code> integration stores information about all logged errors and warnings in Home Assistant. All collected information is accessible directly in the frontend, just navigate to the <code>Info</code> section under <code>Developer Tools</code>. In order to not overload Home Assistant with log data, only the 50 last errors and warnings will be stored. Older entries are automatically discarded from the log. It is possible to change the number of stored log entries using the parameter <code>max_entries</code>.</p>
<h2>
<a class="title-link" name="configuration" href="#configuration"></a> Configuration</h2>
<p>This integration is automatically loaded by the <code>frontend</code> (so no need to do anything if you are using the frontend). If you are not doing so, or if you wish to change a parameter, add the following section to your <code>configuration.yaml</code> file:</p>
<pre><code class="language-yaml">system_log:
  max_entries: MAX_ENTRIES
</code></pre>
<div class="config-vars">
  <h3>
<a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class="">
<dt>
<a class="title-link" name="max_entries" href="#max_entries"></a> max_entries</dt>
<dd>
<p class="desc"><span class="type">(<span class="integer">integer</span>)</span><span class="required">(Optional)</span><span class="description"><p>Number of entries to store (older entries are discarded).</p>
</span></p>
<p class="default">
Default value: </p>
<p>50</p>
</dd>
<dt>
<a class="title-link" name="fire_event" href="#fire_event"></a> fire_event</dt>
<dd>
<p class="desc"><span class="type">(<span class="string">string</span>)</span><span class="required">(Optional)</span><span class="description"><p>Whether events are fired (required when used for triggers).</p>
</span></p>
<p class="default">
Default value: </p>
<p>false</p>
</dd>
</dl>
</div>
<h2>
<a class="title-link" name="services" href="#services"></a> Services</h2>
<h3>
<a class="title-link" name="service-clear" href="#service-clear"></a> Service clear</h3>
<p>To manually clear the system log, call this service.</p>
<h3>
<a class="title-link" name="service-write" href="#service-write"></a> Service write</h3>
<p>Write a log entry</p>
<table>
<thead>
<tr>
<th>Service data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>message</code></td>
<td>no</td>
<td>Message to log</td>
</tr>
<tr>
<td><code>level</code></td>
<td>yes</td>
<td>Log level: debug, info, warning, error, critical. Defaults to ‘error’.</td>
</tr>
<tr>
<td><code>logger</code></td>
<td>yes</td>
<td>Logger name under which to log the message. Defaults to ‘system_log.external’.</td>
</tr>
</tbody>
</table>
<h2>
<a class="title-link" name="events" href="#events"></a> Events</h2>
<p>Errors and warnings are posted as the event <code>system_log_event</code>, so it is possible to write automations that trigger whenever a warning or error occurs. The following information is included in each event:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>level</code></td>
<td>Either <code>WARNING</code> or <code>ERROR</code> depending on severity.</td>
</tr>
<tr>
<td><code>source</code></td>
<td>File that triggered the error, e.g., <code>core.py</code> or <code>media_player/yamaha.py</code>.</td>
</tr>
<tr>
<td><code>exception</code></td>
<td>Full stack trace if available, an empty string otherwise.</td>
</tr>
<tr>
<td><code>message</code></td>
<td>Descriptive message of the error, e.g., “Error handling request”.</td>
</tr>
<tr>
<td><code>timestamp</code></td>
<td>Unix timestamp with as a double, e.g., 1517241010.237416.</td>
</tr>
</tbody>
</table>
<p>Live examples of these events can be found in the Home Assistant log file (<code>home-assistant.log</code>) or by just looking in the system log. An example could, for instance, look like this:</p>
<pre><code class="language-text">2019-02-14 16:20:35 ERROR (MainThread) [homeassistant.loader] Unable to find integration system_healt
2019-02-14 16:20:36 ERROR (MainThread) [homeassistant.components.device_tracker] Error setting up platform google_maps
Traceback (most recent call last):
  File "/home/fab/Documents/repos/ha/home-assistant/homeassistant/integrations/device_tracker/__init__.py", line 184, in
[...]
</code></pre>
<p>The message (“Unable to find integration system_healt”), source (<code>homeassistant.loader</code>) and level (<code>ERROR</code>) can easily be extracted from the log. The exact timestamp and if there is a stack trace that’s shown as well. Here is another error caused by the <code>google_map</code> integration with additional output present.</p>
<h2>
<a class="title-link" name="examples" href="#examples"></a> Examples</h2>
<p>Here are some examples using the events posted by <code>system_log</code>. <code>fire_event</code> must be set to <code>true</code> for these to work.</p>
<h3>
<a class="title-link" name="counting-number-of-warnings" href="#counting-number-of-warnings"></a> Counting Number of Warnings</h3>
<p>This will create a <code>counter</code> that increases every time a warning is logged:</p>
<pre><code class="language-yaml">counter:
  warning_counter:
    name: Warnings
    icon: mdi:alert

automation:
  - alias: Count warnings
    trigger:
      platform: event
      event_type: system_log_event
      event_data:
        level: WARNING
    action:
      service: counter.increment
      entity_id: counter.warning_counter
</code></pre>
<h3>
<a class="title-link" name="conditional-messages" href="#conditional-messages"></a> Conditional Messages</h3>
<p>This automation will create a persistent notification whenever an error or warning is logged that has the word “service” in the message:</p>
<pre><code class="language-yaml">automation:
  - alias: Create notifications for "service" errors
    trigger:
      platform: event
      event_type: system_log_event
    condition:
      condition: template
      value_template: '{{ "service" in trigger.event.data.message }}'
    action:
      service: persistent_notification.create
      data_template:
        title: Something bad happened
        message: '{{ trigger.event.data.message }}'
</code></pre>
<h3>
<a class="title-link" name="writing-to-log" href="#writing-to-log"></a> Writing to log</h3>
<p>This automation will create a new log entry when the door is opened:</p>
<pre><code class="language-yaml">automation:
  - alias: Log door opened
    trigger:
      platform: state
      entity_id: binary_sensor.door
      from: 'off'
      to: 'on'
    action:
      service: system_log.write
      data_template:
        message: 'Door opened!'
        level: info
</code></pre>


</article>

          
        </div>

        
        <aside id="sidebar" class="grid__item one-third lap-one-whole palm-one-whole">
          <div class="grid">
  
  
    <section class="aside-module grid__item one-whole lap-one-half">

<div class='edit-github'><a href='https://github.com/hakorea/hakorea.github.io/tree/current/source/_integrations/system_log.markdown'>깃허브 편집</a></div>

<div class='brand-logo-container section'><img src='/images/supported_brands/home-assistant.png' /></div><div class="section">
    <kb-alert-link integration="system_log"></kb-alert-link>
  </div><div class='section'>
      Quality Scale: <a href='/docs/quality_scale/'>🏠 (internal)</a>
    </div><div class='section'>
      Introduced in release: 0.58
    </div><div class='section'>
    Source: <a href='https://github.com/home-assistant/home-assistant/blob/dev/homeassistant/components/system_log/'>/components/system_log/</a>
  </div><div class='section'>
    <h1 class="title delta">카테고리</h1>
    <ul class='divided'><li>
        <a href='/integrations/#other'>Other</a>
      </li></ul>
    </div></section>

<script src="https://alerts.home-assistant.io/ce-alert-link.js"></script>

  
</div>

        </aside>
        
      </div>
    </div>

    <footer>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <div class="copyright grid">
        <div class='company grid__item one-third lap-one-half palm-one-whole'>
          <div class="title">
            <img width="40" src="/images/favicon-192x192-full.png" alt="Home Assistant"> 홈어시스턴트
          </div>
          <div class="icons">
            <a rel="me" href='https://twitter.com/home_assistant' title="Twitter"><i class="icon-twitter"></i></a>
            <a rel="me" href='https://www.facebook.com/homeassistantio' title="Facebook"><i class="icon-facebook"></i></a>
            <a rel="me" href='https://github.com/home-assistant/home-assistant' title="GitHub"><i class="icon-github"></i></a>
          </div>
        </div>

        <div class='grid__item one-third lap-one-half palm-one-whole'>
          <ul>
            <li><a href='https://alerts.home-assistant.io'>Home Assistant Alerts</a></li>
            <li><a href='https://developers.home-assistant.io'>Developers</a></li>
            <li><a href='https://data.home-assistant.io'>Data Science</a></li>
            <li><a href='mailto:hello@home-assistant.io'>Contact</a> (no support!)</li>
            <li><a href='/security/'>Security Vulnerabilities</a></li>
            <li><a href='/privacy/'>Privacy</a></li>
            <li><a href='https://status.home-assistant.io'>System Status</a></li>
          </ul>
        </div>

        <div class='grid__item one-third lap-one-half palm-one-whole'>
          이 웹사이트는 <a href='https://jekyllrb.com/'>지킬</a>과
          <a href='https://github.com/coogie/oscailte'>Oscalite 테마</a>를 사용합니다.
          Hosted by <a href='https://www.netlify.com/'>Netlify</a>.
        </div>
      </div>
    </div>
  </div>
</div>

    </footer>

    <script>
var _gaq=[['_setAccount','UA-57927901-1'],['_trackPageview']];
(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

<script src="/javascripts/prism.js?5d6619066a1fc5cd819a93c132b539ac" type="text/javascript"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript">
docsearch({
  apiKey: 'ae96d94b201c5444c8a443093edf3efb',
  indexName: 'home-assistant',
  inputSelector: '#search',
  debug: false // Set debug to true if you want to inspect the dropdown
});
document.querySelector('.search .close').addEventListener('click', function(ev) {
  ev.preventDefault();
  document.querySelector('.search-container').style.display = 'none';
});
document.querySelector('.show-search').addEventListener('click', function(ev) {
  ev.preventDefault();
  document.querySelector('.search-container').style.display = 'block';
  document.getElementById('toggle').checked = false;
  document.querySelector('.search-container input').focus();
});
</script>

  </body>
</html>
