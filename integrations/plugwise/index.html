<!doctype html>
  <!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html lang="en" class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html lang="en"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Plugwise Anna - 홈어시스턴트</title>
    <meta name="author" content="Home Assistant">
    <meta name="description" content="Plugwise Climate integration.">
    
    <meta name="viewport" content="width=device-width">
    <link rel="canonical" href="https://hakorea.github.io/integrations/plugwise/">

    <meta property="fb:app_id" content="">
    <meta property="og:title" content="Plugwise Anna">
    <meta property="og:site_name" content="홈어시스턴트">
    <meta property="og:url" content="https://hakorea.github.io/integrations/plugwise/">
    <meta property="og:type" content="article">
    <meta property="og:description" content="Plugwise Climate integration.">
    <meta property="og:image" content="https://hakorea.github.io/images/default-social.png">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@">
    
    <meta name="twitter:title" content="Plugwise Anna">
    <meta name="twitter:description" content="Plugwise Climate integration.">
    <meta name="twitter:image" content="https://hakorea.github.io/images/default-social.png">

    <link href="/stylesheets/prism.css?8acb84bc0387c9548a63998fcfea0139" rel="stylesheet">
    <link href="/stylesheets/screen.css?0a23d70030bf362ca935e76ccc50922c" media="screen, projection, print" rel="stylesheet">
    <link href="/atom.xml" rel="alternate" title="홈어시스턴트" type="application/atom+xml">
    <link rel='shortcut icon' href='/images/favicon.ico' />
    <link rel='icon' type='image/png' href='/images/favicon-192x192.png' sizes='192x192' />
  </head>

  <body >

    <header class='site-header'>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item three-tenths lap-two-sixths palm-one-whole ha-title">
      <a href="/" class="site-title">
        <img src="/images/home-assistant-logo.png" width="36" height="36" alt="Home Assistant">
        <span>홈어시스턴트</span>
      </a>
    </div>

    <div class="grid__item seven-tenths lap-four-sixths palm-one-whole">
      <nav>
        <input type="checkbox" id="toggle">
        <label for="toggle" class="toggle" data-open="Main Menu" data-close="Close Menu"></label>
        <ul class="menu pull-right">
            
            <li><a href="/getting-started/">시작하기</a></li>
            <li><a href="/integrations/">통합구성요소</a></li>
            <li><a href="/docs/">문서</a></li>
            <li><a href="/cookbook/">예제</a></li>
            <li><a href='#' class='show-search'><i class="icon-search"></i></a></li>
            <li>KOREAN(not official)</li>
        </ul>
      </nav>

      <div class='search-container' style='display: none'>
        <div class='search'>
          <i class="icon-search"></i>
          <input id='search' placeholder='Search the docs…'>
          <a href='#' class='close'><i class="icon-remove-sign"></i></a>
        </div>
      </div>
    </div>
  </div>
</div>

    </header>

    

    <div class="grid-wrapper">
      <div class="grid grid-center">
        
        <div class="grid__item two-thirds lap-one-whole palm-one-whole">
        

          
            <article class="page">
  
  
    

<div class="edit-github"><a href="https://github.com/hakorea/gitpages_source/blob/master/source/_integrations/plugwise.markdown" rel="external nofollow">깃허브 편집</a></div>


  

  
  <header>
    <h1 class="title indent">
      Plugwise Anna
    </h1>
  </header>
  <hr class="divider">
  

  <p>This enables <a href="https://plugwise.com" rel="external nofollow">Plugwise</a> <a href="https://www.plugwise.com/en_US/products/anna" rel="external nofollow">Anna</a> thermostats to be integrated. This integration talks locally to your <strong>Smile</strong> interface, and you will need its password and IP address.</p>
<p>The password can be found on the bottom of your Smile, it should consist of 6 characters. To find your IP address use the Plugwise App:</p>
<ul>
<li>Open the Plugwise App and choose the ‘Settings’-icon (☰) and choose ‘HTML-interface’.</li>
<li>Go to the (lower) ‘Settings’-icon (☰) and choose ‘Preferences’.</li>
<li>Choose ‘System’ then ‘Networking’ and your IP address will be shown.</li>
</ul>
<h2>
<a class="title-link" name="configuration" href="#configuration"></a> Configuration</h2>
<p>You have to add the following to your configuration.yaml file:</p>
<pre><code class="language-yaml"># Minimal configuration.yaml entry
climate:
  - platform: plugwise
    password: YOUR_SHORT_IP 
    host: YOUR_SMILE_LOCAL_IP
</code></pre>
<p><strong>Please note</strong>: for a legacy Anna (firmware 1.8.x) an additional line is required, see below, this line is not needed for a more recent Anna (firmware 3.1.x).</p>
<div class="config-vars">
  <h3>
<a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class="">
<dt>
<a class="title-link" name="password" href="#password"></a> password</dt>
<dd><p class="desc"><span class="type">(<span class="string">string</span>)</span><span class="required">(Required)</span><span class="description"><p>Your Smile ID (located on the bottom of the Smile, not the Anna).</p>
</span></p></dd>
<dt>
<a class="title-link" name="host" href="#host"></a> host</dt>
<dd><p class="desc"><span class="type">(<span class="string">string</span>)</span><span class="required">(Required)</span><span class="description"><p>The IP address of your Smile.</p>
</span></p></dd>
<dt>
<a class="title-link" name="name" href="#name"></a> name</dt>
<dd>
<p class="desc"><span class="type">(<span class="string">string</span>)</span><span class="required">(Optional)</span><span class="description"><p>The name of your thermostat, i.e., “Anna”.</p>
</span></p>
<p class="default">
Default value: </p>
<p>Plugwise Thermostat</p>
</dd>
<dt>
<a class="title-link" name="username" href="#username"></a> username</dt>
<dd>
<p class="desc"><span class="type">(<span class="string">string</span>)</span><span class="required">(Optional)</span><span class="description"><p>Should you ever need to change this, you can.</p>
</span></p>
<p class="default">
Default value: </p>
<p>smile</p>
</dd>
<dt>
<a class="title-link" name="port" href="#port"></a> port</dt>
<dd>
<p class="desc"><span class="type">(<span class="integer">integer</span>)</span><span class="required">(Optional)</span><span class="description"><p>When having a custom setup, you can change the port number.</p>
</span></p>
<p class="default">
Default value: </p>
<p>80</p>
</dd>
<dt>
<a class="title-link" name="legacy_anna" href="#legacy_anna"></a> legacy_anna</dt>
<dd>
<p class="desc"><span class="type">(<span class="boolean">boolean</span>)</span><span class="required">(Optional)</span><span class="description"><p>Indicate that the Anna is a legacy unit</p>
</span></p>
<p class="default">
Default value: </p>
<p>false</p>
</dd>
<dt>
<a class="title-link" name="min_temp" href="#min_temp"></a> min_temp</dt>
<dd>
<p class="desc"><span class="type">(<span class="integer">integer</span>)</span><span class="required">(Optional)</span><span class="description"><p>If you want to adjust the lower boundary, the integration will not allow temperatures below the set value.</p>
</span></p>
<p class="default">
Default value: </p>
<p>4</p>
</dd>
<dt>
<a class="title-link" name="max_temp" href="#max_temp"></a> max_temp</dt>
<dd>
<p class="desc"><span class="type">(<span class="integer">integer</span>)</span><span class="required">(Optional)</span><span class="description"><p>If you want to adjust the upper boundary, the integration will not allow temperatures above the set value.</p>
</span></p>
<p class="default">
Default value: </p>
<p>30</p>
</dd>
</dl>
</div>
<h3>
<a class="title-link" name="full-configuration-example" href="#full-configuration-example"></a> Full configuration example</h3>
<pre><code class="language-yaml">climate:
  - platform: plugwise
    name: YOUR_THERMOSTAT_NAME
    password: YOUR_SHORT_ID
    host: YOUR_SMILE_LOCAL_IP
    port: YOUR_SMILE_PORT_NUMBER
    legacy_anna: true
    min_temp: YOUR_MINIMAL_TARGET_TEMPERATURE
    max_temp: YOUR_MAXIMAL_TARGET_TEMPERATURE
</code></pre>
<h3>
<a class="title-link" name="service" href="#service"></a> Service</h3>
<h4>
<a class="title-link" name="set-hvac-mode-schedule" href="#set-hvac-mode-schedule"></a> Set HVAC mode (schedule)</h4>
<p>Service: <code>climate.set_hvac_mode</code></p>
<p>Available options include <code>auto</code> or <code>off</code>. The meaning of <code>auto</code> is that a schedule is active and the thermostat will change presets accordingly. The meaning of <code>off</code> is that there is no schedule active, i.e., the active preset or manually set temperature is to be used to control the climate of your house or rooms.
The last schedule that was active is determined the same way long-tapping the top of Anna works.</p>
<p>Example:</p>
<pre><code class="language-yaml"># Example script change the temperature
script:
  anna_reactive_last_schedule:
    sequence:
      - service: climate.set_hvac_mode
        data:
          hvac_mode: auto
</code></pre>
<p>Changing the active schedule can be done, though not easily:</p>
<ul>
<li>Deactivate the schedule (press the power button on the UI-card).</li>
<li>Look up the available schemas in the <code>states</code> view (attribute <code>available_schemas</code>).</li>
<li>Change the attribute <code>active_schema</code> to the actual name of your schema as available from the above attribute or your Plugwise App.</li>
<li>Activate the schedule (press the calendar button on the UI-card).</li>
</ul>
<h4>
<a class="title-link" name="set-temperature" href="#set-temperature"></a> Set temperature</h4>
<p>Service: <code>climate.set_temperature</code></p>
<p>Example:</p>
<pre><code class="language-yaml"># Example script change the temperature
script:
  anna_set_predefined_temperature:
    sequence:
      - service: climate.set_temperature
        data:
          temperature: 19.5
</code></pre>
<h4>
<a class="title-link" name="set-preset-mode" href="#set-preset-mode"></a> Set preset mode</h4>
<p>Service: <code>climate.set_preset_mode</code></p>
<p>Available options include: <code>home</code>, <code>vacation</code>, <code>no_frost</code>, <code>asleep</code> &amp; <code>away</code>.</p>
<p>Example:</p>
<pre><code class="language-yaml"># Example script changing the active (or currently set by schedule) preset
script:
  anna_activate_preset_asleep:
    sequence:
      - service: climate.set_preset_mode
        data:
          preset_mode: asleep
</code></pre>
<h3>
<a class="title-link" name="troubleshooting" href="#troubleshooting"></a> Troubleshooting</h3>
<p>Example of a working configuration excerpt (with debugging enabled):</p>
<pre><code class="language-txt">[homeassistant.loader] Loaded plugwise from custom_components.plugwise
[homeassistant.loader] You are using a custom integration for plugwise which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you do experience issues with Home Assistant.
[custom_components.plugwise.climate] Plugwise: custom component loading (Anna PlugWise climate)
[homeassistant.components.climate] Setting up climate.plugwise
[custom_components.plugwise.climate] Init called
[custom_components.plugwise.climate] Initializing API
[custom_components.plugwise.climate] platform ready
[custom_components.plugwise.climate] Update called
</code></pre>
<p>Example of something going wrong (IP address not set) excerpt is shown below. Correct your configuration and try again. If the errors persist, please share a larger excerpt of your logfile.</p>
<pre><code class="language-txt">1970-01-01 00:00:01 ERROR (MainThread) [homeassistant.components.climate] Error while setting up platform plugwise
  File "/home/homeassistant/.homeassistant/custom_components/plugwise/climate.py", line 104, in setup_platform
  File "/home/homeassistant/.homeassistant/custom_components/plugwise/climate.py", line 130, in __init__
    self._api = Haanna(self._username, self._password, self._host, self._port)
</code></pre>


</article>

          
        </div>

        
        <aside id="sidebar" class="grid__item one-third lap-one-whole palm-one-whole">
          <div class="grid">
  
  
    <section class="aside-module grid__item one-whole lap-one-half">

<div class='edit-github'><a href='https://github.com/hakorea/gitpages_source/blob/master/source/_integrations/plugwise.markdown'>깃허브 편집</a></div>

<div class='brand-logo-container section'><img src='/images/supported_brands/plugwise.png' /></div><div class="section">
    <kb-alert-link integration="plugwise"></kb-alert-link>
  </div><div class='section'>
      IoT class<sup><a href='/blog/2016/02/12/classifying-the-internet-of-things/#classifiers'><i class="icon-info-sign"></i></a></sup>: Local Polling
    </div><div class='section'>
      Introduced in release: 0.98
    </div><div class='section'>
    Source: <a href='https://github.com/home-assistant/home-assistant/blob/dev/homeassistant/components/plugwise/'>/components/plugwise/</a>
  </div></section>

<script src="https://alerts.home-assistant.io/ce-alert-link.js"></script>

  
</div>

        </aside>
        
      </div>
    </div>

    <footer>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <div class="copyright grid">
        <div class='company grid__item one-third lap-one-half palm-one-whole'>
          <div class="title">
            <img src="/images/home-assistant-logo.png" width="36" height="36" alt="Home Assistant"> 홈어시스턴트
          </div>
        </div>

        <div class='grid__item one-third lap-one-half palm-one-whole'>
          <ul>
            <li><a href='https://alerts.home-assistant.io'>Home Assistant Alerts</a></li>
            <li><a href='https://cafe.naver.com/koreassistant'>HA 네이버 카페</a></li>
          </ul>
        </div>

        <div class='grid__item one-third lap-one-half palm-one-whole'>
          이 웹사이트는 <a href='https://jekyllrb.com/'>Jekyll</a>과
          <a href='https://github.com/coogie/oscailte'>Oscalite 테마</a>를 사용합니다.
        </div>
      </div>
    </div>
  </div>
</div>

    </footer>

    <script>
var _gaq=[['_setAccount',''],['_trackPageview']];
(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

<script src="/javascripts/prism.js?5d6619066a1fc5cd819a93c132b539ac" type="text/javascript"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript">
docsearch({
  apiKey: 'ae96d94b201c5444c8a443093edf3efb',
  indexName: 'home-assistant',
  inputSelector: '#search',
  debug: false // Set debug to true if you want to inspect the dropdown
});
document.querySelector('.search .close').addEventListener('click', function(ev) {
  ev.preventDefault();
  document.querySelector('.search-container').style.display = 'none';
});
document.querySelector('.show-search').addEventListener('click', function(ev) {
  ev.preventDefault();
  document.querySelector('.search-container').style.display = 'block';
  document.getElementById('toggle').checked = false;
  document.querySelector('.search-container input').focus();
});
</script>

  </body>
</html>
