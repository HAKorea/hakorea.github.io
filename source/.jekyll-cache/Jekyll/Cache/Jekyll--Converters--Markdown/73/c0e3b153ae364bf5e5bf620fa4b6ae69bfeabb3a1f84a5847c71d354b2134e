I"ç<p>The <code>yamaha</code> platform allows you to control <a href="https://usa.yamaha.com/products/audio-visual/av-receivers-amps/rx">Yamaha Network Receivers</a> from Home Assistant.</p>
<p>Supported devices:</p>
<ul>
<li><a href="https://www.yamaha.com/cchtr4065/">HTR-4065</a></li>
<li><a href="https://ca.yamaha.com/en/products/audio_visual/av_receivers_amps/rx-v473/specs.html">RX-V473</a></li>
<li><a href="https://ca.yamaha.com/en/products/audio_visual/av_receivers_amps/rx-v573/specs.html">RX-V573</a></li>
<li><a href="https://ca.yamaha.com/en/products/audio_visual/av_receivers_amps/rx-v673/specs.html">RX-V673</a></li>
<li><a href="https://ca.yamaha.com/en/products/audio_visual/av_receivers_amps/rx-v773/specs.html">RX-V773</a></li>
<li>And more</li>
</ul>
<p>To add a Yamaha Network Receiver to your installation, add the following to your <code>configuration.yaml</code> file:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
media_player:
  - platform: yamaha
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='name' href='#name'></a> name</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Name of the device. This overrides the default name (often model number) that is returned by the device.</p>
</span></p></dd><dt><a class='title-link' name='host' href='#host'></a> host</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>IP address or hostname of the device.</p>
</span></p></dd><dt><a class='title-link' name='source_ignore' href='#source_ignore'></a> source_ignore</dt><dd><p class='desc'><span class='type'>(<span class='list'>list</span>)</span><span class='required'>(Optional)</span><span class='description'><p>List of sources to hide in the front-end.</p>
</span></p></dd><dt><a class='title-link' name='source_names' href='#source_names'></a> source_names</dt><dd><p class='desc'><span class='type'>(<span class='list'>list</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Mapping of internal AVR source names to custom ones, allowing one to rename e.g., <code>HDMI1</code> to <code>ChromeCast</code>.</p>
</span></p></dd><dt><a class='title-link' name='zone_ignore' href='#zone_ignore'></a> zone_ignore</dt><dd><p class='desc'><span class='type'>(<span class='list'>list</span>)</span><span class='required'>(Optional)</span><span class='description'><p>List of zones to hide in the front-end.</p>
</span></p></dd><dt><a class='title-link' name='zone_names' href='#zone_names'></a> zone_names</dt><dd><p class='desc'><span class='type'>(<span class='list'>list</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Mapping of zone names to custom ones, allowing one to rename e.g., <code>Main_Zone</code> to <code>Family Room</code>.</p>
</span></p></dd></dl>
</div>
<h3>Discovery notes</h3>
<ul>
<li>If the <code>discovery</code> integration is enabled, all units on the network
will be discovered using UPNP.</li>
<li>For receivers that support more than one zone, Home Assistant will
add one media player per zone supported by the player, named ‚Äú$name
Zone 2‚Äù and ‚Äú$name Zone 3‚Äù.</li>
<li>If you specify <code>host</code> manually, you <strong>must</strong> enable network standby
on your receiver, or else startup of Home Assistant will hang if you
have your receiver switched off.</li>
<li>In some cases, auto-discovery fails due to a known bug in the
receiver‚Äôs firmware. It is possible to manually specify the
receiver‚Äôs IP address or via its hostname (if it is discoverable by
your DNS) then.</li>
</ul>
<h3>Supported operations</h3>
<ul>
<li>Media players created by yamaha support powering on/off, mute,
volume control and source selection. Playback controls, for instance
play and stop are available for sources that supports it.</li>
<li>The <code>play_media</code> service is implemented for <code>NET RADIO</code> source
only. The <code>media_id</code> is a <code>&gt;</code> separated string of the menu path on
the vtuner service. For instance <code>Bookmarks&gt;Internet&gt;WAMC 90.3 FM</code>.</li>
</ul>
<h3>Example configuration</h3>
<p>A full configuration example will look like the sample below:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
media_player:
  - platform: yamaha
    host: 192.168.0.10
    source_ignore:
      - &quot;AUX&quot;
      - &quot;HDMI6&quot;
    source_names:
      HDMI1: &quot;ChromeCast&quot;
      AV4: &quot;Vinyl&quot;
    zone_ignore:
      - &quot;Zone_2&quot;
    zone_names:
      Main_Zone: &quot;Family Room&quot;
</code></pre>
<h3>Example <code>play_media</code> script</h3>
<p>The <code>play_media</code> function can be used in scripts easily to build media
player presets. When done in scripts, the sequence will also allow you
to set volume per source.</p>
<pre><code class="language-yaml"># Example play_media script
#
# This is for an environment where Zone 2 of the receiver named
# `Living Room Stereo` drives outdoor speakers on the porch.
script:
 rp_porch:
    alias: &quot;Radio Paradise Porch&quot;
    sequence:
      - service: media_player.turn_on
        data:
          entity_id: media_player.living_room_stereo_zone_2
      - service: media_player.volume_set
        data:
          entity_id: media_player.living_room_stereo_zone_2
          volume_level: 0.48
      - service: media_player.play_media
        data:
          entity_id: media_player.living_room_stereo_zone_2
          media_content_type: &quot;NET RADIO&quot;
          media_content_id: &quot;Bookmarks&gt;Internet&gt;Radio Paradise&quot;

</code></pre>
<h3>Service <code>enable_output</code></h3>
<p>Enable or disable an output port (HDMI) on the receiver.</p>
<table>
<thead>
<tr>
<th>Service data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>yes</td>
<td>String or list of strings that point at <code>entity_id</code>s of Yamaha receivers.</td>
</tr>
<tr>
<td><code>port</code></td>
<td>no</td>
<td>Port to enable or disable, e.g., <code>hdmi1</code>.</td>
</tr>
<tr>
<td><code>enabled</code></td>
<td>no</td>
<td>To enable set true, otherwise set to false.</td>
</tr>
</tbody>
</table>
:ET