I"<h4>Sonos say script to speak with text-to-speech</h4>
<p>This script allows you to use <a href="/integrations/#text-to-speech">TTS</a> on Sonos.</p>
<pre><code class="language-yaml">script:
  sonos_say:
    alias: &quot;Sonos TTS script&quot;
    sequence:
     - service: sonos.snapshot
       data_template:
         entity_id: &quot;{{ sonos_entity }}&quot;
     - service: sonos.unjoin
       data_template:
         entity_id: &quot;{{ sonos_entity }}&quot;
     - service: media_player.volume_set
       data_template:
         entity_id: &quot;{{ sonos_entity }}&quot;
         volume_level: &quot;{{ volume }}&quot;
     - service: tts.voicerss_say
       data_template:
         entity_id: &quot;{{ sonos_entity }}&quot;
         message: &quot;{{ message }}&quot;
     - delay: &quot;{{ delay }}&quot;
     - service: sonos.restore
       data_template:
         entity_id: &quot;{{ sonos_entity }}&quot;
</code></pre>
<p>We call this now with:</p>
<pre><code class="language-yaml">automation:
  - alias: 'test'
    trigger:
      - platform: state
        entity_id: input_boolean.mytest
    action:
      - service: script.sonos_say
        data:
          sonos_entity: media_player.office
          volume: 0.5
          message: 'Your husband coming home!'
          delay: '00:00:05'
</code></pre>
<p>Note that this example uses the <code>voicerss</code> text-to-speech platform. There are many platforms that can be used. The one installed by default with Home Assistant is Google TTS. This appears in your <code>configuration.yaml</code> file as:</p>
<pre><code class="language-yaml">tts:
  - platform: google_translate
</code></pre>
<p>If you want to use this TTS engine, change the line in the example provided to:</p>
<pre><code class="language-txt">- service: tts.google_translate_say
</code></pre>
:ET