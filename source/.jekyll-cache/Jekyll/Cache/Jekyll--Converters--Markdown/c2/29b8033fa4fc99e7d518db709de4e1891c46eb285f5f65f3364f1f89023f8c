I"Ö#<p>The <code>zoneminder</code> integration sets up Home Assistant with your <a href="https://www.zoneminder.com">ZoneMinder</a> instance.</p>
<p>There is currently support for the following device types within Home Assistant:</p>
<ul>
<li><a href="#binary-sensor">Binary Sensor</a></li>
<li><a href="#camera">Camera</a></li>
<li><a href="#sensor">Sensor</a></li>
<li><a href="#switch">Switch</a></li>
</ul>
<h2>Configuration</h2>
<pre><code class="language-yaml"># Example configuration.yaml entry
zoneminder:
  - host: ZM_HOST
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='host' href='#host'></a> host</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>Your ZoneMinder server‚Äôs host (and optional port), not including the scheme.</p>
</span></p></dd><dt><a class='title-link' name='path' href='#path'></a> path</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Path to your ZoneMinder install.</p>
</span></p><p class='default'>
Default value: <p><code>/zm/</code></p>
</p></dd><dt><a class='title-link' name='path_zms' href='#path_zms'></a> path_zms</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Path to the CGI script for streaming. This should match <code>PATH_ZMS</code> in ZM‚Äôs ‚ÄúPaths‚Äù settings.</p>
</span></p><p class='default'>
Default value: <p><code>/zm/cgi-bin/nph-zms</code></p>
</p></dd><dt><a class='title-link' name='ssl' href='#ssl'></a> ssl</dt><dd><p class='desc'><span class='type'>(<span class='boolean'>boolean</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Set to <code>true</code> if your ZoneMinder installation is using SSL.</p>
</span></p><p class='default'>
Default value: <p>false</p>
</p></dd><dt><a class='title-link' name='verify_ssl' href='#verify_ssl'></a> verify_ssl</dt><dd><p class='desc'><span class='type'>(<span class='boolean'>boolean</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Verify the certification of the endpoint.</p>
</span></p><p class='default'>
Default value: <p>true</p>
</p></dd><dt><a class='title-link' name='username' href='#username'></a> username</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Your ZoneMinder username.</p>
</span></p></dd><dt><a class='title-link' name='password' href='#password'></a> password</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Your ZoneMinder password. Required if <code>OPT_USE_AUTH</code> is enabled in ZM.</p>
</span></p></dd></dl>
</div>
<h3>Full configuration</h3>
<pre><code class="language-yaml"># Example configuration.yaml entry
zoneminder:
  - host: ZM_HOST
    path: ZM_PATH
    path_zms: ZM_PATH_ZMS
    ssl: true
    verify_ssl: true
    username: YOUR_USERNAME
    password: YOUR_PASSWORD
</code></pre>
<h3>Service</h3>
<p>Once loaded, the <code>zoneminder</code> platform will expose a service (<code>set_run_state</code>) that can be used to change the current run state of ZoneMinder.</p>
<table>
<thead>
<tr>
<th align="left">Service data attribute</th>
<th align="left">Optional</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>id</code></td>
<td align="left">no</td>
<td align="left">Host of the ZoneMinder instance.</td>
</tr>
<tr>
<td align="left"><code>name</code></td>
<td align="left">no</td>
<td align="left">Name of the new run state to set.</td>
</tr>
</tbody>
</table>
<p>For example, if your ZoneMinder instance was configured with a run state called ‚ÄúHome‚Äù, you could write an <a href="/getting-started/automation/">automation</a> that changes ZoneMinder to the ‚ÄúHome‚Äù run state by including the following <a href="/getting-started/automation-action/">action</a>:</p>
<pre><code class="language-yaml">action:
 service: zoneminder.set_run_state
 data:
   id: ZM_HOST
   name: Home
</code></pre>
<h2>Binary Sensor</h2>
<p>The <code>zoneminder</code> binary sensor platform lets you monitor the availability of your <a href="https://www.zoneminder.com">ZoneMinder</a> install.</p>
<p>Each binary_sensor created will be named after the hostname used when configuring the <a href="/integrations/zoneminder/">ZoneMinder component</a>.</p>
<h2>Camera</h2>
<p>The <code>zoneminder</code> camera platform lets you monitor the current stream of your <a href="https://www.zoneminder.com">ZoneMinder</a> cameras.</p>
<h3>Configuration</h3>
<p>To set it up, add the following information to your <code>configuration.yaml</code> file:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
camera:
  - platform: zoneminder
</code></pre>
<h2>Sensor</h2>
<p>The <code>zoneminder</code> sensor platform lets you monitor the current state of your <a href="https://www.zoneminder.com">ZoneMinder</a> install including the number of events, the current state of the cameras and ZoneMinder‚Äôs current run state.</p>
<p>To set it up, add the following information to your <code>configuration.yaml</code> file:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
sensor:
  - platform: zoneminder
    include_archived: false
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='include_archived' href='#include_archived'></a> include_archived</dt><dd><p class='desc'><span class='type'>(<span class='boolean'>boolean</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Whether to include archived ZoneMinder events in event counts.</p>
</span></p><p class='default'>
Default value: <p>false</p>
</p></dd><dt><a class='title-link' name='monitored_conditions' href='#monitored_conditions'></a> monitored_conditions</dt><dd><p class='desc'><span class='type'>(<span class='list'>list</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Event count sensors to display in the frontend.</p>
</span></p></dd><dd><dl class='nested'><dt><a class='title-link' name='all' href='#all'></a> all</dt><dd><p class='desc'><span class='description'><p>All events.</p>
</span></p></dd><dt><a class='title-link' name='month' href='#month'></a> month</dt><dd><p class='desc'><span class='description'><p>Events in the last month.</p>
</span></p></dd><dt><a class='title-link' name='week' href='#week'></a> week</dt><dd><p class='desc'><span class='description'><p>Events in the last week.</p>
</span></p></dd><dt><a class='title-link' name='day' href='#day'></a> day</dt><dd><p class='desc'><span class='description'><p>Events in the last day.</p>
</span></p></dd><dt><a class='title-link' name='hour' href='#hour'></a> hour</dt><dd><p class='desc'><span class='description'><p>Events in the last hour.</p>
</span></p></dd></dl></dd></dl>
</div>
<h2>Switch</h2>
<p>The <code>zoneminder</code> switch platform allows you to toggle the current function of all cameras attached to your <a href="https://www.zoneminder.com">ZoneMinder</a> instance.</p>
<div class='note'>
<p>You must have the <a href="/integrations/zoneminder/">ZoneMinder component</a> configured to use this and if ZoneMinder authentication is enabled the account specified in the integration configuration must have ‚ÄúEdit‚Äù permission for ‚ÄúSystem‚Äù.</p>
</div>
<p>To enable this switch, add the following lines to your <code>configuration.yaml</code> file:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
switch:
  - platform: zoneminder
    command_on: Modect
    command_off: Monitor
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='command_on' href='#command_on'></a> command_on</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>The function you want the camera to run when turned on.</p>
</span></p></dd><dt><a class='title-link' name='command_off' href='#command_off'></a> command_off</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>The function you want the camera to run when turned off.</p>
</span></p></dd></dl>
</div>
<div class='note'>
The default functions installed by ZoneMinder are: None, Monitor, Modect, Record, Mocord, Nodect.
</div>
:ET