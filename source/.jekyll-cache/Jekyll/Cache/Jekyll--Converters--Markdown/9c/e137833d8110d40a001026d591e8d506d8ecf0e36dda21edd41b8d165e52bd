I"<p>The <code>proximity</code> integration allows you to monitor the proximity of devices to a particular <a href="/integrations/zone/">zone</a> and the direction of travel. The result is an entity created in Home Assistant which maintains the proximity data.</p>
<p>This integration is useful to reduce the number of automation rules required when wanting to perform automations based on locations outside a particular zone. The <a href="/getting-started/automation-trigger/#zone-trigger">zone</a> and <a href="/getting-started/automation-trigger/#state-trigger">state</a> based triggers allow similar control but the number of rules grows exponentially when factors such as direction of travel need to be taken into account.</p>
<p>Some examples of its use include:</p>
<ul>
<li>Increase thermostat temperature as you near home</li>
<li>Decrease temperature the further away from home you travel</li>
</ul>
<p>The Proximity entity which is created has the following values:</p>
<ul>
<li><code>state</code>: Distance from the monitored zone (in km)</li>
<li><code>dir_of_travel</code>: Direction of the closest device to the monitored zone. Values are:
<ul>
<li>‘not set’</li>
<li>‘arrived’</li>
<li>‘towards’</li>
<li>‘away_from’</li>
<li>‘unknown’</li>
<li>‘stationary’</li>
</ul>
</li>
<li><code>dist_to_zone</code>: Distance from the monitored zone (in km)</li>
<li><code>unit_of_measurement</code>: Measurement of distance. Values are:
<ul>
<li>‘km’</li>
<li>‘m’</li>
<li>‘mi’</li>
<li>‘ft’</li>
</ul>
</li>
<li><code>nearest</code>: The device which is nearest to the zone</li>
</ul>
<p>To enable this integration in your installation, add the following to your <code>configuration.yaml</code> file:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
proximity:
  home: 
    ignored_zones:
      - twork
    devices:
      - device_tracker.car1
    tolerance: 50
    unit_of_measurement: mi
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='zone' href='#zone'></a> zone</dt><dd><p class='desc'><span class='type'>(<span class='map'>map</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The zone to which this integration is measuring the distance to. Default is the home zone.</p>
</span></p></dd><dd><dl class='nested'><dt><a class='title-link' name='ignored_zones' href='#ignored_zones'></a> ignored_zones</dt><dd><p class='desc'><span class='type'>(<span class='list'>list</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Where proximity is not calculated for a device (either the device being monitored or ones being compared (e.g., work or school).</p>
</span></p></dd><dt><a class='title-link' name='devices' href='#devices'></a> devices</dt><dd><p class='desc'><span class='type'>(<span class='list'>list</span>)</span><span class='required'>(Optional)</span><span class='description'><p>A list of devices to compare location against to check closeness to the configured zone.</p>
</span></p></dd><dt><a class='title-link' name='tolerance' href='#tolerance'></a> tolerance</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The tolerance used to calculate the direction of travel in meters (m) to filter out small GPS coordinate changes.</p>
</span></p></dd><dt><a class='title-link' name='unit_of_measurement' href='#unit_of_measurement'></a> unit_of_measurement</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The unit of measurement for distance. Valid values are (km, m, mi, ft) [kilometers, meters, miles and feet respectively].</p>
</span></p><p class='default'>
Default value: <p>km</p>
</p></dd></dl></dd></dl>
</div>
<p>To add multiple proximity components, simply use a list in your <code>configuration.yaml</code> file:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
proximity:
  home:
    ignored_zones:
      - work
      - school
    devices:
      - device_tracker.car1
      - device_tracker.iphone1
      - device_tracker.iphone2
    tolerance: 50
    unit_of_measurement: mi
  home3:
    zone: home3
    devices:
      - device_tracker.iphone1
    tolerance: 50
  work:
    zone: work
    devices:
      - device_tracker.iphone2
    tolerance: 10
</code></pre>
:ET