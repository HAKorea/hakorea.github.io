I"Í<p>The MQTT notification support is different than the other <a href="/integrations/notify/">notification</a> platforms. It is a service. This means that you donâ€™t have to create a configuration entry but you need to provide more details when calling the service.</p>
<p><strong>Call Service</strong> section from the <img src='/images/screenshots/developer-tool-services-icon.png' alt='service developer tool icon' class="no-shadow" height="38" /> <strong>Developer Tools</strong> allows you to send MQTT messages. Choose <em>mqtt.publish</em>  from the list of <strong>Available services:</strong> and enter something like the sample below into the <strong>Service Data</strong> field and hit <strong>CALL SERVICE</strong>.</p>
<pre><code class="language-json">{&quot;payload&quot;: &quot;Test message from HA&quot;, &quot;topic&quot;: &quot;home/notification&quot;, &quot;qos&quot;: 0, &quot;retain&quot;: 0}
</code></pre>
<p class='img'>
  <img src='/images/screenshots/mqtt-notify.png' />
</p>
<p>The same will work for automations.</p>
<p class='img'>
  <img src='/images/screenshots/mqtt-notify-action.png' />
</p>
<h2>Examples</h2>
<h3>REST API</h3>
<p>Using the <a href="https://developers.home-assistant.io/docs/en/external_api_rest.html">REST API</a> to send a message to a given topic.</p>
<pre><code class="language-bash">$ curl -X POST \
    -H &quot;Authorization: Bearer ABCDEFGH&quot; \
    -H &quot;Content-Type: application/json&quot; \
    -d '{&quot;payload&quot;: &quot;Test message from HA&quot;, &quot;topic&quot;: &quot;home/notification&quot;}' \
    http://IP_ADDRESS:8123/api/services/mqtt/publish
</code></pre>
<h3>Automations</h3>
<p>Use as <a href="/integrations/script/"><code>script</code></a> in automations.</p>
<pre><code class="language-yaml">automation:
  alias: Send me a message when I get home
  trigger:
    platform: state
    entity_id: device_tracker.me
    to: 'home'
  action:
    service: script.notify_mqtt
    data:
      target: &quot;me&quot;
      message: &quot;I'm home&quot;

script:
  notify_mqtt:
    sequence:
      - service: mqtt.publish
        data_template:
          payload: &quot;{{ message }}&quot;
          topic: home/&quot;{{ target }}&quot;
          retain: true
</code></pre>
:ET