I"l<p>The <code>tradfri</code> integration allows you to connect your IKEA Trådfri Gateway to Home Assistant. The gateway can control compatible Zigbee-based lights (certified Zigbee Light Link products) connected to it. Home Assistant will automatically discover the gateway’s presence on your local network if <code>discovery:</code> is present in your <code>configuration.yaml</code> file.</p>
<p>You will be prompted to configure the gateway through the Home Assistant interface. The configuration process is very simple: when prompted, enter the security key printed on the sticker on the bottom of the IKEA Trådfri Gateway, then click <em>configure</em>.</p>
<div class='note'>
If you see an "Unable to connect" message, restart the gateway and try again. Don't forget to assign a permanent IP address to your IKEA Trådfri Gateway on your router or DHCP server.
</div>
<h2>Configuration</h2>
<p>You can add the following to your <code>configuration.yaml</code> file if you are not using the <a href="/integrations/discovery/"><code>discovery:</code></a> component:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
tradfri:
  host: IP_ADDRESS
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='host' href='#host'></a> host</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>The IP address or hostname of your IKEA Trådfri Gateway.</p>
</span></p></dd><dt><a class='title-link' name='allow_tradfri_groups' href='#allow_tradfri_groups'></a> allow_tradfri_groups</dt><dd><p class='desc'><span class='type'>(<span class='boolean'>boolean</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Set this to <code>true</code> to allow Home Assistant to import the groups defined on the IKEA Trådfri Gateway.</p>
</span></p><p class='default'>
Default value: <p>false</p>
</p></dd></dl>
</div>
<h2>Troubleshooting</h2>
<h3>Firmware updates</h3>
<p>After updating your IKEA Trådfri Gateway firmware it might be necessary to repeat the configuration process. One error you might experience after a firmware update is <code>Fatal DTLS error: code 115</code>. If you encounter problems:</p>
<ul>
<li>when configured using the integration: remove the integration through Settings &gt; Integrations &gt; Tradfri &gt; delete (trash can icon)</li>
<li>with manual configuration: delete the <code>.tradfri_psk.conf</code> file in your <code>/.homeassistant</code> directory (<code>/config</code> directory if using Hass.io or Docker)</li>
</ul>
<p>Then restart Home Assistant. When prompted, enter the security key and click <em>configure</em>, just like during initial setup.</p>
<h3>Compilation issues</h3>
<div class='note'>
  This does not apply to Hass.io or Docker.
</div>
<p>Please make sure you have <code>autoconf</code> installed (<code>$ sudo apt-get install autoconf</code>) if you want to use this component. Also, installing some dependencies might take considerable time (more than one hour) on slow devices.</p>
<h3>Setting the <code>api_key</code></h3>
<p>Do not use the <code>api_key</code> variable in <code>configuration.yaml</code>. The API key is only needed once at initial setup and will be stored.</p>
:ET