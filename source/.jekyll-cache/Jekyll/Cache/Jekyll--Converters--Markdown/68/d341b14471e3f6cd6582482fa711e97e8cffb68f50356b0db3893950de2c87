I"ˆ <p>The <code>vivotek</code> camera platform allows you to integrate a Vivotek IP camera into Home Assistant.</p>
<p>Home Assistant will serve the images via its server, making it possible to view your IP cameras while outside of your network. The endpoint is <code>/api/camera_proxy/camera.[name]</code>.</p>
<h2>Configuration</h2>
<p>To enable this camera in your installation, add the following to your <code>configuration.yaml</code> file:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
camera:
  - platform: vivotek
    ip_address: IP_ADDRESS
    username: USERNAME
    password: PASSWORD
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='ip_address' href='#ip_address'></a> ip_address</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>The IP address of your camera, e.g., <code>192.168.1.2</code>.</p>
</span></p></dd><dt><a class='title-link' name='name' href='#name'></a> name</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>This parameter allows you to override the name of your camera.</p>
</span></p><p class='default'>
Default value: <p>Vivotek Camera</p>
</p></dd><dt><a class='title-link' name='username' href='#username'></a> username</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>The username for accessing your camera.</p>
</span></p></dd><dt><a class='title-link' name='password' href='#password'></a> password</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>The password for accessing your camera.</p>
</span></p></dd><dt><a class='title-link' name='authentication' href='#authentication'></a> authentication</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Type for authenticating the requests <code>basic</code> or <code>digest</code>.</p>
</span></p><p class='default'>
Default value: <p>basic</p>
</p></dd><dt><a class='title-link' name='security_level' href='#security_level'></a> security_level</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The security level of the user accessing your camera. This could be <code>admin</code> or <code>viewer</code>.</p>
</span></p><p class='default'>
Default value: <p>admin</p>
</p></dd><dt><a class='title-link' name='ssl' href='#ssl'></a> ssl</dt><dd><p class='desc'><span class='type'>(<span class='boolean'>boolean</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Enable or disable SSL. Set to false to use an HTTP-only camera.</p>
</span></p><p class='default'>
Default value: <p>false</p>
</p></dd><dt><a class='title-link' name='verify_ssl' href='#verify_ssl'></a> verify_ssl</dt><dd><p class='desc'><span class='type'>(<span class='boolean'>boolean</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Enable or disable SSL certificate verification. Set to false to use an HTTP-only camera, or you have a self-signed SSL certificate and haven‚Äôt installed the CA certificate to enable verification.</p>
</span></p><p class='default'>
Default value: <p>true</p>
</p></dd><dt><a class='title-link' name='framerate' href='#framerate'></a> framerate</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The number of frames-per-second (FPS) of the stream. Can cause heavy traffic on the network and/or heavy load on the camera.</p>
</span></p><p class='default'>
Default value: <p>2</p>
</p></dd><dt><a class='title-link' name='stream_path' href='#stream_path'></a> stream_path</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>This parameter allows you to override the stream path.</p>
</span></p><p class='default'>
Default value: <p>live.sdp</p>
</p></dd></dl>
</div>
<h3>Advanced configuration</h3>
<pre><code class="language-yaml"># Example configuration.yaml entry
camera:
  - platform: vivotek
    name: Front door camera
    ip_address: 192.168.1.2
    ssl: true
    username: !secret fd_camera_username
    password: !secret fd_camera_pwd
    authentication: digest
    security_level: admin
    verify_ssl: false
    framerate: 5
    stream_path: live2.sdp
</code></pre>
<h3>Services</h3>
<p>Once loaded, the <code>camera</code> platform will expose services that can be called to perform various actions.</p>
<p>Available services: <code>enable_motion_detection</code>, <code>disable_motion_detection</code>, <code>snapshot</code>, and <code>play_stream</code>.</p>
<h4>Service <code>play_stream</code></h4>
<p>Play a live stream from a camera to selected media player(s). Requires <a href="/integrations/stream"><code>stream</code></a> integration to be set up.</p>
<table>
<thead>
<tr>
<th>Service data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>no</td>
<td>Name of entity to fetch stream from, e.g., <code>camera.front_door_camera</code>.</td>
</tr>
<tr>
<td><code>media_player</code></td>
<td>no</td>
<td>Name of media player to play stream on, e.g., <code>media_player.living_room_tv</code>.</td>
</tr>
<tr>
<td><code>format</code></td>
<td>yes</td>
<td>Stream format supported by <code>stream</code> integration and selected <code>media_player</code>. Default: <code>hls</code></td>
</tr>
</tbody>
</table>
<p>For example, the following action in an automation would send an <code>hls</code> live stream to your chromecast.</p>
<pre><code class="language-yaml">action:
  service: camera.play_stream
  data:
    entity_id: camera.yourcamera
    media_player: media_player.chromecast
</code></pre>
<h4>Service <code>enable_motion_detection</code></h4>
<p>Enable motion detection in a camera. Currently, this will enable the first event configured on the camera.</p>
<table>
<thead>
<tr>
<th>Service data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>yes</td>
<td>Name(s) of entities to enable motion detection, e.g., <code>camera.front_door_camera</code>.</td>
</tr>
</tbody>
</table>
<h4>Service <code>disable_motion_detection</code></h4>
<p>Disable the motion detection in a camera. Currently, this will disable the first event configured on the camera.</p>
<table>
<thead>
<tr>
<th>Service data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>yes</td>
<td>Name(s) of entities to disable motion detection, e.g., <code>camera.front_door_camera</code>.</td>
</tr>
</tbody>
</table>
<h4>Service <code>snapshot</code></h4>
<p>Take a snapshot from a camera.</p>
<table>
<thead>
<tr>
<th>Service data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>no</td>
<td>Name(s) of entities to create a snapshot from, e.g., <code>camera.front_door_camera</code>.</td>
</tr>
<tr>
<td><code>filename</code></td>
<td>no</td>
<td>Template of a file name. Variable is <code>entity_id</code>, e.g., <code>/tmp/snapshot_{{ entity_id }}</code>.</td>
</tr>
</tbody>
</table>
<p>The path part of <code>filename</code> must be an entry in the <code>whitelist_external_dirs</code> in your <a href="/docs/configuration/basic/"><code>homeassistant:</code></a> section of your <code>configuration.yaml</code> file.</p>
<p>For example, the following action is an automation that would take a snapshot from ‚Äúfront_door_camera‚Äù and save it to /tmp with a timestamped filename.</p>
<pre><code class="language-yaml">action:
  service: camera.snapshot
  data:
    entity_id: camera.front_door_camera
    filename: '/tmp/yourcamera_{{ now().strftime(&quot;%Y%m%d-%H%M%S&quot;) }}.jpg'
</code></pre>
:ET