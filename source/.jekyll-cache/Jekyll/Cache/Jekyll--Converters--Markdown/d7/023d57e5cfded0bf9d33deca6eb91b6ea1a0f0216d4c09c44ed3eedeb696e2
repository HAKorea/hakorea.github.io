I"&<p>This integration adds <a href="https://pythonhosted.org/watchdog/">Watchdog</a> file system monitoring, publishing events on the Home Assistant bus on the creation/deletion/modification of files within configured folders. The monitored <code>event_type</code> are:</p>
<ul>
<li><code>created</code></li>
<li><code>deleted</code></li>
<li><code>modified</code></li>
<li><code>moved</code></li>
</ul>
<p>Configured folders must be added to <a href="/docs/configuration/basic/">whitelist_external_dirs</a>. Note that by default folder monitoring is recursive, meaning that the contents of sub-folders are also monitored.</p>
<h2>Configuration</h2>
<p>To enable the Folder Watcher integration in your installation, add the following to your <code>configuration.yaml</code> file:</p>
<pre><code class="language-yaml">folder_watcher:
  - folder: /config
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='folder' href='#folder'></a> folder</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>The folder path</p>
</span></p></dd><dt><a class='title-link' name='patterns' href='#patterns'></a> patterns</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Pattern matching to apply</p>
</span></p><p class='default'>
Default value: <ul>
<li></li>
</ul>
</p></dd></dl>
</div>
<h2>Patterns</h2>
<p>Pattern matching using <a href="https://docs.python.org/3.6/library/fnmatch.html">fnmatch</a> can be used to limit filesystem monitoring to only files which match the configured patterns. The following example shows the configuration required to only monitor filetypes <code>.yaml</code> and <code>.txt</code>.</p>
<pre><code class="language-yaml">folder_watcher:
  - folder: /config
    patterns:
      - '*.yaml'
      - '*.txt'
</code></pre>
<h2>Automations</h2>
<p>Automations can be triggered on filesystem event data using a <code>data_template</code>. The following automation will send a notification with the name and folder of new files added to that folder:</p>
<pre><code class="language-yaml">#Send notification for new image (including the image itself)
automation:
  alias: New file alert
  trigger:
    platform: event
    event_type: folder_watcher
    event_data:
      event_type: created
  action:
    service: notify.notify
    data_template:
      title: New image captured!
      message: &quot;Created {{ trigger.event.data.file }} in {{ trigger.event.data.folder }}&quot;
      data:
        file: &quot;{{ trigger.event.data.path }}&quot;
</code></pre>
:ET