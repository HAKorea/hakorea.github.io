I"a<p>The Hikvision Binary Sensor is a platform that parses the event stream of a
<a href="https://www.hikvision.com/">Hikvision IP Camera or NVR</a> and presents the
camera/nvr events to Home Assistant as binary sensors with either an ‚Äúoff‚Äù or
‚Äúon‚Äù state.</p>
<p>The platform will automatically add all sensors to Home Assistant that are
configured within the camera/nvr interface to ‚ÄúNotify the surveillance center‚Äù
as a trigger. If you would like to hide a sensor type you can do so by either
unchecking ‚ÄúNotify the surveillance center‚Äù in the camera configuration or by
using the ‚Äúignored‚Äù customize option detailed below.</p>
<div class='note'>
In order for the sensors to work the hikvision user must have the 'Remote: Notify Surveillance Center/Trigger Alarm Output' permission which can be enabled from the user management section of the web interface.
Also the 'WEB Authentication' needs to be set to 'digest/basic' in the security/authentication section.
</div>
<p>For example, if you configure a camera with the name ‚ÄúFront Porch‚Äù that has
motion detection and line crossing events enabled to notify the surveillance
center the following binary sensors will be added to Home Assistant:</p>
<pre><code class="language-text">binary_sensor.front_porch_motion
binary_sensor.front_port_line_crossing
</code></pre>
<p>When used with a NVR device the sensors will be appended with the channel number
they represent. For example,
if you configure an NVR with the name ‚ÄúHome‚Äù that supports 2 cameras with
motion detection and line crossing events enabled to notify the surveillance
center the following binary sensors will be added to Home Assistant:</p>
<pre><code class="language-text">binary_sensor.home_motion_1
binary_sensor.home_motion_2
binary_sensor.home_line_crossing_1
binary_sensor.home_line_crossing_2
</code></pre>
<p>This platform should work with all Hikvision cameras and nvrs,
and has been confirmed to work with the following models:</p>
<ul>
<li>DS-2CD3132-I</li>
<li>DS-2CD2232-I5</li>
<li>DS-2CD2032-I</li>
<li>DS-2CD2042WD-I</li>
<li>DS-2CD2142FWD-I</li>
<li>DS-2CD2155FWD-IS</li>
<li>IPC-D140H(-M)</li>
</ul>
<h2>Configuration</h2>
<p>To enable this sensor,
add the following lines are required in your <code>configuration.yaml</code> file:</p>
<pre><code class="language-yaml">binary_sensor:
  - platform: hikvision
    host: IP_ADDRESS
    username: user
    password: pass
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='host' href='#host'></a> host</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>The IP address of the camera you would like to connect to.</p>
</span></p></dd><dt><a class='title-link' name='username' href='#username'></a> username</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>The username to authenticate with.</p>
</span></p></dd><dt><a class='title-link' name='password' href='#password'></a> password</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>The password to authenticate with.</p>
</span></p></dd><dt><a class='title-link' name='name' href='#name'></a> name</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The name you would like to give the camera in Home Assistant, defaults to name defined in the camera.</p>
</span></p></dd><dt><a class='title-link' name='port' href='#port'></a> port</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The port to connect to the camera on.</p>
</span></p><p class='default'>
Default value: <p>80</p>
</p></dd><dt><a class='title-link' name='ssl' href='#ssl'></a> ssl</dt><dd><p class='desc'><span class='type'>(<span class='boolean'>boolean</span>)</span><span class='required'>(Optional)</span><span class='description'><p><code>true</code> if you want to connect with https. Be sure to set the port also.</p>
</span></p><p class='default'>
Default value: <p>false</p>
</p></dd><dt><a class='title-link' name='customize' href='#customize'></a> customize</dt><dd><p class='desc'><span class='type'>(<span class='map'>map</span>)</span><span class='required'>(Optional)</span><span class='description'><p>This attribute contains sensor-specific override values. Only sensor name needs defined:</p>
</span></p></dd><dd><dl class='nested'><dt><a class='title-link' name='ignored' href='#ignored'></a> ignored</dt><dd><p class='desc'><span class='type'>(<span class='boolean'>boolean</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Ignore this sensor completely. It won‚Äôt be shown in the Web Interface and no events are generated for it.</p>
</span></p><p class='default'>
Default value: <p>false</p>
</p></dd><dt><a class='title-link' name='delay' href='#delay'></a> delay</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Specify the delay to wait after a sensor event ends before notifying Home Assistant in seconds. This is useful to catch multiple quick trips in one window without the state toggling on and off.</p>
</span></p><p class='default'>
Default value: <p>5</p>
</p></dd></dl></dd></dl>
</div>
<h3>Supported types</h3>
<p>Supported sensor/event types are:</p>
<ul>
<li>Motion</li>
<li>Line Crossing</li>
<li>Field Detection</li>
<li>Video Loss</li>
<li>Tamper Detection</li>
<li>Shelter Alarm</li>
<li>Disk Full</li>
<li>Disk Error</li>
<li>Net Interface Broken</li>
<li>IP Conflict</li>
<li>Illegal Access</li>
<li>Video Mismatch</li>
<li>Bad Video</li>
<li>PIR Alarm</li>
<li>Face Detection</li>
<li>Scene Change Detection</li>
</ul>
<h2>Examples</h2>
<p>Example of a configuration in your <code>configuration.yaml</code>
that utilizes the customize options for a camera:</p>
<pre><code class="language-yaml">binary_sensor:
  - platform: hikvision
    host: 192.168.X.X
    port: 80
    ssl: false
    username: user
    password: pass
    customize:
      motion:
        delay: 30
      line_crossing:
        ignored: true
</code></pre>
<p>Example of a configuration in your <code>configuration.yaml</code>
that utilizes the customize options for a nvr:</p>
<pre><code class="language-yaml">binary_sensor:
  - platform: hikvision
    host: 192.168.X.X
    port: 80
    ssl: false
    username: user
    password: pass
    customize:
      motion_1:
        delay: 30
      field_detection_2:
        ignored: true
</code></pre>
:ET