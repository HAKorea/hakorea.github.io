I"‡<p>The <code>envirophat</code> sensor platform allows you to display information collected by an <a href="https://shop.pimoroni.com/products/enviro-phat">Enviro pHAT</a> add-on board for the Raspberry Pi. The board features a wide range of sensors, such as:</p>
<ul>
<li>BMP280 temperature/pressure sensor</li>
<li>TCS3472 light and RGB color sensor with two LEDs for illumination</li>
<li>LSM303D accelerometer/magnetometer sensor</li>
<li>ADS1015 4-channel 3.3v, analog to digital sensor (ADC)</li>
</ul>
<p>To add this platform to your installation, add the following to your <code>configuration.yaml</code> file:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry,
# which is equivalent to the default setup
sensor:
  - platform: envirophat
    use_led: false
    display_options:
      - temperature
      - pressure
      - light
      - light_red
      - light_green
      - light_blue
      - accelerometer_x
      - accelerometer_y
      - accelerometer_z
      - magnetometer_x
      - magnetometer_y
      - magnetometer_z
      - voltage_0
      - voltage_1
      - voltage_2
      - voltage_3
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='display_options' href='#display_options'></a> display_options</dt><dd><p class='desc'><span class='type'>(<span class='list'>list</span>)</span><span class='required'>(Optional)</span><span class='description'><p>List of readings to monitor.</p>
</span></p><p class='default'>
Default value: <p>All the conditions</p>
</p></dd><dd><dl class='nested'><dt><a class='title-link' name='temperature' href='#temperature'></a> temperature</dt><dd><p class='desc'><span class='description'><p>Ambient temperature in Celsius. Since the sensor is close to the Raspberry Pi, that might affect the accuracy of the reading (ie. the Pi might heat up the sensor)</p>
</span></p></dd><dt><a class='title-link' name='pressure' href='#pressure'></a> pressure</dt><dd><p class='desc'><span class='description'><p>Atmospheric pressure in hPa.</p>
</span></p></dd><dt><a class='title-link' name='light' href='#light'></a> light</dt><dd><p class='desc'><span class='description'><p>Ambient light, as an integer in the 0-65535 range.</p>
</span></p></dd><dt><a class='title-link' name='light_red' href='#light_red'></a> light_red</dt><dd><p class='desc'><span class='description'><p>Red color reading scaled to the ambient light, as an integer in the 0-255 range.</p>
</span></p></dd><dt><a class='title-link' name='light_green' href='#light_green'></a> light_green</dt><dd><p class='desc'><span class='description'><p>Green color reading scaled to the ambient light, as an integer in the 0-255 range.</p>
</span></p></dd><dt><a class='title-link' name='light_blue' href='#light_blue'></a> light_blue</dt><dd><p class='desc'><span class='description'><p>Blue color reading scaled to the ambient light, as an integer in the 0-255 range.</p>
</span></p></dd><dt><a class='title-link' name='accelerometer_x' href='#accelerometer_x'></a> accelerometer_x</dt><dd><p class='desc'><span class='description'><p>Accelerometer reading in units of G, along the X axis.</p>
</span></p></dd><dt><a class='title-link' name='accelerometer_y' href='#accelerometer_y'></a> accelerometer_y</dt><dd><p class='desc'><span class='description'><p>Accelerometer reading in units of G, along the Y axis.</p>
</span></p></dd><dt><a class='title-link' name='accelerometer_z' href='#accelerometer_z'></a> accelerometer_z</dt><dd><p class='desc'><span class='description'><p>Accelerometer reading in units of G, along the Z axis.</p>
</span></p></dd><dt><a class='title-link' name='magnetometer_x' href='#magnetometer_x'></a> magnetometer_x</dt><dd><p class='desc'><span class='description'><p>Magnetometer reading, the X component of the raw vector.</p>
</span></p></dd><dt><a class='title-link' name='magnetometer_y' href='#magnetometer_y'></a> magnetometer_y</dt><dd><p class='desc'><span class='description'><p>Magnetometer reading, the y component of the raw vector.</p>
</span></p></dd><dt><a class='title-link' name='magnetometer_z' href='#magnetometer_z'></a> magnetometer_z</dt><dd><p class='desc'><span class='description'><p>Magnetometer reading, the z component of the raw vector.</p>
</span></p></dd><dt><a class='title-link' name='voltage_0' href='#voltage_0'></a> voltage_0</dt><dd><p class='desc'><span class='description'><p>Voltage reading on Analog In 0 in units of V.</p>
</span></p></dd><dt><a class='title-link' name='voltage_1' href='#voltage_1'></a> voltage_1</dt><dd><p class='desc'><span class='description'><p>Voltage reading on Analog In 1 in units of V.</p>
</span></p></dd><dt><a class='title-link' name='voltage_2' href='#voltage_2'></a> voltage_2</dt><dd><p class='desc'><span class='description'><p>Voltage reading on Analog In 2 in units of V.</p>
</span></p></dd><dt><a class='title-link' name='voltage_3' href='#voltage_3'></a> voltage_3</dt><dd><p class='desc'><span class='description'><p>Voltage reading on Analog In 3 in units of V.</p>
</span></p></dd></dl></dd><dt><a class='title-link' name='use_led' href='#use_led'></a> use_led</dt><dd><p class='desc'><span class='type'>(<span class='boolean'>boolean</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Declaring that the on-board LEDs are <em>not</em> used for the color measurements thus these readings are based on the ambient light. If the value is set to True, the on-board LEDs will blink whenever a reading is taken.</p>
</span></p><p class='default'>
Default value: <p>false</p>
</p></dd></dl>
</div>
<h3>Notes</h3>
<h4>X, Y, Z axes</h4>
<ul>
<li>X is parallel with the long edge of the board</li>
<li>Y is parallel with the short edge of the board</li>
<li>Z is perpendicular to the board</li>
</ul>
<h4>Voltages</h4>
<ul>
<li>voltage readings are done in the 0-3.3V range, please do not connect higher voltages than that! See the <a href="https://learn.pimoroni.com/tutorial/sandyj/getting-started-with-enviro-phat">Enviro pHATâ€™s getting started guide</a> regarding how to make a voltage divider</li>
</ul>
<h3>Give the values friendly names &amp; icons</h3>
<p>Add something like the following to your <a href="/docs/configuration/customizing-devices/">customize section</a>:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
  customize:
    sensor.accelerometer_z:
      icon: mdi:airplane-landing
      friendly_name: &quot;Acc Z&quot;
    sensor.magnetometer_x:
      icon: mdi:arrow-up-bold-hexagon-outline
      friendly_name: &quot;Magnetic X&quot;
    sensor.pressure:
      icon: mdi:weight
      friendly_name: &quot;Pressure&quot;
</code></pre>
<h3>Create groups</h3>
<pre><code class="language-yaml"># Example configuration.yaml entry
group:
  enviro_phat_voltages:
    name: Enviro pHAT Voltages`
    entities:
      - sensor.voltage_0
      - sensor.voltage_1
      - sensor.voltage_2
      - sensor.voltage_3
</code></pre>
<h3>Enabling the required <code>i2c-1</code> device</h3>
<p>Since the Enviro pHAT communicates over I2C, you might also need to make sure that the I2C devices are enabled, by adding or uncommenting the following line in <code>/boot/config.txt</code> (see the <a href="https://www.raspberrypi.org/documentation/configuration/device-tree.md">DT Parameters section</a> in the Raspberry Pi documentation):</p>
<pre><code class="language-txt">dtparam=i2c_arm=on
</code></pre>
:ET