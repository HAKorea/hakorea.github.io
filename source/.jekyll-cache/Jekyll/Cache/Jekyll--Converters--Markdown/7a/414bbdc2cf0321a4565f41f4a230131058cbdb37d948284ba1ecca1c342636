I"&<p>The <code>viaggiatreno</code> sensor will give you information about configured train ids and stations using the public <a href="http://viaggiatreno.it">ViaggiaTreno</a> API.</p>
<p>To activate the sensor you need at least two parameters: the <code>train_id</code> and the <code>station_id</code>.</p>
<p>The first is available just looking at the <a href="http://viaggiatreno.it/">ViaggiaTreno</a> timetable, the latter can be obtained using the dedicated API endpoint:
<code>http://www.viaggiatreno.it/viaggiatrenonew/resteasy/viaggiatreno/autocompletaStazione/&lt;Station name&gt;</code>
(e.g., <code>http://www.viaggiatreno.it/viaggiatrenonew/resteasy/viaggiatreno/autocompletaStazione/ROMA</code> will list all station names (with ids) that starts with <em>ROMA</em>).</p>
<div class='note'>
<p>Note that the <code>station_id</code> is referred to the train’s <strong>departing station</strong>. If a train number does not match with the station id, no data will be returned to the sensor.</p>
</div>
<p>Then add the data to your <code>configuration.yaml</code> file as shown in the example:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
sensor:
  - platform: viaggiatreno
    train_id: 12279
    station_id: S08409
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='train_id' href='#train_id'></a> train_id</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Required)</span><span class='description'><p>The ID of the train.</p>
</span></p></dd><dt><a class='title-link' name='station_id' href='#station_id'></a> station_id</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Required)</span><span class='description'><p>The ID of the starting station.</p>
</span></p></dd><dt><a class='title-link' name='train_name' href='#train_name'></a> train_name</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The name of the sensor. Defaults to ‘Train <train id> from <station id>’.</p>
</span></p></dd></dl>
</div>
<div class='note'>
In a future implementation, the station name could be used to automatically search best-matching station id, without the need to specify it.
</div>
<p>The public timetables are coming from <a href="http://viaggiatreno.it">ViaggiaTreno</a>.</p>
<div class='note'>
<p>Instructions (in Italian) for the API are available at:
<a href="https://github.com/bluviolin/TrainMonitor/wiki/API-del-sistema-Viaggiatreno">https://github.com/bluviolin/TrainMonitor/wiki/API-del-sistema-Viaggiatreno</a></p>
</div>
:ET