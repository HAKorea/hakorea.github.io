I"¤<p>The <code>proxy</code> camera platform allows you to pass another cameraâ€™s output through post-processing routines and generate a new camera with the post-processed output.</p>
<p>The current post-processing supports resizing and/or cropping the image/MJPEG as well as limiting the maximum refresh rate.</p>
<p>The current proxy capabilities are intended to reduce the camera bandwidth for slower internet connections.</p>
<h2>Configuration</h2>
<p>To enable this camera in your installation, you must first have an existing working camera configured in Home Assistant.  Next, add the following to your <code>configuration.yaml</code> file:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
camera:
  - platform: proxy
    entity_id: camera.&lt;existingcamera&gt;
    max_stream_width: 360
    max_image_width: 720
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='entity_id' href='#entity_id'></a> entity_id</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>The ID of another Home Assistant camera to post-process.</p>
</span></p></dd><dt><a class='title-link' name='name' href='#name'></a> name</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>This parameter allows you to override the name of your camera.</p>
</span></p></dd><dt><a class='title-link' name='mode' href='#mode'></a> mode</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The operating mode, either <code>resize</code> or <code>crop</code>.</p>
</span></p><p class='default'>
Default value: <p>resize</p>
</p></dd><dt><a class='title-link' name='max_image_width' href='#max_image_width'></a> max_image_width</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The maximum width of single images taken from the camera (aspect ratio will be maintained on resize processing).</p>
</span></p></dd><dt><a class='title-link' name='max_image_height' href='#max_image_height'></a> max_image_height</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The maximum height of single images taken from the camera, only used for crop operations. If not provided, the original height is assumed by default.</p>
</span></p></dd><dt><a class='title-link' name='max_stream_width' href='#max_stream_width'></a> max_stream_width</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The maximum width of the MJPEG stream from the camera (aspect ratio will be maintained on resize processing).</p>
</span></p></dd><dt><a class='title-link' name='max_stream_height' href='#max_stream_height'></a> max_stream_height</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The maximum height of the MJPEG stream from the camera, only used for crop operations. If not provided, the original height is assumed by default.</p>
</span></p></dd><dt><a class='title-link' name='image_top' href='#image_top'></a> image_top</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The top (y) coordinate to be used as a starting point for crop operations.</p>
</span></p><p class='default'>
Default value: <p>0</p>
</p></dd><dt><a class='title-link' name='image_left' href='#image_left'></a> image_left</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The left (x) coordinate to be used as a starting point for crop operations.</p>
</span></p><p class='default'>
Default value: <p>0</p>
</p></dd><dt><a class='title-link' name='image_quality' href='#image_quality'></a> image_quality</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The quality level used for resulting JPEG for snapshots.</p>
</span></p><p class='default'>
Default value: <p>75</p>
</p></dd><dt><a class='title-link' name='stream_quality' href='#stream_quality'></a> stream_quality</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The quality level used for resulting MJPEG streams.</p>
</span></p><p class='default'>
Default value: <p>75</p>
</p></dd><dt><a class='title-link' name='image_refresh_rate' href='#image_refresh_rate'></a> image_refresh_rate</dt><dd><p class='desc'><span class='type'>(<span class='float'>float</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The minimum time in seconds between generating successive image snapshots.</p>
</span></p></dd><dt><a class='title-link' name='force_resize' href='#force_resize'></a> force_resize</dt><dd><p class='desc'><span class='type'>(<span class='boolean'>boolean</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Resize the image even if the resulting image would take up more bandwidth than the original.</p>
</span></p><p class='default'>
Default value: <p>false</p>
</p></dd><dt><a class='title-link' name='cache_images' href='#cache_images'></a> cache_images</dt><dd><p class='desc'><span class='type'>(<span class='boolean'>boolean</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Preserve the last image and re-send in the case the camera is not responding.</p>
</span></p><p class='default'>
Default value: <p>false</p>
</p></dd></dl>
</div>
<h2>Examples</h2>
<p>Example of using two Camera proxies along with a Foscam camera:</p>
<pre><code class="language-yaml">camera:
  - platform: foscam
    ip: 192.168.1.10
    username: foscam_camera
    password: camera_password
    name: mycamera
  - platform: proxy
    entity_id: camera.mycamera
    max_stream_width: 360
    max_image_width: 480
    image_refresh_rate: 5.0
  - platform: proxy
    entity_id: camera.mycamera
    name: My cropped camera
    mode: crop
    max_image_width: 480
    max_image_height: 320
    image_left: 100
</code></pre>
:ET