I"°<img src='/images/screenshots/logbook.png' style='margin-left:10px; float: right;' height="100" />
<p>The logbook integration provides a different perspective on the history of your
house by showing all the changes that happened to your house in reverse
chronological order. It depends on
the <code>recorder</code> integration for storing the data. This means that if the
<a href="/integrations/recorder/"><code>recorder</code></a> integration is set up to use e.g., MySQL or
PostgreSQL as data store, the <code>logbook</code> integration does not use the default
SQLite database to store data.</p>
<p>This integration is by default enabled, unless youâ€™ve disabled or removed the <a href="https://www.home-assistant.io/integrations/default_config/"><code>default_config:</code></a> line from your configuration. If that is the case, the following example shows you how to enable this integration manually:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
logbook:
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='exclude' href='#exclude'></a> exclude</dt><dd><p class='desc'><span class='type'>(<span class='map'>map</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Configure which integrations should <strong>not</strong> create logbook entries.</p>
</span></p></dd><dd><dl class='nested'><dt><a class='title-link' name='entities' href='#entities'></a> entities</dt><dd><p class='desc'><span class='type'>(<span class='list'>list</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The list of entity ids to be excluded from creating logbook entries.</p>
</span></p></dd><dt><a class='title-link' name='domains' href='#domains'></a> domains</dt><dd><p class='desc'><span class='type'>(<span class='list'>list</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The list of domains to be excluded from creating logbook entries.</p>
</span></p></dd></dl></dd><dt><a class='title-link' name='include' href='#include'></a> include</dt><dd><p class='desc'><span class='type'>(<span class='map'>map</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Configure which integrations should create logbook entries.</p>
</span></p></dd><dd><dl class='nested'><dt><a class='title-link' name='entities' href='#entities'></a> entities</dt><dd><p class='desc'><span class='type'>(<span class='list'>list</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The list of entity ids to be included in creating logbook entries.</p>
</span></p></dd><dt><a class='title-link' name='domains' href='#domains'></a> domains</dt><dd><p class='desc'><span class='type'>(<span class='list'>list</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The list of domains to be included in creating logbook entries.</p>
</span></p></dd></dl></dd></dl>
</div>
<p>If you want to exclude messages of some entities or domains from the logbook
just add the <code>exclude</code> parameter like:</p>
<pre><code class="language-yaml"># Example of excluding domains and entities from the logbook
logbook:
  exclude:
    entities:
      - sensor.last_boot
      - sensor.date
    domains:
      - sun
      - weblink
</code></pre>
<p>In case you just want to see messages from some specific entities or domains use
the <code>include</code> configuration:</p>
<pre><code class="language-yaml"># Example to show how to include only the listed domains and entities in the logbook
logbook:
  include:
    domains:
      - sensor
      - switch
      - media_player
</code></pre>
<p>You can also use the <code>include</code> list and filter out some entities or domains with
an <code>exclude</code> list. Usually this makes sense if you define domains on the include
side and filter out some specific entities.</p>
<pre><code class="language-yaml"># Example of combining include and exclude configurations
logbook:
  include:
    domains:
      - sensor
      - switch
      - media_player
  exclude:
    entities:
      - sensor.last_boot
      - sensor.date
</code></pre>
<h3>Exclude Events</h3>
<p>Entities customized as hidden are excluded from the logbook by default,
but sometimes you want to show the entity in the UI and not in the logbook.
For instance you use the <code>sensor.date</code>to show the current date in the UI,
but you do not want a logbook entry for that sensor every day.
To exclude these entities just add them to the <code>exclude</code> &gt; <code>entities</code> list in
the configuration of the logbook.</p>
<p>To exclude all events from a whole domain add it to the <code>exclude</code> &gt; <code>domain</code>
list. For instance you use the <code>sun</code> domain only to trigger automations on the
<code>azimuth</code> attribute, then you possible are not interested in the logbook entries
for sun rise and sun set.</p>
<h3>Custom Entries</h3>
<p>It is possible to add custom entries to the logbook by using the script
component to fire an event.</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
script:
  add_logbook_entry:
    alias: Add Logbook
    sequence:
      - service: logbook.log
        data_template:
          name: Kitchen
          message: is being used
          # Optional
          entity_id: light.kitchen
          domain: light
</code></pre>
:ET