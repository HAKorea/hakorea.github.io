I"%<p>The <code>google_cloud</code> platform allows you to use <a href="https://cloud.google.com/">Google Cloud Platform</a> API and integrate them into Home Assistant.</p>
<h2>Configuration</h2>
<p>To use Google Cloud Platform, you need to provide <code>config</code> directory relative path of <a href="#obtaining-an-api-key"><code>API key</code></a> file you are going to use. Place it under <code>config</code> folder and set <code>key_file</code> parameter in <code>configuration.yaml</code>:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
tts:
  - platform: google_cloud
    key_file: googlecloud.json
</code></pre>
<h2>Obtaining an API key</h2>
<p>API key obtaining process described in corresponding documentation:</p>
<ul>
<li><a href="https://cloud.google.com/text-to-speech/docs/quickstart-protocol">Text-to-Speech</a></li>
<li><a href="https://cloud.google.com/speech-to-text/docs/quickstart-protocol">Speech-to-Text</a></li>
<li><a href="https://developers.google.com/maps/documentation/geocoding/start">Geocoding</a></li>
</ul>
<p>Basic instruction for all APIs:</p>
<ol>
<li>
<p>Visit <a href="https://console.cloud.google.com/cloud-resource-manager">Cloud Resource Manager</a>.</p>
</li>
<li>
<p>Click <code>CREATE PROJECT</code> button at the top.</p>
</li>
<li>
<p>Specify convenient <code>Project name</code> and click <code>CREATE</code> button.</p>
</li>
<li>
<p><a href="https://cloud.google.com/billing/docs/how-to/modify-project">Make sure that billing is enabled for your Google Cloud Platform project</a>.</p>
</li>
<li>
<p>Enable needed Cloud API visiting one of the links below or <a href="https://console.cloud.google.com/apis/library">APIs library</a>, selecting your <code>Project</code> from the dropdown list and clicking the <code>Continue</code> button:</p>
<ul>
<li><a href="https://console.cloud.google.com/flows/enableapi?apiid=texttospeech.googleapis.com">Text-to-Speech</a></li>
<li><a href="https://console.cloud.google.com/flows/enableapi?apiid=speech.googleapis.com">Speech-to-Text</a></li>
<li><a href="https://console.cloud.google.com/flows/enableapi?apiid=geocoding-backend.googleapis.com">Geocoding</a></li>
</ul>
</li>
<li>
<p>Set up authentication:</p>
<ol>
<li>Visit <a href="https://console.cloud.google.com/apis/credentials/serviceaccountkey">this link</a></li>
<li>From the <code>Service account</code> list, select <code>New service account</code>.</li>
<li>In the <code>Service account name</code> field, enter any name.</li>
</ol>
<p>If you are requesting Text-to-Speech API key:</p>
<ol start="4">
<li>Don’t select a value from the Role list. <strong>No role is required to access this service</strong>.</li>
<li>Click <code>Create</code>. A note appears, warning that this service account has no role.</li>
<li>Click <code>Create without role</code>. A JSON file that contains your <code>API key</code> downloads to your computer.</li>
</ol>
</li>
</ol>
<h2>Google Cloud Text-to-Speech</h2>
<p><a href="https://cloud.google.com/text-to-speech/">Google Cloud Text-to-Speech</a> converts text into human-like speech in more than 100 voices across 20+ languages and variants. It applies groundbreaking research in speech synthesis (WaveNet) and Google’s powerful neural networks to deliver high-fidelity audio. With this easy-to-use API, you can create lifelike interactions with your users that transform customer service, device interaction, and other applications.</p>
<h3>Pricing</h3>
<p>The Cloud Text-to-Speech API is priced monthly based on the amount of characters to synthesize into audio sent to the service.</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Monthly free tier</th>
<th>Paid usage</th>
</tr>
</thead>
<tbody>
<tr>
<td>Standard (non-WaveNet) voices</td>
<td>0 to 4 million characters</td>
<td>$4.00 USD / 1 million characters</td>
</tr>
<tr>
<td>WaveNet voices</td>
<td>0 to 1 million characters</td>
<td>$16.00 USD / 1 million characters</td>
</tr>
</tbody>
</table>
<h3>Text-to-Speech configuration</h3>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='key_file' href='#key_file'></a> key_file</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The <a href="#obtaining-an-api-key"><code>API key</code></a> file to use with Google Cloud Platform. If not specified <code>os.environ['GOOGLE_APPLICATION_CREDENTIALS']</code> path will be used.</p>
</span></p></dd><dt><a class='title-link' name='language' href='#language'></a> language</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Default language of the voice, e.g. <code>en-US</code>. Supported languages, genders and voices listed <a href="https://cloud.google.com/text-to-speech/docs/voices">here</a>. Also there are extra not documented but supported languages (see dropdown <a href="https://cloud.google.com/text-to-speech/#streaming_demo_section">here</a>).</p>
</span></p><p class='default'>
Default value: <p>en-US</p>
</p></dd><dt><a class='title-link' name='gender' href='#gender'></a> gender</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Default gender of the voice, e.g. <code>male</code>. Supported languages, genders and voices listed <a href="https://cloud.google.com/text-to-speech/docs/voices">here</a>.</p>
</span></p><p class='default'>
Default value: <p>neutral</p>
</p></dd><dt><a class='title-link' name='voice' href='#voice'></a> voice</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Default voice name, e.g. <code>en-US-Wavenet-F</code>. Supported languages, genders and voices listed <a href="https://cloud.google.com/text-to-speech/docs/voices">here</a>. <strong>Important! This parameter will override <code>language</code> and <code>gender</code> parameters if set</strong>.</p>
</span></p></dd><dt><a class='title-link' name='encoding' href='#encoding'></a> encoding</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Default audio encoder. Supported encodings are <code>ogg_opus</code>, <code>mp3</code> and <code>linear16</code>.</p>
</span></p><p class='default'>
Default value: <p>mp3</p>
</p></dd><dt><a class='title-link' name='speed' href='#speed'></a> speed</dt><dd><p class='desc'><span class='type'>(<span class='float'>float</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Default rate/speed of the voice, in the range [0.25, 4.0]. 1.0 is the normal native speed supported by the specific voice. 2.0 is twice as fast, and 0.5 is half as fast. If unset(0.0), defaults to the native 1.0 speed.</p>
</span></p><p class='default'>
Default value: <p>1.0</p>
</p></dd><dt><a class='title-link' name='pitch' href='#pitch'></a> pitch</dt><dd><p class='desc'><span class='type'>(<span class='float'>float</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Default pitch of the voice, in the range [-20.0, 20.0]. 20 means increase of 20 semitones from the original pitch. -20 means decrease of 20 semitones from the original pitch.</p>
</span></p><p class='default'>
Default value: <p>0.0</p>
</p></dd><dt><a class='title-link' name='gain' href='#gain'></a> gain</dt><dd><p class='desc'><span class='type'>(<span class='float'>float</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Default volume gain (in dB) of the voice, in the range [-96.0, 16.0]. If unset, or set to a value of 0.0 (dB), will play at normal native signal amplitude. A value of -6.0 (dB) will play at approximately half the amplitude of the normal native signal amplitude. A value of +6.0 (dB) will play at approximately twice the amplitude of the normal native signal amplitude. Strongly recommend not to exceed +10 (dB) as there’s usually no effective increase in loudness for any value greater than that.</p>
</span></p><p class='default'>
Default value: <p>0.0</p>
</p></dd><dt><a class='title-link' name='profiles' href='#profiles'></a> profiles</dt><dd><p class='desc'><span class='type'>(<span class='list'>list</span>)</span><span class='required'>(Optional)</span><span class='description'><p>An identifier which selects ‘audio effects’ profiles that are applied on (post synthesized) text to speech. Effects are applied on top of each other in the order they are given. Supported profile ids listed <a href="https://cloud.google.com/text-to-speech/docs/audio-profiles">here</a>.</p>
</span></p><p class='default'>
Default value: <p>[]</p>
</p></dd></dl>
</div>
<h3>Full configuration example</h3>
<p>The Google Cloud Text-to-Speech configuration can look like:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
tts:
  - platform: google_cloud
    key_file: googlecloud.json
    language: en-US
    gender: male
    voice: en-US-Wavenet-F
    encoding: linear16
    speed: 0.9
    pitch: -2.5
    gain: -5.0
    profiles:
      - telephony-class-application
      - wearable-class-device
</code></pre>
:ET