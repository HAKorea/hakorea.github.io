I"s<p>The <code>tautulli</code> sensor platform will monitor activity on a given <a href="https://tautulli.com">Tautulli Server</a>. It will create a sensor that shows the number of currently active streams as the state. If you click the sensor for more details it will show you more statistics, the following stats are available by default:</p>
<ul>
<li>LAN bandwidth</li>
<li>Number of direct plays</li>
<li>Number of direct streams</li>
<li>Stream count</li>
<li>Top Movie</li>
<li>Top TV Show</li>
<li>Top User</li>
<li>Total bandwidth</li>
<li>Transcode count</li>
<li>WAN bandwidth</li>
</ul>
<p>More user statistics can be added with the <code>monitored_conditions</code> configuration option, this will add one attribute per user in addition to the users current <code>activity</code>.</p>
<h2>Setup</h2>
<p>To find your <code>api_key</code> open the Tautulli web interface and navigate to <code>Settings</code> and then to <code>Web interface</code>, the <code>api_key</code> will be at the bottom of that page.</p>
<h2>Configuration</h2>
<p>If you want to enable this sensor, add the following lines to your <code>configuration.yaml</code>:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
sensor:
  - platform: tautulli
    api_key: TAUTULLI_API_KEY
    host: TAUTULLI_HOST
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='api_key' href='#api_key'></a> api_key</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>The API key for your Tautulli server.</p>
</span></p></dd><dt><a class='title-link' name='host' href='#host'></a> host</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>The DNS name or IP Address of the server running Tautulli.</p>
</span></p></dd><dt><a class='title-link' name='port' href='#port'></a> port</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The port of your Tautulli server.</p>
</span></p><p class='default'>
Default value: <p>8181</p>
</p></dd><dt><a class='title-link' name='path' href='#path'></a> path</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The Base Url path of your Tautulli server.</p>
</span></p></dd><dt><a class='title-link' name='ssl' href='#ssl'></a> ssl</dt><dd><p class='desc'><span class='type'>(<span class='boolean'>boolean</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Use HTTPS to connect to Tautulli server. <em>NOTE</em> A host <em>cannot</em> be an IP address when this option is enabled.</p>
</span></p><p class='default'>
Default value: <p>false</p>
</p></dd><dt><a class='title-link' name='monitored_users' href='#monitored_users'></a> monitored_users</dt><dd><p class='desc'><span class='type'>(<span class='list'>list</span>)</span><span class='required'>(Optional)</span><span class='description'><p>A list of Tautulli users you want to monitor, if not set this will monitor <strong>all</strong> users.</p>
</span></p></dd><dt><a class='title-link' name='monitored_conditions' href='#monitored_conditions'></a> monitored_conditions</dt><dd><p class='desc'><span class='type'>(<span class='list'>list</span>)</span><span class='required'>(Optional)</span><span class='description'><p>A list of attributes to expose for each Tautulli user you monitor, every key in the <code>session</code> [section here][tautulliapi] can be used.</p>
</span></p></dd></dl>
</div>
<h2>Full example for the configuration</h2>
<pre><code class="language-yaml"># Example configuration.yaml entry
sensor:
  - platform: tautulli
    api_key: TAUTULLI_API_KEY
    host: TAUTULLI_HOST
    monitored_users:
      - USER_1
      - USER_2
    monitored_conditions:
      - ATTRIBUTE_1
      - ATTRIBUTE_2
</code></pre>
:ET