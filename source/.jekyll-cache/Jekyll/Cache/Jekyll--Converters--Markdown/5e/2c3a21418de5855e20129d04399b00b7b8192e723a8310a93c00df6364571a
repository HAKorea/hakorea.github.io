I"l<p>The <code>transmission</code> integration allows you to monitor your downloads with <a href="https://www.transmissionbt.com/">Transmission</a> from within Home Assistant and setup automation based on the information.</p>
<h2>Setup</h2>
<p>To use the monitoring, your transmission client needs to allow remote access. If you are running the graphical transmission client (transmission-gtk) go to <strong>Edit</strong> -&gt; <strong>Preferences</strong> and choose the tab <strong>Remote</strong>. Check <strong>Allow remote access</strong>, enter your username and your password, and uncheck the network restriction as needed.</p>
<p class='img'>
  <img src='/images/integrations/transmission/transmission_perf.png' />
</p>
<p>If everything is set up correctly, the details will show up in the frontend.</p>
<p class='img'>
  <img src='/images/integrations/transmission/transmission.png' />
</p>
<h2>Configuration</h2>
<p>Set up the integration through <strong>Configuration</strong> -&gt; <strong>Integrations</strong> -&gt; <strong>Transmission</strong>. For legacy support old transmission configuration is imported and set up as new integration. Make sure to remove <code>monitored_condiditions</code> as they are now automatically added to Home Assistant</p>
<p>To enable this sensor, add the following lines to your <code>configuration.yaml</code>:</p>
<pre><code class="language-yaml">transmission:
  host: 192.168.1.1
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='host' href='#host'></a> host</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>This is the IP address of your Transmission daemon, e.g., <code>192.168.1.1</code>.</p>
</span></p></dd><dt><a class='title-link' name='port' href='#port'></a> port</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The port your Transmission daemon uses.</p>
</span></p><p class='default'>
Default value: <p>9091</p>
</p></dd><dt><a class='title-link' name='name' href='#name'></a> name</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The name to use when displaying this Transmission instance in the frontend.</p>
</span></p></dd><dt><a class='title-link' name='username' href='#username'></a> username</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Your Transmission username, if you use authentication.</p>
</span></p></dd><dt><a class='title-link' name='password' href='#password'></a> password</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Your Transmission password, if you use authentication.</p>
</span></p></dd><dt><a class='title-link' name='scan_interval' href='#scan_interval'></a> scan_interval</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>How frequently to query for new data. Defaults to 120 seconds.</p>
</span></p></dd></dl>
</div>
<h2>Integration Entities</h2>
<p>The Transmission Integration will add the following sensors and switches.</p>
<p>Sensors:</p>
<ul>
<li>transmission_current_status: The status of your Transmission daemon.</li>
<li>transmission_download_speed: The current download speed [MB/s].</li>
<li>transmission_upload_speed: The current upload speed [MB/s].</li>
<li>transmission_active_torrents: The current number of active torrents.</li>
<li>transmission_paused_torrents: The current number of paused torrents.</li>
<li>transmission_total_torrents: The total number of torrents present in the client.</li>
<li>transmission_started_torrents: The current number of started torrents (downloading).</li>
<li>transmission_completed_torrents: The current number of completed torrents (seeding)</li>
</ul>
<p>Switches:</p>
<ul>
<li>transmission_switch: A switch to start/stop all torrents</li>
<li>transmission_turtle_mode: A switch to enable turtle mode.</li>
</ul>
<h2>Event Automation</h2>
<p>The Transmission integration is continuously monitoring the status of torrents in the target client. Once a torrent is started or completed, an event is triggered on the Home Assistant Bus, which allows to implement any kind of automation.</p>
<p>Possible events are:</p>
<ul>
<li>transmission_downloaded_torrent</li>
<li>transmission_started_torrent</li>
</ul>
<p>Inside of the event, there is the name of the torrent that is started or completed, as it is seen in the Transmission User Interface.</p>
<p>Example of configuration of an automation with completed torrents:</p>
<pre><code class="language-yaml">- alias: Completed Torrent
  trigger:
    platform: event
    event_type: transmission_downloaded_torrent
  action:
    service: notify.telegram_notifier
    data_template:
      title: &quot;Torrent completed!&quot;
      message: &quot;{{trigger.event.data.name}}&quot;
</code></pre>
<h2>Services</h2>
<h3>Service <code>add_torrent</code></h3>
<p>Adds a new torrent to download. It can either be a URL (http, https or ftp), magnet link or a local file (make sure that the path is <a href="/docs/configuration/basic/#whitelist_external_dirs">white listed</a>).</p>
<table>
<thead>
<tr>
<th>Service data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td>no</td>
<td>Name of the configured instance</td>
</tr>
<tr>
<td><code>torrent</code></td>
<td>no</td>
<td>Torrent to download</td>
</tr>
</tbody>
</table>
<h2>Templating</h2>
<h3>Sensor <code>started_torrents</code></h3>
<p>The state attribute <code>torrent_info</code> contains information about the torrents that are currently downloading. You can see this information in <strong>Developer Tools</strong> -&gt; <strong>States</strong> -&gt; <code>sensor.transmission_started_torrents</code> -&gt; <strong>Attributes</strong>, or by adding a Markdown Card to Lovelace.</p>
<pre><code class="language-yaml">content: &gt;
  {% set payload = state_attr('sensor.transmission_started_torrents', 'torrent_info') %}

  {% for torrent in payload.items() %} {% set name = torrent[0] %} {% set data = torrent[1] %}
  
  {{ name|truncate(20) }} is {{ data.percent_done }}% complete, {{ data.eta }} remaining {% endfor %}
type: markdown
</code></pre>
:ET