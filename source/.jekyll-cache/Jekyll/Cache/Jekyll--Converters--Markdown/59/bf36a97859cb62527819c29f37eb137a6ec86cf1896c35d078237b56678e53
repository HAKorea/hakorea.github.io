I"1,<p>The <code>logi_circle</code> implementation allows you to integrate your <a href="https://circle.logi.com/">Logi Circle</a> cameras in Home Assistant. To connect Logi Circle, you will have to <a href="#requesting-api-access">sign up for API access</a> and get a <code>client_id</code>, <code>client_secret</code> and <code>api_key</code>.</p>
<h2>Requesting API access</h2>
<ol>
<li>Navigate to the <a href="https://docs.google.com/forms/d/184FUILJ10rVxotyOQR5DAiu6GcCbK31AZszUdzT1ybs">Circle OAuth2 Client Request Form</a>.</li>
<li>Fill out your contact name and e-mail address.</li>
<li>For the User Visible Client Name, specify “Home Assistant”</li>
<li>Request the following scopes:
<ul>
<li><code>circle:activities</code></li>
<li><code>circle:accessories</code></li>
<li><code>circle:live_image</code></li>
<li><code>circle:live</code></li>
<li><code>circle:notifications</code></li>
<li><code>circle:summaries</code></li>
</ul>
</li>
<li>Request the <code>authorization_code</code> grant type.</li>
<li>For the redirect URI, specify your Home Assistant URL followed by <code>/api/logi_circle</code>. For example, if your Home Assistant URL is <code>https://abc123.ui.nabu.casa</code>, then request <code>https://abc123.ui.nabu.casa/api/logi_circle</code>. The redirect URI must meet the following criteria:</li>
</ol>
<ul>
<li>The URL must be HTTPS with a SSL certificate issued by a trusted CA (i.e., trusted by normal browsers).</li>
<li>At the time you submit your request to Logitech, you need to demonstrate that you have exclusive control of the fully qualified domain name in your redirect URI. An active Home Assistant instance at the redirect URI will suffice. If you don’t want to expose your Home Assistant instance publicly, you may also place a static page at the redirect URI with a short message that you will manage redirection of the authorization token to your local Home Assistant instance. Free static hosts that issue subdomains for hosting (e.g., Netlify) are permitted.</li>
<li>As the redirect URI must be public facing, no local/reserved TLDs are permitted (eg. .local, .localhost, .example, etc. are not allowed).</li>
</ul>
<p>Please note that the turn-around time for API access takes a few business days after which you will be contacted by Logitech using the email address you provided in the form.</p>
<h2>Configuration</h2>
<p>To integrate cameras linked with your <a href="https://circle.logi.com/">Logi Circle</a> account, add the following to your <code>configuration.yaml</code> file:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
logi_circle:
  client_id: YOUR_CLIENT_ID
  client_secret: YOUR_CLIENT_SECRET
  api_key: YOUR_API_KEY
  redirect_uri: YOUR_REDIRECT_URI
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='client_id' href='#client_id'></a> client_id</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>The client ID issued to you by Logitech.</p>
</span></p></dd><dt><a class='title-link' name='client_secret' href='#client_secret'></a> client_secret</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>The client secret issued to you by Logitech.</p>
</span></p></dd><dt><a class='title-link' name='api_key' href='#api_key'></a> api_key</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>The API key issued to you by Logitech.</p>
</span></p></dd><dt><a class='title-link' name='redirect_uri' href='#redirect_uri'></a> redirect_uri</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>The redirect URI that corresponds to your Home Assistant instance. It must match one of the redirect URIs specified when you requested API access from Logitech.</p>
</span></p></dd></dl>
</div>
<h3>Camera</h3>
<p>The <code>logi_circle</code> camera platform allows you to view still frames from your <a href="https://circle.logi.com/">Logi Circle</a> camera’s live stream in Home Assistant.</p>
<p>Logi Circle cameras support the <code>camera.turn_on</code> and <code>camera.turn_off</code> services. This will set the streaming mode property of your camera accordingly, controlling whether the live stream is available and activity recordings are captured.</p>
<h3>Sensor</h3>
<p>The <code>logi_circle</code> sensor platform lets you monitor sensors connected to your <a href="https://circle.logi.com">Logi Circle</a> cameras in Home Assistant.</p>
<p>To customize which sensors are setup, you can extend the Logi Circle integration configuration in your <code>configuration.yaml</code> file with the following settings:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
logi_circle:
  sensors:
    monitored_conditions:
      - battery_level
      - last_activity_time
      - recording
      - signal_strength_category
      - signal_strength_percentage
      - streaming
</code></pre>
<p>By default, all sensors available from your Logi Circle devices will be monitored. Leave <code>monitored_conditions</code> blank to disable all sensors for the Logi Circle component. Devices without an internal battery will not expose a <code>battery_level</code> sensor.</p>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='sensor' href='#sensor'></a> sensor</dt><dd><p class='desc'><span class='type'>(<span class='map'>map</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Configuration to pass to all sensors.</p>
</span></p></dd><dd><dl class='nested'><dt><a class='title-link' name='monitored_conditions' href='#monitored_conditions'></a> monitored_conditions</dt><dd><p class='desc'><span class='type'>(<span class='list'>list</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The conditions to create sensors from.</p>
</span></p><p class='default'>
Default value: <p>all</p>
</p></dd><dd><dl class='nested'><dt><a class='title-link' name='battery_level' href='#battery_level'></a> battery_level</dt><dd><p class='desc'><span class='description'><p>Returns the battery level percentage from the camera.</p>
</span></p></dd><dt><a class='title-link' name='last_activity_time' href='#last_activity_time'></a> last_activity_time</dt><dd><p class='desc'><span class='description'><p>Return the timestamp from the last time the Logi Circle camera detected any activity.</p>
</span></p></dd><dt><a class='title-link' name='recording' href='#recording'></a> recording</dt><dd><p class='desc'><span class='description'><p>The camera’s recording mode. If false, the camera will not capture activities.</p>
</span></p></dd><dt><a class='title-link' name='signal_strength_category' href='#signal_strength_category'></a> signal_strength_category</dt><dd><p class='desc'><span class='description'><p>Return the WiFi signal level from the camera.</p>
</span></p></dd><dt><a class='title-link' name='signal_strength_percentage' href='#signal_strength_percentage'></a> signal_strength_percentage</dt><dd><p class='desc'><span class='description'><p>Return the WiFi signal percentage from the camera.</p>
</span></p></dd><dt><a class='title-link' name='streaming' href='#streaming'></a> streaming</dt><dd><p class='desc'><span class='description'><p>The soft on/off status of the camera.</p>
</span></p></dd></dl></dd></dl></dd></dl>
</div>
<h2>Services</h2>
<p>The <code>logi_circle</code> platform exposes 3 services for interacting with your Logi Circle device. When calling a service with one or more entity IDs, please ensure you target the camera entity (eg. <code>camera.living_room_camera</code>).</p>
<h3>Service <code>logi_circle.livestream_record</code></h3>
<p>Initiates a recording of the camera’s live stream.</p>
<table>
<thead>
<tr>
<th>Service data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>yes</td>
<td>Name(s) of entities to initiate a recording for, e.g., <code>camera.living_room_camera</code>. If blank, targets all Logi Circle cameras.</td>
</tr>
<tr>
<td><code>filename </code></td>
<td>no</td>
<td>Template of a file name. Variable is <code>entity_id</code>, e.g., <code>/tmp/recording_{{ entity_id }}.mp4</code>.</td>
</tr>
<tr>
<td><code>duration</code></td>
<td>no</td>
<td>Duration of recording, in seconds.</td>
</tr>
</tbody>
</table>
<p>The path part of <code>filename</code> must be an entry in the <code>whitelist_external_dirs</code> in your <a href="/docs/configuration/basic/"><code>homeassistant:</code></a> section of your <code>configuration.yaml</code> file.</p>
<h3>Service <code>logi_circle.livestream_snapshot</code></h3>
<p>Take a snapshot from a camera’s live stream. This differs from the generic <a href="/integrations/camera/#service-snapshot">snapshot</a> service in that explicitly requests a fresh image from Logi Circle’s API. This will force cameras in a deep sleep state to wake.</p>
<p>Please note that new snapshots will only be generated if the cached snapshot is older than 30s. Requesting multiple snapshots in quick succession will likely return the same image. Likewise, requesting a snapshot from a camera that is actively streaming (ie. is not in deep sleep) will return a cached image no older than 30s.</p>
<table>
<thead>
<tr>
<th>Service data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>yes</td>
<td>Name(s) of entities to create a live stream snapshot from, e.g., <code>camera.living_room_camera</code>. If blank, targets all Logi Circle cameras.</td>
</tr>
<tr>
<td><code>filename</code></td>
<td>no</td>
<td>Template of a file name. Variable is <code>entity_id</code>, e.g., <code>/tmp/snapshot_{{ entity_id }}.jpg</code>.</td>
</tr>
</tbody>
</table>
<p>The path part of <code>filename</code> must be an entry in the <code>whitelist_external_dirs</code> in your <a href="/docs/configuration/basic/"><code>homeassistant:</code></a> section of your <code>configuration.yaml</code> file.</p>
<h3>Service <code>logi_circle.set_config</code></h3>
<p>Sets a configuration property for your camera.</p>
<table>
<thead>
<tr>
<th>Service data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>yes</td>
<td>Name(s) of entities to set the operation mode for, e.g., <code>camera.living_room_camera</code>. If blank, targets all Logi Circle cameras.</td>
</tr>
<tr>
<td><code>mode</code></td>
<td>no</td>
<td>Configuration property to set. Allowed values: <code>LED</code>, <code>RECORDING_MODE</code></td>
</tr>
<tr>
<td><code>value</code></td>
<td>no</td>
<td>Mode value. Allowed values: <code>true</code>, <code>false</code></td>
</tr>
</tbody>
</table>
:ET