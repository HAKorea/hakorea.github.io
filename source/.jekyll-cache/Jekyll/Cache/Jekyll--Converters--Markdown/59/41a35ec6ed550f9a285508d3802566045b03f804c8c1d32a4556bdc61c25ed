I"äC<p>The <code>darksky</code> platform uses the <a href="https://darksky.net/">Dark Sky</a> web service as a source for meteorological data for your location. The location is based on the <code>longitude</code> and <code>latitude</code> coordinates configured in your <code>configuration.yaml</code> file. The coordinates are auto-detected but to take advantage of the hyper-local weather reported by Dark Sky, you can refine them down to your exact home address. GPS coordinates can be found by using <a href="https://www.google.com/maps">Google Maps</a> and clicking on your home or <a href="https://www.openstreetmap.org/">Openstreetmap</a>.</p>
<h2>Setup</h2>
<p>You need an API key which is free but requires <a href="https://darksky.net/dev/register">registration</a>. You can make up to 1000 calls per day for free which means that you could make one approximately every 86 seconds.</p>
<div class='note warning'>
<p><a href="https://darksky.net/dev/">Dark Sky</a> will charge you $0.0001 per API call if you enter your credit card details and create more than 1000 calls per day.</p>
</div>
<h2>Configuration</h2>
<p>To add Dark Sky to your installation, add the following to your <code>configuration.yaml</code> file:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
sensor:
  - platform: darksky
    api_key: YOUR_API_KEY
    forecast:
      - 0
    hourly_forecast:
      - 0
      - 1
    monitored_conditions:
      - summary
      - icon
      - temperature
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='api_key' href='#api_key'></a> api_key</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>Your API key.</p>
</span></p></dd><dt><a class='title-link' name='name' href='#name'></a> name</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Additional name for the sensors.</p>
</span></p><p class='default'>
Default value: <p>Dark Sky</p>
</p></dd><dt><a class='title-link' name='forecast' href='#forecast'></a> forecast</dt><dd><p class='desc'><span class='type'>(<span class='list'>list</span>)</span><span class='required'>(Optional)</span><span class='description'><p>List of days in the 7-day forecast you would like to receive data on, starting with today as day 0 and ending with day 7. Any condition from <code>monitored_conditions</code> with a daily forecast by Dark Sky will generate a sensor with entity_id <code>&lt;condition&gt;_&lt;day&gt;d</code>.</p>
</span></p></dd><dt><a class='title-link' name='hourly_forecast' href='#hourly_forecast'></a> hourly_forecast</dt><dd><p class='desc'><span class='type'>(<span class='list'>list</span>)</span><span class='required'>(Optional)</span><span class='description'><p>List of hours in the 48-hour forecast you would like to receive data on, starting with this hour as hour 0 and ending with hour 48. Any condition from <code>monitored_conditions</code> with an hourly forecast by Dark Sky will generate a sensor with entity_id <code>&lt;condition&gt;_&lt;hour&gt;h</code>.</p>
</span></p></dd><dt><a class='title-link' name='language' href='#language'></a> language</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The desired language of the summary properties. The valid options are further down in a table.</p>
</span></p><p class='default'>
Default value: <p><code>en</code></p>
</p></dd><dt><a class='title-link' name='latitude' href='#latitude'></a> latitude</dt><dd><p class='desc'><span class='type'>(<span class='float'>float</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Latitude coordinate to monitor weather of (required if <strong>longitude</strong> is specified).</p>
</span></p><p class='default'>
Default value: <p>coordinates defined in your <code>configuration.yaml</code></p>
</p></dd><dt><a class='title-link' name='longitude' href='#longitude'></a> longitude</dt><dd><p class='desc'><span class='type'>(<span class='float'>float</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Longitude coordinate to monitor weather of (required if <strong>latitude</strong> is specified).</p>
</span></p><p class='default'>
Default value: <p>coordinates defined in your <code>configuration.yaml</code></p>
</p></dd><dt><a class='title-link' name='monitored_conditions' href='#monitored_conditions'></a> monitored_conditions</dt><dd><p class='desc'><span class='type'>(<span class='list'>list</span>)</span><span class='required'>(Required)</span><span class='description'><p>Conditions to display in the frontend.</p>
</span></p></dd><dd><dl class='nested'><dt><a class='title-link' name='summary' href='#summary'></a> summary</dt><dd><p class='desc'><span class='description'><p>A human-readable text summary.</p>
</span></p></dd><dt><a class='title-link' name='icon' href='#icon'></a> icon</dt><dd><p class='desc'><span class='description'><p>A machine-readable text summary, suitable for selecting an icon for display. See <a href="https://darksky.net/dev/docs">Dark Sky API documentation</a> for the list of possible values.</p>
</span></p></dd><dt><a class='title-link' name='precip_type' href='#precip_type'></a> precip_type</dt><dd><p class='desc'><span class='description'><p>The type of precipitation occurring at the given time. If <code>precip_intensity</code> is zero, then this property will be <code>unknown</code>. See <a href="https://darksky.net/dev/docs">Dark Sky API documentation</a> for the list of possible values.</p>
</span></p></dd><dt><a class='title-link' name='precip_intensity' href='#precip_intensity'></a> precip_intensity</dt><dd><p class='desc'><span class='description'><p>The intensity of precipitation occurring at the given time. This value is conditional on probability (that is, assuming any precipitation occurs at all).</p>
</span></p></dd><dt><a class='title-link' name='precip_probability' href='#precip_probability'></a> precip_probability</dt><dd><p class='desc'><span class='description'><p>The probability of precipitation occurring, in percents.</p>
</span></p></dd><dt><a class='title-link' name='precip_accumulation' href='#precip_accumulation'></a> precip_accumulation</dt><dd><p class='desc'><span class='description'><p>The amount of snowfall accumulation expected to occur. If no snowfall is expected, this property will be <code>undefined</code>.</p>
</span></p></dd><dt><a class='title-link' name='temperature' href='#temperature'></a> temperature</dt><dd><p class='desc'><span class='description'><p>The air temperature.</p>
</span></p></dd><dt><a class='title-link' name='apparent_temperature' href='#apparent_temperature'></a> apparent_temperature</dt><dd><p class='desc'><span class='description'><p>The apparent (or ‚Äúfeels like‚Äù) temperature.</p>
</span></p></dd><dt><a class='title-link' name='dew_point' href='#dew_point'></a> dew_point</dt><dd><p class='desc'><span class='description'><p>The dew point.</p>
</span></p></dd><dt><a class='title-link' name='wind_speed' href='#wind_speed'></a> wind_speed</dt><dd><p class='desc'><span class='description'><p>The wind speed.</p>
</span></p></dd><dt><a class='title-link' name='wind_gust' href='#wind_gust'></a> wind_gust</dt><dd><p class='desc'><span class='description'><p>The wind gust speed.</p>
</span></p></dd><dt><a class='title-link' name='wind_bearing' href='#wind_bearing'></a> wind_bearing</dt><dd><p class='desc'><span class='description'><p>The direction that the wind is coming <strong>from</strong> in degrees, with true north at 0¬∞ and progressing clockwise. If <code>wind_speed</code> is 0, then this value is <code>unknown</code>.</p>
</span></p></dd><dt><a class='title-link' name='cloud_cover' href='#cloud_cover'></a> cloud_cover</dt><dd><p class='desc'><span class='description'><p>The percentage of sky occluded by clouds.</p>
</span></p></dd><dt><a class='title-link' name='humidity' href='#humidity'></a> humidity</dt><dd><p class='desc'><span class='description'><p>The relative humidity.</p>
</span></p></dd><dt><a class='title-link' name='pressure' href='#pressure'></a> pressure</dt><dd><p class='desc'><span class='description'><p>The sea-level air pressure in millibars.</p>
</span></p></dd><dt><a class='title-link' name='visibility' href='#visibility'></a> visibility</dt><dd><p class='desc'><span class='description'><p>The average visibility.</p>
</span></p></dd><dt><a class='title-link' name='ozone' href='#ozone'></a> ozone</dt><dd><p class='desc'><span class='description'><p>The columnar density of total atmospheric ozone at the given time in Dobson units.</p>
</span></p></dd><dt><a class='title-link' name='minutely_summary' href='#minutely_summary'></a> minutely_summary</dt><dd><p class='desc'><span class='description'><p>A human-readable text summary for the next hour.</p>
</span></p></dd><dt><a class='title-link' name='hourly_summary' href='#hourly_summary'></a> hourly_summary</dt><dd><p class='desc'><span class='description'><p>A human-readable text summary for the next two days.</p>
</span></p></dd><dt><a class='title-link' name='daily_summary' href='#daily_summary'></a> daily_summary</dt><dd><p class='desc'><span class='description'><p>A human-readable text summary for the next week.</p>
</span></p></dd><dt><a class='title-link' name='temperature_high' href='#temperature_high'></a> temperature_high</dt><dd><p class='desc'><span class='description'><p>The daytime high temperature.</p>
</span></p></dd><dt><a class='title-link' name='temperature_low' href='#temperature_low'></a> temperature_low</dt><dd><p class='desc'><span class='description'><p>The overnight low temperature.</p>
</span></p></dd><dt><a class='title-link' name='apparent_temperature_high' href='#apparent_temperature_high'></a> apparent_temperature_high</dt><dd><p class='desc'><span class='description'><p>The daytime high apparent temperature.</p>
</span></p></dd><dt><a class='title-link' name='apparent_temperature_low' href='#apparent_temperature_low'></a> apparent_temperature_low</dt><dd><p class='desc'><span class='description'><p>The overnight low apparent temperature.</p>
</span></p></dd><dt><a class='title-link' name='precip_intensity_max' href='#precip_intensity_max'></a> precip_intensity_max</dt><dd><p class='desc'><span class='description'><p>The maximum value of <code>precip_intensity</code> during a given day.</p>
</span></p></dd><dt><a class='title-link' name='uv_index' href='#uv_index'></a> uv_index</dt><dd><p class='desc'><span class='description'><p>The UV index.</p>
</span></p></dd><dt><a class='title-link' name='moon_phase' href='#moon_phase'></a> moon_phase</dt><dd><p class='desc'><span class='description'><p>The fractional part of the lunation number during the given day: a value of 0 corresponds to a new moon, 0.25 to a first quarter moon, 0.5 to a full moon, and 0.75 to a last quarter moon.</p>
</span></p></dd><dt><a class='title-link' name='sunrise_time' href='#sunrise_time'></a> sunrise_time</dt><dd><p class='desc'><span class='description'><p>The time of when the sun will rise during a given day.</p>
</span></p></dd><dt><a class='title-link' name='sunset_time' href='#sunset_time'></a> sunset_time</dt><dd><p class='desc'><span class='description'><p>The time of when the sun will set during a given day.</p>
</span></p></dd><dt><a class='title-link' name='nearest_storm_distance' href='#nearest_storm_distance'></a> nearest_storm_distance</dt><dd><p class='desc'><span class='description'><p>The approximate distance to the nearest storm in miles.</p>
</span></p></dd><dt><a class='title-link' name='nearest_storm_bearing' href='#nearest_storm_bearing'></a> nearest_storm_bearing</dt><dd><p class='desc'><span class='description'><p>The approximate direction of the nearest storm in degrees, with true north at 0¬∞ and progressing clockwise.</p>
</span></p></dd><dt><a class='title-link' name='alerts' href='#alerts'></a> alerts</dt><dd><p class='desc'><span class='description'><p>Current severe weather advisories.</p>
</span></p></dd></dl></dd><dt><a class='title-link' name='units' href='#units'></a> units</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Specify the unit system. Valid options are <code>auto</code>, <code>us</code>, <code>si</code>, <code>ca</code> and <code>uk2</code>. <code>auto</code> will let Dark Sky decide the unit system based on location.</p>
</span></p><p class='default'>
Default value: <p><code>si</code> or <code>us</code>, based on the temperature preference in Home Assistant.</p>
</p></dd><dt><a class='title-link' name='scan_interval' href='#scan_interval'></a> scan_interval</dt><dd><p class='desc'><span class='type'>(<span class='time'>time</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Minimum time interval between updates. Supported formats: <code>scan_interval: 'HH:MM:SS'</code>, <code>scan_interval: 'HH:MM'</code> and Time period dictionary (see example below).</p>
</span></p><p class='default'>
Default value: <p>2 minutes</p>
</p></dd></dl>
</div>
<div class='note'>
<p>Please note that some monitored conditions, such as <code>temperature_high</code> or <code>temperature_low</code>, may only work when setting the <code>forecast</code> attribute to at least <code>0</code> (current day).</p>
</div>
<h4>Time period dictionary example</h4>
<pre><code class="language-yaml">scan_interval:
  # At least one of these must be specified:
  days: 0
  hours: 0
  minutes: 3
  seconds: 30
  milliseconds: 0
</code></pre>
<h4>Language options</h4>
<p>All language options are described in this table that you can use for the dark sky sensor.</p>
<table>
<thead>
<tr>
<th>Language</th>
<th>Variable Code</th>
</tr>
</thead>
<tbody>
<tr>
<td>Arabic</td>
<td><code>ar</code></td>
</tr>
<tr>
<td>Azerbaijani</td>
<td><code>az</code></td>
</tr>
<tr>
<td>Belarusian</td>
<td><code>be</code></td>
</tr>
<tr>
<td>Bulgarian</td>
<td><code>bg</code></td>
</tr>
<tr>
<td>Bengali</td>
<td><code>bn</code></td>
</tr>
<tr>
<td>Bosnian</td>
<td><code>bs</code></td>
</tr>
<tr>
<td>Catalan</td>
<td><code>ca</code></td>
</tr>
<tr>
<td>Czech</td>
<td><code>cs</code></td>
</tr>
<tr>
<td>Danish</td>
<td><code>da</code></td>
</tr>
<tr>
<td>German</td>
<td><code>de</code></td>
</tr>
<tr>
<td>Greek</td>
<td><code>el</code></td>
</tr>
<tr>
<td>English</td>
<td><code>en</code></td>
</tr>
<tr>
<td>Esperanto</td>
<td><code>eo</code></td>
</tr>
<tr>
<td>Spanish</td>
<td><code>es</code></td>
</tr>
<tr>
<td>Estonian</td>
<td><code>et</code></td>
</tr>
<tr>
<td>Finnish</td>
<td><code>fi</code></td>
</tr>
<tr>
<td>French</td>
<td><code>fr</code></td>
</tr>
<tr>
<td>Hebrew</td>
<td><code>he</code></td>
</tr>
<tr>
<td>Hindi</td>
<td><code>hi</code></td>
</tr>
<tr>
<td>Croatian</td>
<td><code>hr</code></td>
</tr>
<tr>
<td>Hungarian</td>
<td><code>hu</code></td>
</tr>
<tr>
<td>Indonesian</td>
<td><code>id</code></td>
</tr>
<tr>
<td>Icelandic</td>
<td><code>is</code></td>
</tr>
<tr>
<td>Italian</td>
<td><code>it</code></td>
</tr>
<tr>
<td>Japanese</td>
<td><code>ja</code></td>
</tr>
<tr>
<td>Georgian</td>
<td><code>ka</code></td>
</tr>
<tr>
<td>Kannada</td>
<td><code>kn</code></td>
</tr>
<tr>
<td>Korean</td>
<td><code>ko</code></td>
</tr>
<tr>
<td>Cornish</td>
<td><code>kw</code></td>
</tr>
<tr>
<td>Latvian</td>
<td><code>lv</code></td>
</tr>
<tr>
<td>Malayam</td>
<td><code>ml</code></td>
</tr>
<tr>
<td>Marathi</td>
<td><code>mr</code></td>
</tr>
<tr>
<td>Norwegian Bokm√•l</td>
<td><code>nb</code></td>
</tr>
<tr>
<td>Dutch</td>
<td><code>nl</code></td>
</tr>
<tr>
<td>Punjabi</td>
<td><code>pa</code></td>
</tr>
<tr>
<td>Polish</td>
<td><code>pl</code></td>
</tr>
<tr>
<td>Portuguese</td>
<td><code>pt</code></td>
</tr>
<tr>
<td>Romanian</td>
<td><code>ro</code></td>
</tr>
<tr>
<td>Russian</td>
<td><code>ru</code></td>
</tr>
<tr>
<td>Slovak</td>
<td><code>sk</code></td>
</tr>
<tr>
<td>Slovenian</td>
<td><code>sl</code></td>
</tr>
<tr>
<td>Serbian</td>
<td><code>sr</code></td>
</tr>
<tr>
<td>Swedish</td>
<td><code>sv</code></td>
</tr>
<tr>
<td>Tamil</td>
<td><code>ta</code></td>
</tr>
<tr>
<td>Telugu</td>
<td><code>te</code></td>
</tr>
<tr>
<td>Tetum</td>
<td><code>tet</code></td>
</tr>
<tr>
<td>Turkish</td>
<td><code>tr</code></td>
</tr>
<tr>
<td>Ukrainian</td>
<td><code>uk</code></td>
</tr>
<tr>
<td>Urdu</td>
<td><code>ur</code></td>
</tr>
<tr>
<td>Igpay Atinlay</td>
<td><code>x-pig-latin</code></td>
</tr>
<tr>
<td>simplified Chinese</td>
<td><code>zh</code></td>
</tr>
<tr>
<td>traditional Chinese</td>
<td><code>zh-tw</code></td>
</tr>
</tbody>
</table>
<div class='note warning'>
While the platform is called "darksky" the sensors will show up in Home Assistant as "dark_sky" (eg: sensor.dark_sky_summary).
</div>
<p>More details about the API are available in the <a href="https://darksky.net/dev/docs">Dark Sky API documentation</a>.</p>
:ET