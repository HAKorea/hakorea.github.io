I"÷<p>The <code>modbus</code> switch platform allows you to control <a href="http://www.modbus.org/">Modbus</a> coils or registers.</p>
<h2>Configuration</h2>
<p>To use your Modbus switches in your installation, add the following to your <code>configuration.yaml</code> file:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
switch:
  platform: modbus
  coils:
    - name: Switch1
      hub: hub1
      slave: 1
      coil: 13
    - name: Switch2
      slave: 2
      coil: 14
  registers:
    - name: Register1
      hub: hub1
      slave: 1
      register: 11
      command_on: 1
      command_off: 0
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='coils' href='#coils'></a> coils</dt><dd><p class='desc'><span class='type'>(<span class='map'>map</span>)</span><span class='required'>(Optional)</span><span class='description'><p>A list of relevant coils to read from/write to.</p>
</span></p></dd><dd><dl class='nested'><dt><a class='title-link' name='hub' href='#hub'></a> hub</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The name of the hub.</p>
</span></p><p class='default'>
Default value: <p>default</p>
</p></dd><dt><a class='title-link' name='slave' href='#slave'></a> slave</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Required)</span><span class='description'><p>The number of the slave (can be omitted for tcp and udp Modbus).</p>
</span></p></dd><dt><a class='title-link' name='name' href='#name'></a> name</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>Name of the switch.</p>
</span></p></dd><dt><a class='title-link' name='coil' href='#coil'></a> coil</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Required)</span><span class='description'><p>Coil number.</p>
</span></p></dd></dl></dd><dt><a class='title-link' name='register' href='#register'></a> register</dt><dd><p class='desc'><span class='type'>(<span class='map'>map</span>)</span><span class='required'>(Optional)</span><span class='description'><p>A list of relevant registers to read from/write to.</p>
</span></p></dd><dd><dl class='nested'><dt><a class='title-link' name='hub_name' href='#hub_name'></a> hub_name</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The hub to use.</p>
</span></p><p class='default'>
Default value: <p>default</p>
</p></dd><dt><a class='title-link' name='slave' href='#slave'></a> slave</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Required)</span><span class='description'><p>The number of the slave (can be omitted for tcp and udp Modbus).</p>
</span></p></dd><dt><a class='title-link' name='name' href='#name'></a> name</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>Name of the switch.</p>
</span></p></dd><dt><a class='title-link' name='register' href='#register'></a> register</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Required)</span><span class='description'><p>Register number.</p>
</span></p></dd><dt><a class='title-link' name='command_on' href='#command_on'></a> command_on</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Required)</span><span class='description'><p>Value to write to turn on the switch.</p>
</span></p></dd><dt><a class='title-link' name='command_off' href='#command_off'></a> command_off</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Required)</span><span class='description'><p>Value to write to turn off the switch.</p>
</span></p></dd><dt><a class='title-link' name='verify_state' href='#verify_state'></a> verify_state</dt><dd><p class='desc'><span class='type'>(<span class='boolean'>boolean</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Define if is possible to readback the status of the switch.</p>
</span></p><p class='default'>
Default value: <p>true</p>
</p></dd><dt><a class='title-link' name='verify_register' href='#verify_register'></a> verify_register</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Register to readback.</p>
</span></p><p class='default'>
Default value: <p>same as register</p>
</p></dd><dt><a class='title-link' name='register_type' href='#register_type'></a> register_type</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Modbus register types are holding or input.</p>
</span></p><p class='default'>
Default value: <p>holding</p>
</p></dd><dt><a class='title-link' name='state_on' href='#state_on'></a> state_on</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Register value when switch is on.</p>
</span></p><p class='default'>
Default value: <p>same as command_on</p>
</p></dd><dt><a class='title-link' name='state_off' href='#state_off'></a> state_off</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Register value when switch is off.</p>
</span></p><p class='default'>
Default value: <p>same as command_off</p>
</p></dd></dl></dd></dl>
</div>
<p>Itâ€™s possible to change the default 30 seconds scan interval for the switch state updates as shown in the <a href="/docs/configuration/platform_options/#scan-interval">Platform options</a> documentation.</p>
<h3>Full example</h3>
<p>Example a temperature sensor with a 10 seconds scan interval:</p>
<pre><code class="language-yaml">switch:
  platform: modbus
  scan_interval: 10
  coils:
    - name: Switch1
      hub: hub1
      slave: 1
      coil: 13
    - name: Switch2
      hub: hub1
      slave: 2
      coil: 14
</code></pre>
:ET