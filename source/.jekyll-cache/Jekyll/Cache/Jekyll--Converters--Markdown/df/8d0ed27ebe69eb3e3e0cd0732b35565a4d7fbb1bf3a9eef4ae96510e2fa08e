I"Ñ<p>The <code>aftership</code> platform allows one to track deliveries by <a href="https://www.aftership.com">AfterShip</a>, a service that supports 490+ couriers worldwide. It is free to use up to 100 tracked packages per month, after that there is a fee.</p>
<p>The sensor value shows the number of packages that are not in <code>Delivered</code> state. As attributes are the number of packages per status.</p>
<h2>Setup</h2>
<p>To use this sensor, you need an <a href="https://accounts.aftership.com/register">AfterShip Account</a> and set up an API Key. To set up an API Key go to <a href="https://admin.aftership.com/settings/api-keys">AfterShip API</a> page, and copy existing key or generate a new one.</p>
<div class='note info'>
AfterShip recently started requiring having a credit card on file even if you are only using the free plan. That does not change the functionality of the platform, just something to be aware of.
</div>
<h2>Configuration</h2>
<p>To enable this sensor, add the following lines to your <code>configuration.yaml</code>:</p>
<pre><code class="language-yaml">sensor:
  - platform: aftership
    api_key: AFTERSHIP_APIKEY
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='name' href='#name'></a> name</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The sensor name to use in the frontend.</p>
</span></p><p class='default'>
Default value: <p>aftership</p>
</p></dd><dt><a class='title-link' name='api_key' href='#api_key'></a> api_key</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>The API key for AfterShip.</p>
</span></p></dd></dl>
</div>
<h2>Service <code>add_tracking</code></h2>
<p>You can use the service <code>aftership.add_tracking</code> to add trackings to Aftership.</p>
<table>
<thead>
<tr>
<th>Service data attribute</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>tracking_number</code></td>
<td><code>True</code></td>
<td>string</td>
<td>Tracking number</td>
</tr>
<tr>
<td><code>slug</code></td>
<td><code>False</code></td>
<td>string</td>
<td>Carrier e.g. <code>fedex</code></td>
</tr>
<tr>
<td><code>title</code></td>
<td><code>False</code></td>
<td>string</td>
<td>Friendly name of package</td>
</tr>
</tbody>
</table>
<h2>Service <code>remove_tracking</code></h2>
<p>You can use the service <code>aftership.remove_tracking</code> to remove trackings from Aftership.</p>
<table>
<thead>
<tr>
<th>Service data attribute</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>tracking_number</code></td>
<td><code>True</code></td>
<td>string</td>
<td>Tracking number</td>
</tr>
<tr>
<td><code>slug</code></td>
<td><code>True</code></td>
<td>string</td>
<td>Carrier e.g. <code>fedex</code></td>
</tr>
</tbody>
</table>
<div class='note info'>
This integration retrieves data from AfterShip public REST API, but the integration is not affiliated with AfterShip.
</div>
:ET