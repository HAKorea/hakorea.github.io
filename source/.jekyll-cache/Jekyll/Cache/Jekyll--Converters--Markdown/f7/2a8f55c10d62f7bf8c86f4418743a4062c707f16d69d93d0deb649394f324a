I"<p>This tracker discovers new devices on boot and in regular intervals and tracks Bluetooth low-energy devices periodically based on interval_seconds value. It is not required to pair the devices with each other.</p>
<p>Devices discovered are stored with â€˜BLE_â€™ as the prefix for device mac addresses in <code>known_devices.yaml</code>.</p>
<p>This platform requires pybluez to be installed. On Debian based installs, run</p>
<pre><code class="language-bash">sudo apt install bluetooth
</code></pre>
<p>Before you get started with this platform, please note that:</p>
<ul>
<li>This platform is incompatible with Windows</li>
<li>This platform requires access to the bluetooth stack, see <a href="#rootless-setup">Rootless Setup section</a> for further information</li>
</ul>
<p>To use the Bluetooth tracker in your installation, add the following to your <code>configuration.yaml</code> file:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
device_tracker:
  - platform: bluetooth_le_tracker
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='track_new_devices' href='#track_new_devices'></a> track_new_devices</dt><dd><p class='desc'><span class='type'>(<span class='boolean'>boolean</span>)</span><span class='required'>(Optional)</span><span class='description'><p>If new discovered devices are tracked by default.</p>
</span></p><p class='default'>
Default value: <p>false</p>
</p></dd><dt><a class='title-link' name='interval_seconds' href='#interval_seconds'></a> interval_seconds</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Seconds between each scan for new devices.</p>
</span></p><p class='default'>
Default value: <p>12</p>
</p></dd></dl>
</div>
<p>As some BT LE devices change their MAC address regularly, a new device is only discovered when it has been seen 5 times.
Some BTLE devices (e.g., fitness trackers) are only visible to the devices that they are paired with. In this case, the BTLE tracker wonâ€™t see this device.</p>
<h2>Rootless Setup</h2>
<p>Normally accessing the Bluetooth stack is reserved for root, but running programs that are networked as root is a bad security wise. To allow non-root access to the Bluetooth stack we can give Python 3 and hcitool the missing capabilities to access the Bluetooth stack. Quite like setting the setuid bit (see <a href="https://unix.stackexchange.com/questions/96106/bluetooth-le-scan-as-non-root">Stack Exchange</a> for more information).</p>
<pre><code class="language-bash">sudo apt-get install libcap2-bin
sudo setcap 'cap_net_raw,cap_net_admin+eip' `readlink -f \`which python3\``
sudo setcap 'cap_net_raw+ep' `readlink -f \`which hcitool\``
</code></pre>
<p>A restart of Home Assistant is required.</p>
<p>For additional configuration variables check the <a href="/integrations/device_tracker/">Device tracker page</a>.</p>
:ET