I"ˆ<p>The <a href="https://discordapp.com/">Discord service</a> is a platform for the notify component. This allows integrations to send messages to the user using Discord.</p>
<p>In order to get a token you need to go to the <a href="https://discordapp.com/developers/applications/me">Discord My Apps page</a> and create a new application. Once the application is ready, create a <a href="https://discordapp.com/developers/docs/topics/oauth2#bots">bot</a> user (<strong>Create a Bot User</strong>).</p>
<p>Retrieve the <strong>Client ID</strong> from the information section and the (hidden) <strong>Token</strong> of your bot for later.</p>
<p>When setting up the application you can use this <a href="/images/favicon-192x192-full.png">icon</a>.</p>
<p>To use Discord notifications, add the following to your <code>configuration.yaml</code> file:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
notify:
  - platform: discord
    token: YOUR_DISCORD_BOT_TOKEN
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='name' href='#name'></a> name</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The notifier will bind to the service <code>notify.NAME</code>.</p>
</span></p><p class='default'>
Default value: <p>notify</p>
</p></dd><dt><a class='title-link' name='token' href='#token'></a> token</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>Your bot‚Äôs token.</p>
</span></p></dd></dl>
</div>
<h3>Setting up the bot</h3>
<p>Bots can only send messages to servers or attach local available images. To add the bot to a server you are an admin on, get the details of the bot from the <a href="https://discordapp.com/developers/applications/me">Discord My Apps page</a>.</p>
<p class='img'>
  <img src='/images/screenshots/discord-bot.png' />
</p>
<p>Now use the Discord Authorization page with the <strong>Client ID</strong> of your <a href="https://discordapp.com/developers/docs/topics/oauth2#bots">bot</a>.</p>
<p><code>https://discordapp.com/api/oauth2/authorize?client_id=[CLIENT_ID]&amp;scope=bot&amp;permissions=0</code></p>
<p class='img'>
  <img src='/images/screenshots/discord-auth.png' />
</p>
<p>Wait for the confirmation which should say ‚ÄúAuthorized‚Äù.</p>
<p>Once the bot has been added to your server, get the channel ID of the channel you want the bot to operate in. In The Discord application go to <strong>Settings</strong> &gt; <strong>Appearance</strong> &gt; <strong>Check developer mode</strong>.</p>
<p class='img'>
  <img src='/images/screenshots/discord-api.png' />
</p>
<p>Right click channel name and copy the channel ID (<strong>Copy ID</strong>).</p>
<p>This channel ID has to be used as the target when calling the notification service. Multiple channel IDs can be specified, across multiple servers.</p>
<h4>Example service call</h4>
<pre><code class="language-yaml">- service: notify.discord
  data:
    message: &quot;A message from Home Assistant&quot;
    target: [&quot;1234567890&quot;, &quot;0987654321&quot;]
    data:
      images: 
      - &quot;/tmp/garage_cam&quot;
      - &quot;/tmp/garage.jpg&quot;
</code></pre>
<h3>Notes</h3>
<p>You can tag any user inside a channel by using their user ID in the message like so: <code>&lt;@userid&gt;</code> replacing <code>userid</code> with the ID you copied. To get the user ID right click on the user name to copy the ID like you did for the channel ID up above.</p>
<p>For more information about creating and authorizing bots, visit the <a href="https://discordapp.com/developers/docs/topics/oauth2">OAuth2 information page</a></p>
<p>To use notifications effectively, please see the <a href="/getting-started/automation/">getting started with automation page</a>.</p>
<p>Images are uploaded to Discord when a message is sent. As such, a local path to the image is required (i.e. <code>/config/www/garage.jpg</code> as opposed to <code>/local/garage.jpg</code>), and updating an image after sending it in a message will not update the message in Discord.</p>
:ET