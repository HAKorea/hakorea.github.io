I"˜<p>The <code>rvmtransport</code> sensor will give you the departure time of the next bus, tram, subway or train at the next station or stop in the Rhein-Main area public transport network. Additional details such as the line number and destination are present in the attributes.</p>
<h2>Setup</h2>
<p>Visit the <a href="https://opendata.rmv.de">RMV OpenData web site</a> to find a list of valid station IDs.</p>
<h2>Configuration</h2>
<p>To enable this sensor, add the following lines to your <code>configuration.yaml</code> file:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
sensor:
  - platform: rmvtransport
    next_departure:
     - station: STATION_OR_STOP_ID
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='timeout' href='#timeout'></a> timeout</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Specify the timeout for the API calls.</p>
</span></p><p class='default'>
Default value: <p>10</p>
</p></dd><dt><a class='title-link' name='next_departure' href='#next_departure'></a> next_departure</dt><dd><p class='desc'><span class='type'>(<span class='list'>list</span>)</span><span class='required'>(Required)</span><span class='description'><p>One or multiple departure sensors.</p>
</span></p></dd><dd><dl class='nested'><dt><a class='title-link' name='name' href='#name'></a> name</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Name to use in the frontend.</p>
</span></p><p class='default'>
Default value: <p>The default is the station name.</p>
</p></dd><dt><a class='title-link' name='station' href='#station'></a> station</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>ID of the stop or station, e.g. <code>3000010</code>.</p>
</span></p></dd><dt><a class='title-link' name='destinations' href='#destinations'></a> destinations</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>One or multiple final stop names, e.g., â€˜Frankfurt (Main) Hauptbahnhofâ€™ or [â€˜Frankfurt (Main) Hauptbahnhofâ€™,â€˜Frankfurt (Main) Stadionâ€™]. This can be used to only consider a particular direction of travel.</p>
</span></p></dd><dt><a class='title-link' name='direction' href='#direction'></a> direction</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Name of a stop or station, e.g., â€˜Frankfurt (Main) Hauptbahnhofâ€™. This can be used to only consider a particular direction of travel.</p>
</span></p></dd><dt><a class='title-link' name='lines' href='#lines'></a> lines</dt><dd><p class='desc'><span class='type'>(<span class='string integer'>string | integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>One or more line numbers, e.g., <code>'S8'</code> or <code>['S8', 'RB33', '41']</code></p>
</span></p></dd><dt><a class='title-link' name='products' href='#products'></a> products</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>One or more modes of transport <code>['U-Bahn', 'Tram', 'Bus', 'S', 'RB', 'RE', 'EC', 'IC', 'ICE']</code>.</p>
</span></p><p class='default'>
Default value: <p>[â€œU-Bahnâ€, â€œTramâ€, â€œBusâ€, â€œSâ€, â€œRBâ€, â€œREâ€, â€œECâ€, â€œICâ€, â€œICEâ€]</p>
</p></dd><dt><a class='title-link' name='time_offset' href='#time_offset'></a> time_offset</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Do not display departures leaving sooner than this number of minutes. Useful if you are a couple of minutes away from the stop.</p>
</span></p><p class='default'>
Default value: <p>0</p>
</p></dd><dt><a class='title-link' name='max_journeys' href='#max_journeys'></a> max_journeys</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Specify the maximal number of journeys.</p>
</span></p><p class='default'>
Default value: <p>5</p>
</p></dd></dl></dd></dl>
</div>
<h2>Examples</h2>
<h3>Full configuration</h3>
<p>The example below shows a full configuration with three sensors that showcase the various configuration options.</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
sensor:
  - platform: rmvtransport
    scan_interval: 120
    timeout: 10
    next_departure:
      - station: 3000010
        time_offset: 5
        destinations:
          - 'Frankfurt (Main) Flughafen Regionalbahnhof'
          - 'Frankfurt (Main) Stadion'
        products:
          - 'RB'
          - 'RE'
          - 'Bus'
          - 'S'
      - station: 3006907
        products: 'Bus'
        destinations: ['Wiesbaden Dernsches GelÃ¤nde', 'Mainz Hauptbahnhof']
        name: Destination
      - station: 3006904
        lines: 'S8'
        max_journeys: 5
        products: 'S'
</code></pre>
<p>The first sensor will return S-Bahn, bus, RB and RE trains departures from Frankfurt Hauptbahnhof to Frankfurt Airport or Stadium that are at least 5 minutes away.</p>
<p>The second sensor returns bus departures from Wiesbaden Hauptbahnhof going to Dernsches GelÃ¤nde and Mainz Hauptbahnhof. To retrieve the time of the second departure, you would use <code>state_attr('sensor.ENTITY_NAME', 'departures')[1].time</code>.</p>
<p>The third sensor returns all S-Bahn trains from Mainz Hauptbahnhof for line S8.</p>
:ET