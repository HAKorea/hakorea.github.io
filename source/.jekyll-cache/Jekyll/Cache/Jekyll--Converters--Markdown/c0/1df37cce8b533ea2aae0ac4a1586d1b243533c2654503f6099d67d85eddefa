I"<p>The <code>pi_hole</code> integration allows you to retrieve statistics and interact with a <a href="https://pi-hole.net/">Pi-hole</a> system.</p>
<h2>Configuration</h2>
<p>To enable this integration with the default configuration, add the following lines to your <code>configuration.yaml</code> file</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
pi_hole:
  - host: IP_ADDRESS
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='host' href='#host'></a> host</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>The hostname (and port), e.g. ‘192.168.0.3:4865’ of the host where Pi-hole is running. Hass.io add-on users should be sure to specify port <code>4865</code>.</p>
</span></p></dd><dt><a class='title-link' name='name' href='#name'></a> name</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The name for this Pi-hole. This name will be a part of the sensors created, e.g. <code>name: My Awesome Pi-hole</code> would result in sensor names beginning with <code>sensor.my_awesome_pi_hole_</code>.
<strong>Note:</strong> If you configure multiple Pi-Holes, each one <em>must</em> have a unique name.</p>
</span></p><p class='default'>
Default value: <p>Pi-hole</p>
</p></dd><dt><a class='title-link' name='location' href='#location'></a> location</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The installation location of the Pi-hole API.</p>
</span></p><p class='default'>
Default value: <p>admin</p>
</p></dd><dt><a class='title-link' name='ssl' href='#ssl'></a> ssl</dt><dd><p class='desc'><span class='type'>(<span class='boolean'>boolean</span>)</span><span class='required'>(Optional)</span><span class='description'><p>If <code>true</code>, use SSL/TLS to connect to the Pi-Hole system.</p>
</span></p><p class='default'>
Default value: <p>false</p>
</p></dd><dt><a class='title-link' name='verify_ssl' href='#verify_ssl'></a> verify_ssl</dt><dd><p class='desc'><span class='type'>(<span class='boolean'>boolean</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Verify the SSL/TLS certificate of the system. If your Pi-Hole instance uses a self-signed certificate, you should specify <code>false</code>.</p>
</span></p><p class='default'>
Default value: <p>true</p>
</p></dd><dt><a class='title-link' name='api_key' href='#api_key'></a> api_key</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>API Key for interacting with the Pi-hole. This is not required if you want to just query the Pi-hole for usage statistics.</p>
</span></p><p class='default'>
Default value: <p>None</p>
</p></dd></dl>
</div>
<h3>Full examples</h3>
<p>Single Pi-hole running via Hass.io add-on:</p>
<pre><code class="language-yaml">pi_hole:
  - host: 'localhost:4865'
</code></pre>
<p>Multiple Pi-holes:</p>
<pre><code class="language-yaml">pi_hole:
  - host: '192.168.0.2'
  - host: '192.168.0.3'
    name: 'Secondary Pi-Hole'
</code></pre>
<p>Pi-hole with a self-signed certificate:</p>
<pre><code class="language-yaml">pi_hole:
  - host: 'pi.hole'
    ssl: true
    verify_ssl: false
</code></pre>
<p>Pi-hole with an <code>api_key</code> that allows it to be enabled or disabled:</p>
<pre><code class="language-yaml">pi_hole:
  - host: 'pi.hole'
    api_key: !secret pi_hole_api_key
</code></pre>
<h2>Services</h2>
<p>The platform provides the following services to interact with your Pi-hole.</p>
<h3>Service <code>pi_hole.disable</code></h3>
<p>Disables configured Pi-hole(s) for the specified amount of time.</p>
<table>
<thead>
<tr>
<th>Service data attribute</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>duration</code></td>
<td><code>True</code></td>
<td>timedelta</td>
<td>Time for which Pi-hole should be disabled</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>False</code></td>
<td>string</td>
<td>If preset, disables the named Pi-hole, otherwise, disables all configured Pi-holes</td>
</tr>
</tbody>
</table>
<p><em>Note: This service requires <code>api_key</code> to be specified in the configuration.</em></p>
<h3>Service <code>pi_hole.enable</code></h3>
<p>Enables configured Pi-holes(s).</p>
<table>
<thead>
<tr>
<th>Service data attribute</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td><code>False</code></td>
<td>string</td>
<td>If preset, enables the named Pi-hole, otherwise, enables all configured Pi-holes</td>
</tr>
</tbody>
</table>
<p><em>Note: This service requires <code>api_key</code> to be specified in the configuration.</em></p>
<p>This integration was not made by Pi-hole LLC or the Pi-hole community. They did not provide support, feedback, testing, or any other help during its creation. This is a third party platform which may break if Pi-hole changes their API in a later release. It is not official, not developed, not supported, and not endorsed Pi-hole LLC or the Pi-hole community. The trademark <code>Pi-hole</code> and the logo is used here to describe the platform. <code>Pi-hole</code> is a registered trademark of Pi-hole LLC.</p>
:ET