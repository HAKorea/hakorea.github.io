I"&<p>This<code>plant</code>component lets you merge moisture, conductivity, light intensity, temperature and battery level for a plant into a single UI element. It also supports setting minimum and maximum values for each measurement and will change its state to “problem” if it is not within those limits.</p>
<h2>Configuration</h2>
<p>To use your <code>plant</code> sensor in your installation, add the following to your <code>configuration.yaml</code> file:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
plant:
  name_of_your_plant:
    sensors:
      moisture: sensor.my_sensor_moisture
      battery: sensor.my_sensor_battery
      temperature: sensor.my_sensor_temperature
      conductivity: sensor.my_sensor_conductivity
      brightness: sensor.my_sensor_brightness
    min_moisture: 20
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='entity_id' href='#entity_id'></a> entity_id</dt><dd><p class='desc'><span class='type'>(<span class='list'>list</span>)</span><span class='required'>(Required)</span><span class='description'><p>Set by you and is used by the integration as the <code>entity_id</code>.</p>
</span></p></dd><dd><dl class='nested'><dt><a class='title-link' name='sensors' href='#sensors'></a> sensors</dt><dd><p class='desc'><span class='type'>(<span class='list'>list</span>)</span><span class='required'>(Required)</span><span class='description'><p>List of sensor measure entities.</p>
</span></p></dd><dd><dl class='nested'><dt><a class='title-link' name='moisture' href='#moisture'></a> moisture</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Moisture of the plant. Measured in %. Can have a min and max value set optionally.</p>
</span></p></dd><dt><a class='title-link' name='battery' href='#battery'></a> battery</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Battery level of the plant sensor. Measured in %. Can only have a min level set optionally.</p>
</span></p></dd><dt><a class='title-link' name='temperature' href='#temperature'></a> temperature</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Temperature of the plant. Measured in degrees Celsius. Can have a min and max value set optionally.</p>
</span></p></dd><dt><a class='title-link' name='conductivity' href='#conductivity'></a> conductivity</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Conductivity of the plant. Measured in µS/cm. Can have a min and max value set optionally.</p>
</span></p></dd><dt><a class='title-link' name='brightness' href='#brightness'></a> brightness</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Light exposure of the plant. Measured in Lux. Can have a min and max value set optionally.</p>
</span></p></dd></dl></dd><dt><a class='title-link' name='min_moisture' href='#min_moisture'></a> min_moisture</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Minimum moisture level before triggering a problem.</p>
</span></p><p class='default'>
Default value: <p>20</p>
</p></dd><dt><a class='title-link' name='max_moisture' href='#max_moisture'></a> max_moisture</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Maximum moisture level before triggering a problem.</p>
</span></p><p class='default'>
Default value: <p>60</p>
</p></dd><dt><a class='title-link' name='min_battery' href='#min_battery'></a> min_battery</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Minimum battery level before triggering a problem.</p>
</span></p><p class='default'>
Default value: <p>20</p>
</p></dd><dt><a class='title-link' name='min_conductivity' href='#min_conductivity'></a> min_conductivity</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Minimum conductivity level before triggering a problem.</p>
</span></p><p class='default'>
Default value: <p>500</p>
</p></dd><dt><a class='title-link' name='max_conductivity' href='#max_conductivity'></a> max_conductivity</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Maximum conductivity level before triggering a problem.</p>
</span></p><p class='default'>
Default value: <p>3000</p>
</p></dd><dt><a class='title-link' name='min_temperature' href='#min_temperature'></a> min_temperature</dt><dd><p class='desc'><span class='type'>(<span class='float'>float</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Minimum temperature before triggering a problem.</p>
</span></p></dd><dt><a class='title-link' name='max_temperature' href='#max_temperature'></a> max_temperature</dt><dd><p class='desc'><span class='type'>(<span class='float'>float</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Maximum temperature before triggering a problem.</p>
</span></p></dd><dt><a class='title-link' name='min_brightness' href='#min_brightness'></a> min_brightness</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Minimum brightness before triggering a problem. In contrast to the other values, this check is <em>not</em> looking at the current situation, but rather at the last days. A problem is only reported if the maximum brightness over the last days was lower than min_brightness. You can use this to check if the plant gets enough light during the course of the day.</p>
</span></p></dd><dt><a class='title-link' name='max_brightness' href='#max_brightness'></a> max_brightness</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Maximum brightness before triggering a problem.</p>
</span></p></dd><dt><a class='title-link' name='check_days' href='#check_days'></a> check_days</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>time interval (in days) used when checking <code>min_brightness</code>.</p>
</span></p><p class='default'>
Default value: <p>3</p>
</p></dd></dl></dd></dl>
</div>
<h2>Examples</h2>
<h3>Using plain MQTT sensor to get the data</h3>
<p>This is a practical example that uses a multiple of <code>MQTT sensors</code> to supply the readings used by the <code>plant</code> sensor.
Another good source of this data would be the <a href="/integrations/miflora">Mi Flora</a> component.</p>
<p>If the sensor data is within the min/max values the status will be <code>ok</code>, if not the status will be <code>problem</code>. You can use this to trigger a notification, if there is a problem with your plant. Of course you can only monitor attributes of your plant, where the sensor is configured and is providing the data.</p>
<h2>Data Source</h2>
<p>The main sources of the data will usually be a <a href="/integrations/miflora">MiFlora sensor</a> or a <a href="/integrations/sensor.mqtt/">MQTT sensor</a> receiving the data from a <a href="https://github.com/ChristianKuehnel/plantgateway">PlantGateway</a>.</p>
<p>If you want to get the date via a PlantGateway, this is a typical configuration for the MQTT sensors:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
plant:
  simulated_plant:
    sensors:
      moisture: sensor.mqtt_plant_moisture
      battery: sensor.mqtt_plant_battery
      temperature: sensor.mqtt_plant_temperature
      conductivity: sensor.mqtt_plant_conductivity
      brightness: sensor.mqtt_plant_brightness
    min_moisture: 20
    max_moisture: 60
    min_battery: 17
    min_conductivity: 500
    min_temperature: 15

sensor:
  - platform: mqtt
    name: my_plant_moisture
    state_topic: my_plant_topic
    value_template: '{{ value_json.moisture | int }}'
    unit_of_measurement: '%'
  - platform: mqtt
    name: my_plant_battery
    state_topic: my_plant_topic
    value_template: '{{ value_json.battery | int }}'
    unit_of_measurement: '%'
  - platform: mqtt
    name: my_plant_temperature
    state_topic: my_plant_topic
    value_template: '{{ value_json.temperature | float }}'
    unit_of_measurement: '°C'
  - platform: mqtt
    name: my_plant_conductivity
    state_topic: my_plant_topic
    value_template: '{{ value_json.conductivity | int }}'
    unit_of_measurement: 'µS/cm'
  - platform: mqtt
    name: my_plant_brightness
    state_topic: my_plant_topic
    value_template: '{{ value_json.brightness | int }}'
    unit_of_measurement: 'Lux'
</code></pre>
<p>You have to replace the <code>state_topic</code> with the value that you configured in the PlantGateway. It also depends on the global configuration of your MQTT server.</p>
:ET