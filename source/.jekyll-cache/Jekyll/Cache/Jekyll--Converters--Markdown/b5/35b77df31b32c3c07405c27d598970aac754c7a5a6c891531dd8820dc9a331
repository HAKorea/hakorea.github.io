I"1<p>The <code>cups</code> sensor platform is using the open source printing system <a href="https://www.cups.org/">CUPS</a> to show details about your printers, including the ink levels. It can obtain the informations using a CUPS server or communicating directly with the printer with the Internet Printing Protocol.</p>
<h2>Setup</h2>
<p>You will need to install the <code>python3-dev</code> or <code>python3-devel</code> package and the development files for CUPS (<code>libcups2-dev</code> or<code>cups-devel</code>) on your system manually (e.g., <code>sudo apt-get install python3-dev libcups2-dev</code> or <code>sudo dnf -y install python3-devel cups-devel</code>) along with a compiler (<code>gcc</code>). This integration doesn‚Äôt work out-of-the-box in a container-based setup.</p>
<p>To set up the sensor the ‚ÄúQueue Name‚Äù of the printer is needed. The fastest way to get it, is to visit the CUPS web interface at ‚Äúhttp://[IP ADDRESS PRINT SERVER]:631‚Äù and go to ‚ÄúPrinters‚Äù.</p>
<p class='img'>
  <img src='/images/screenshots/cups-sensor.png' />
</p>
<h2>Configuration</h2>
<p>To enable the CUPS sensor, add the following lines to your <code>configuration.yaml</code>:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
sensor:
  - platform: cups
    printers:
      - C410
      - C430
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='printers' href='#printers'></a> printers</dt><dd><p class='desc'><span class='type'>(<span class='list'>list</span>)</span><span class='required'>(Required)</span><span class='description'><p>List of printers to add. If you‚Äôre not using a CUPS server, add here your ‚ÄúPrinter Name‚Äù.</p>
</span></p></dd><dt><a class='title-link' name='host' href='#host'></a> host</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The IP address of the CUPS print server or of the printer.</p>
</span></p><p class='default'>
Default value: <p>127.0.0.1</p>
</p></dd><dt><a class='title-link' name='port' href='#port'></a> port</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The port number of the CUPS print server or of the printer.</p>
</span></p><p class='default'>
Default value: <p>631</p>
</p></dd><dt><a class='title-link' name='is_cups_server' href='#is_cups_server'></a> is_cups_server</dt><dd><p class='desc'><span class='type'>(<span class='boolean'>boolean</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Set true if you want to use a CUPS print server, set false otherwise.</p>
</span></p><p class='default'>
Default value: <p>true</p>
</p></dd></dl>
</div>
<h2>Examples</h2>
<p>Default configuration for an IPP printer:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry for an IPP printer
sensor:
  - platform: cups
    host: PRINTER_IP
    is_cups_server: false
    printers:
      - ipp/print
</code></pre>
<div class='note'>
<p>You will need to install the <code>python3-dev</code> or <code>python3-devel</code> and the development files for CUPS (<code>libcups2-dev</code> or<code>cups-devel</code>) package on your system manually (eg. <code>sudo apt-get install python3-dev libcups2-dev</code> or <code>sudo dnf -y install python3-devel cups-devel</code>) along with a compiler (<code>gcc</code>).</p>
</div>
:ET