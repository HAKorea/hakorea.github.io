I"ì
<h3>Configuration Sample</h3>
<p>The <code>nanoleaf</code> platform allows you to control <a href="https://nanoleaf.me">Nanoleaf Light Panels</a> from Home Assistant.</p>
<p>The preferred way to set up this platform is by enabling the <a href="/integrations/discovery/">discovery component</a>. Make sure to press and hold the <em>ON</em> button for 5 seconds (the LED will start flashing) on your Nanoleaf Lights while Home Assistant is starting.</p>
<p>To configure the Nanoleaf lights manually, add the following lines to your <code>configuration.yaml</code> file:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
light:
  - platform: nanoleaf
    host: 192.168.1.10
    token: xxxxxxxxxxxxxxxxxxxxx
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='host' href='#host'></a> host</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>IP address or host-name of the device, e.g., 192.168.1.10.</p>
</span></p></dd><dt><a class='title-link' name='token' href='#token'></a> token</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>The <em>auth</em> token that you get via <em>POST</em> to <em>/api/v1/new</em></p>
</span></p></dd><dt><a class='title-link' name='name' href='#name'></a> name</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Name of the component, make this unique if you have multiple Light Panels</p>
</span></p><p class='default'>
Default value: <p>Nanoleaf</p>
</p></dd></dl>
</div>
<h3>Getting The Auth Token</h3>
<ol>
<li>Make sure that your Nanoleaf Light Panel is fully patched (as of the time of writing the latest version was 3.0.8 for Aurora and 1.2.0 for Canvas)</li>
<li>Hold down the <em>ON</em> button on the Panel for 5 seconds; the LED will start flashing</li>
<li>Issue a <em>POST</em> request to the API endpoint, e.g., via <code>$ curl -i -X POST http://192.168.1.155:16021/api/v1/new</code></li>
<li>The output should include the auth token like <em>{‚Äúauth_token‚Äù:‚Äúxxxxxxxxxxxxxxxxxxxxx‚Äù}</em>, copy the resulting token into your configuration</li>
</ol>
<p>If you get a 403 Forbidden message, you probably did not press the <em>ON</em> button long enough. The time-frame to get a valid token is only 30 seconds, so you have to be quick to issue the curl request.</p>
:ET