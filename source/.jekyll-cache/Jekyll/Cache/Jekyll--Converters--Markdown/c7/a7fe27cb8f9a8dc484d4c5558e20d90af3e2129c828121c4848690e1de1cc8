I"<p>The <code>ifttt</code> platform allows you to integrate security systems that have no open API but can be controlled through <a href="https://ifttt.com/discover">IFTTT</a>.</p>
<p>This platform depends on the <a href="/integrations/ifttt/">IFTTT</a> Home Assistant integration. See the integrations documentation to set it up.</p>
<div class='note'>
It is important to note that this platform fully relies on IFTTT to receive updates when the security system's state changes. Therefore, this platform shows an assumed state.
</div>
<h2>Configuration</h2>
<p>To enable this, add the following lines to your <code>configuration.yaml</code> file:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
ifttt:
  key: YOUR_WEBHOOK_KEY

alarm_control_panel:
  - platform: ifttt
    name: YOUR_ALARM_NAME
    code: YOUR_ALARM_CODE
    event_arm_away: YOUR_ARM_AWAY_EVENT
    event_arm_home: YOUR_ARM_HOME_EVENT
    event_arm_night: YOUR_ARM_NIGHT_EVENT
    event_disarm: YOUR_DISARM_EVENT
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='name' href='#name'></a> name</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The name of your Home Assistant alarm control panel.</p>
</span></p></dd><dt><a class='title-link' name='code' href='#code'></a> code</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The code for the alarm control panel.</p>
</span></p></dd><dt><a class='title-link' name='event_arm_away' href='#event_arm_away'></a> event_arm_away</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>IFTTT webhook event to call when the state is set to armed away.</p>
</span></p><p class='default'>
Default value: <p>alarm_arm_away</p>
</p></dd><dt><a class='title-link' name='event_arm_home' href='#event_arm_home'></a> event_arm_home</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>IFTTT webhook event to call when the state is set to armed home.</p>
</span></p><p class='default'>
Default value: <p>alarm_arm_home</p>
</p></dd><dt><a class='title-link' name='event_arm_night' href='#event_arm_night'></a> event_arm_night</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>IFTTT webhook event to call when the state is set to armed night.</p>
</span></p><p class='default'>
Default value: <p>alarm_arm_night</p>
</p></dd><dt><a class='title-link' name='event_disarm' href='#event_disarm'></a> event_disarm</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>IFTTT webhook event to call when the state is set to disarmed.</p>
</span></p><p class='default'>
Default value: <p>alarm_disarm</p>
</p></dd><dt><a class='title-link' name='optimistic' href='#optimistic'></a> optimistic</dt><dd><p class='desc'><span class='type'>(<span class='boolean'>boolean</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Specify if the state will be updated by an ifttt.push_alarm_state call (false) or can be set immediately (true).</p>
</span></p><p class='default'>
Default value: <p>false</p>
</p></dd></dl>
</div>
<div class='note warning'>
<p>It is strongly discouraged to use this platform when you donâ€™t use encryption; otherwise, your API password will be send unprotected through the IFTTT Webhooks. It is advised to <a href="https://home-assistant.io/blog/2017/09/27/effortless-encryption-with-lets-encrypt-and-duckdns/">setup encryption using Letâ€™s Encrypt</a>.</p>
</div>
<h3>Required IFTTT applets</h3>
<p>Next, you will need to set up the required IFTTT applets as listed below.</p>
<p>This platform supports the services <code>alarm_disarm</code>, <code>alarm_arm_away</code>, <code>alarm_arm_home</code> and <code>alarm_arm_night</code>. For each of these services, an IFTTT webhook will be triggered.</p>
<p>For this system to operate correctly, the following IFTTT applets have to be setup. Obviously, if your alarm device does not support some states, no applets have to be provided for those.</p>
<ul>
<li><strong>IF</strong> Webhook event <code>YOUR_DISARM_EVENT</code> is called, <strong>THEN</strong> disarm the alarm system.</li>
<li><strong>IF</strong> Webhook event <code>YOUR_ARM_HOME_EVENT</code> is called, <strong>THEN</strong> set the alarm system to armed home.</li>
<li><strong>IF</strong> Webhook event <code>YOUR_ARM_NIGHT_EVENT</code> is called, <strong>THEN</strong> set the alarm system to armed away.</li>
<li><strong>IF</strong> Webhook event <code>YOUR_DISARM_EVENT</code> is called, <strong>THEN</strong> set the alarm system to armed night.</li>
<li><strong>IF</strong> the alarm system was disarmed, <strong>THEN</strong> perform a Webhook <code>POST</code> web request to url <code>https://HASS_URL/api/services/ifttt/push_alarm_state?api_password=API_PASSWORD</code> with content type <code>application/json</code> and body <code>{&quot;entity_id&quot;: &quot;alarm_control_panel.DEVICE_NAME&quot;, &quot;state&quot;: &quot;disarmed&quot;}</code>.</li>
<li><strong>IF</strong> the alarm system state changed to armed home, <strong>THEN</strong> perform a Webhook <code>POST</code> web request to url <code>https://HASS_URL/api/services/ifttt/push_alarm_state?api_password=API_PASSWORD</code> with content type <code>application/json</code> and body <code>{&quot;entity_id&quot;: &quot;alarm_control_panel.DEVICE_NAME&quot;, &quot;state&quot;: &quot;armed_home&quot;}</code>.</li>
<li><strong>IF</strong> the alarm system state changed to armed away, <strong>THEN</strong> perform a Webhook <code>POST</code> web request to url <code>https://HASS_URL/api/services/ifttt/push_alarm_state?api_password=API_PASSWORD</code> with content type <code>application/json</code> and body <code>{&quot;entity_id&quot;: &quot;alarm_control_panel.DEVICE_NAME&quot;, &quot;state&quot;: &quot;armed_away&quot;}</code>.</li>
<li><strong>IF</strong> the alarm system state changed to armed night, <strong>THEN</strong> perform a Webhook <code>POST</code> web request to url <code>https://HASS_URL/api/services/ifttt/push_alarm_state?api_password=API_PASSWORD</code> with content type <code>application/json</code> and body <code>{&quot;entity_id&quot;: &quot;alarm_control_panel.DEVICE_NAME&quot;, &quot;state&quot;: &quot;armed_night&quot;}</code>.</li>
</ul>
:ET