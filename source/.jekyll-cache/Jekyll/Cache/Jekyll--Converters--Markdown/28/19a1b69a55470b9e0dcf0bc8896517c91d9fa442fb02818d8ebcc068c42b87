I"P<p>The <code>squeezebox</code> platform allows you to control a <a href="https://en.wikipedia.org/wiki/Squeezebox_%28network_music_player%29">Logitech Squeezebox</a> music player from Home Assistant. This lets you control Squeezebox hardware like the Classic, Transporter, Duet, Boom, Radio and Touch and of software players like <a href="http://softsqueeze.sourceforge.net/">SoftSqueeze</a>, <a href="https://play.google.com/store/apps/details?id=de.bluegaspode.squeezeplayer">SqueezePlayer</a> and <a href="https://forums.slimdevices.com/showthread.php?93607-ANNOUNCE-Squeezeslave-1-2-released">SqueezeSlave</a>.</p>
<p>To add your Squeezebox player to your installation, add the following to your <code>configuration.yaml</code> file:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
media_player:
  - platform: squeezebox
    host: IP_ADDRESS
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='host' href='#host'></a> host</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>The host name or address of the Logitech Media Server, e.g., 192.168.1.21.</p>
</span></p></dd><dt><a class='title-link' name='port' href='#port'></a> port</dt><dd><p class='desc'><span class='type'>(<span class='integer'>integer</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The web interface port to Logitech Media Server.</p>
</span></p><p class='default'>
Default value: <p>9000</p>
</p></dd><dt><a class='title-link' name='username' href='#username'></a> username</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The username, if password protection is enabled.</p>
</span></p></dd><dt><a class='title-link' name='password' href='#password'></a> password</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>The password, if password protection is enabled.</p>
</span></p></dd></dl>
</div>
<div class='note'>
This platform now uses the web interface of the Logitech Media Server to send commands. The default port of the web interface is 9000. It is the same port that you use to access the LMS through your web browser. Originally, this platform used the telnet interface, which defaults to 9090. If you previously specified the port in your configuration file, you will likely need to update it.
</div>
<p>The Logitech Transporter which have two digital inputs can be activated using a script. The following example turns on the Transporter and activates the toslink input interface:</p>
<pre><code class="language-yaml"># Turn on Transporter and activate toslink interface
transporter_toslink:
  sequence:
    - service: homeassistant.turn_on
      entity_id: media_player.transporter
    - service: media_player.play_media
      data:
        entity_id: media_player.transporter
        media_content_id: &quot;source:toslink&quot;
        media_content_type: &quot;music&quot;
</code></pre>
<h3>Service <code>call_method</code></h3>
<p>Call a custom Squeezebox JSONRPC API.</p>
<p>See documentation for this interface on <code>http://HOST:PORT/html/docs/cli-api.html?player=</code> where HOST and PORT are the host name and port for your Logitech Media Server.</p>
<table>
<thead>
<tr>
<th>Service data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>entity_id</code></td>
<td>no</td>
<td>Name(s) of the Squeezebox entities where to run the API method.</td>
</tr>
<tr>
<td><code>command</code></td>
<td>no</td>
<td>Command to pass to Logitech Media Server (p0 in the CLI documentation).</td>
</tr>
<tr>
<td><code>parameters</code></td>
<td>yes</td>
<td>Array of additional parameters to pass to Logitech Media Server (p1, …, pN in the CLI documentation).</td>
</tr>
</tbody>
</table>
<p>This service can be used to integrate any Squeezebox action to an automation.</p>
<p>It can also be used to target a Squeezebox from IFTT (or DialogFlow, Alexa…).</p>
<p>For example, to play an album from your collection, create an IFTT applet like this:</p>
<ul>
<li>Trigger: Google assistant, with sentence: <code>I want to listen to album $</code></li>
<li>Action: JSON post query with such JSON body:
<code>{ &quot;entity_id&quot;: &quot;media_player.squeezebox_radio&quot;, &quot;command&quot;: &quot;playlist&quot;, &quot;parameters&quot;: [&quot;loadtracks&quot;, &quot;album.titlesearch=&quot;] }</code>
This can work with title search and basically any thing. The same wouldn’t have worked by calling directly Squeezebox server as IFTT cannot escape the text field.</li>
</ul>
:ET