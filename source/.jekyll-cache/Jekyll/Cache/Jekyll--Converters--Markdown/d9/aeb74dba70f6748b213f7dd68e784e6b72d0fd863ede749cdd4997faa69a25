I"$<p>The <code>xmpp</code> notification platform allows you to deliver notifications from Home Assistant to a <a href="https://xmpp.org/">Jabber (XMPP)</a> account.</p>
<h2>Configuration</h2>
<p>To enable Jabber notifications in your installation, add the following to your <code>configuration.yaml</code> file:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
notify:
  - name: NOTIFIER_NAME  # e.g. jabber
    platform: xmpp
    sender: YOUR_JID
    password: YOUR_JABBER_ACCOUNT_PASSWORD
    recipient: YOUR_RECIPIENT
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='name' href='#name'></a> name</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Setting the optional parameter <code>name</code> allows multiple notifiers to be created. The default value is <code>notify</code>. The notifier will bind to the service <code>notify.NOTIFIER_NAME</code>.</p>
</span></p><p class='default'>
Default value: <p>notify</p>
</p></dd><dt><a class='title-link' name='sender' href='#sender'></a> sender</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>The Jabber ID (JID) that will act as origin of the messages. Add your JID including the domain, e.g. <a href="mailto:your_name@jabber.org">your_name@jabber.org</a>.</p>
</span></p></dd><dt><a class='title-link' name='resource' href='#resource'></a> resource</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Resource part of JID, e.g., <a href="mailto:your_name@jabber.org">your_name@jabber.org</a>/<code>HA-cabin</code>.</p>
</span></p><p class='default'>
Default value: <p>home-assistant</p>
</p></dd><dt><a class='title-link' name='password' href='#password'></a> password</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>The password for your given Jabber account.</p>
</span></p></dd><dt><a class='title-link' name='recipient' href='#recipient'></a> recipient</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>The Jabber ID (JID) that will receive the messages.</p>
</span></p></dd><dt><a class='title-link' name='tls' href='#tls'></a> tls</dt><dd><p class='desc'><span class='type'>(<span class='boolean'>boolean</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Force TLS.</p>
</span></p><p class='default'>
Default value: <p>true</p>
</p></dd><dt><a class='title-link' name='verify' href='#verify'></a> verify</dt><dd><p class='desc'><span class='type'>(<span class='boolean'>boolean</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Allow disabling SSL certificate validity check, e.g., self-signed certificate.</p>
</span></p><p class='default'>
Default value: <p>true</p>
</p></dd><dt><a class='title-link' name='room' href='#room'></a> room</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Optional)</span><span class='description'><p>Room’s name (e.g., <a href="mailto:example@conference.jabber.org">example@conference.jabber.org</a>). If set, send a message to chatroom instead of the recipient.</p>
</span></p></dd></dl>
</div>
<div class='note'>
<p>Pre Home Assistant 0.81 <code>sleekxmpp</code> was used to connect to XMPP servers. <code>sleekxmpp</code> as of version 1.3.2, does not support &gt; TLS v1. If you are running your own XMPP server (e.g., Prosody, ejabberd) make sure to allow using TLS v1.</p>
<p>Home Assistant after 0.81 uses <code>slixmpp</code>, which also supports TLS v1.1 and TLS v1.2.</p>
</div>
<p>All Jabber IDs (JID) must include the domain. Make sure that the password matches the account provided as sender.</p>
<p>You can send text messages and images as well as other files through Jabber.</p>
<h3>Jabber Text Message</h3>
<p>Here are some examples on how to set up a script, that can be run from an automation.</p>
<p>Number 1 shows a classical, text-only message. The Title is optional, although if omitted,
<code>Home-Assistant</code> will be set. To keep it empty set it to <code>&quot;&quot;</code>.</p>
<pre><code class="language-yaml"># Example script.yaml entry
1_send_jabber_message:
  alias: &quot;Text only Jabber message&quot;
  sequence:
    - service: notify.jabber  # from notify.NOTIFIER_NAME
      data:
        title: &quot;Optional Title&quot;
        message: &quot;My funny or witty message&quot;
</code></pre>
<h3>Jabber Image Message</h3>
<p>You can send images or files from locally stored files or remote web locations via Jabber’s HTTP Upload feature.
To send files and images, your jabber server must support <a href="https://xmpp.org/extensions/xep-0363.html">XEP_0363</a>.</p>
<div class='note'>
<p>Be aware that images are uploaded onto the Jabber server of your provider. They reside there un-encrypted and could be accessed by the server admins. Usually images are deleted after a few days.<br>
<br>
Home-Assistant supports TLS encryption to ensure transport encryption. TLS is enforced by default. You can disable it  with the <a href="#tls"><code>tls</code></a> flag – which is not recommended.</p>
</div>
<p>Number 2 sends only an image, retrieved from the URL. The TLS connection to get the image is also not verified (use with caution).</p>
<pre><code class="language-yaml"># Example script.yaml entry
2_send_jabber_message_with_image_url:
  alias: &quot;Send Image via Jabber from website&quot;
  sequence:
    - service: notify.jabber
      data:
        title: &quot;&quot;
        message: &quot;&quot;
        data:
          url: &quot;https://www.graz.at:8443/webcam_neu/getimg.php&quot;
          verify: false
</code></pre>
<p>Number 3 sends an image from a local path.</p>
<pre><code class="language-yaml"># Example script.yaml entry
3_send_jabber_message_with_local_image_path:
  alias: &quot;Send Image via Jabber from local file&quot;
  sequence:
    - service: notify.jabber
      data:
        title: &quot;&quot;
        message: &quot;&quot;
        data:
          path: &quot;/home/homeassistant/super_view.jpg&quot;
</code></pre>
<h3>Jabber File Message</h3>
<p>Number 4 sends a text-file, retrieved from Github, renamed to <code>Hass_Cheatsheet.txt</code> to be viewable on a mobile Android device, as most don’t offer any application to view <code>.md</code> files. Optionally you can add a timeout for the HTTP upload in seconds.</p>
<pre><code class="language-yaml"># Example script.yaml entry
4_send_jabber_message_with_file:
  alias: &quot;Send text file via Jabber&quot;
  sequence:
    - service: notify.jabber
      data:
        title: &quot;&quot;
        message: &quot;&quot;
        data:
          url: &quot;https://raw.githubusercontent.com/arsaboo/homeassistant-config/master/HASS%20Cheatsheet.md&quot;
          path: &quot;Hass_Cheatsheet.txt&quot;
          timeout: 10
</code></pre>
<h3>Templating</h3>
<p>Number 5 sends an image retrieved from a URL, and an additional text message with <code>title</code> and <code>message</code>.</p>
<pre><code class="language-yaml"># Example script.yaml entry
5_send_jabber_message_with_image_and_text:
  alias: &quot;Send Image and Text via Jabber&quot;
  sequence:
    - service: notify.jabber
      data:
        title: &quot;The Time is now&quot;
        message: &quot; {{ now() }} , templating works as well...&quot;
        data:
          url: &quot;https://github.com/home-assistant/home-assistant.io/raw/next/source/images/favicon-192x192.png&quot;
</code></pre>
<p>Number 6 sends an image from a templated URL.</p>
<pre><code class="language-yaml"># Example script.yaml entry
6_send_jabber_message_with_image_from_url_template:
  alias: &quot;Send Image from template URL via Jabber&quot;
  sequence:
    - service: notify.jabber
      data:
        title: &quot;&quot;
        message: &quot;&quot;
        data:
          url_template: &quot;https://www.foto-webcam.eu/webcam/dornbirn/{{ now().year }}/{{ '%02d' % now().month }}/{{ '%02d' % now().day }}/{{ '%02d' % now().hour }}{{ (now().minute + 58) % 60 // 10}}0_hd.jpg&quot;
</code></pre>
<p>The possible source of a file is prioritized and only one will be picked up. <code>url_template</code> has the hightest priority; next is <code>url</code> then <code>path_template</code> and finally if none of them are defined <code>path</code> would be used. <code>path</code> will be used to eliminate file extension guessing for unknown URL downloads. Only the file extension will be left, as Home Assistant changes the filename to a random string for added privacy.</p>
<p>To find out more about notifications, please see the <a href="/getting-started/automation/">getting started with automation page</a>.</p>
:ET