I"n<p>Showing weather information provided by <a href="https://www.trafikverket.se/">Trafikverket</a> weather stations in Sweden.</p>
<p>Potential use cases:</p>
<ul>
<li>Get weather data in general.</li>
<li>You live near a weather station and want to know the current weather conditions at home.</li>
<li>Setup automations for your car heating system. If the road is frozen along the way to work, you might want the car heating system to start earlier.</li>
</ul>
<h2>Configuration</h2>
<p>To enable this sensor, add the following lines to your <code>configuration.yaml</code>.</p>
<pre><code class="language-yaml">sensor:
  - platform: trafikverket_weatherstation
    name: Trafikverket Kungälv
    api_key: YOUR_API_KEY
    station: Kungälv
    monitored_conditions:
        - air_temp
        - road_temp
        - humidity
        - precipitation
        - wind_direction
        - wind_direction_text
        - wind_speed
        - precipitation_amount
        - precipitation_amountname
</code></pre>
<div class="config-vars">
  <h3><a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class=''><dt><a class='title-link' name='name' href='#name'></a> name</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>Your unique name of the device in the frontend.</p>
</span></p></dd><dt><a class='title-link' name='api_key' href='#api_key'></a> api_key</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>Your personal API key from Trafikverket.</p>
</span></p></dd><dt><a class='title-link' name='station' href='#station'></a> station</dt><dd><p class='desc'><span class='type'>(<span class='string'>string</span>)</span><span class='required'>(Required)</span><span class='description'><p>Name of the weather station from Trafikverket.</p>
</span></p></dd><dt><a class='title-link' name='monitored_conditions' href='#monitored_conditions'></a> monitored_conditions</dt><dd><p class='desc'><span class='type'>(<span class='list'>list</span>)</span><span class='required'>(Required)</span><span class='description'><p>Specify what measurement data to retrieve from the weather station.</p>
</span></p></dd><dd><dl class='nested'><dt><a class='title-link' name='air_temp' href='#air_temp'></a> air_temp</dt><dd><p class='desc'><span class='description'><p>Air temperature.</p>
</span></p></dd><dt><a class='title-link' name='road_temp' href='#road_temp'></a> road_temp</dt><dd><p class='desc'><span class='description'><p>The temperature in the road.</p>
</span></p></dd><dt><a class='title-link' name='humidity' href='#humidity'></a> humidity</dt><dd><p class='desc'><span class='description'><p>Relative humidity.</p>
</span></p></dd><dt><a class='title-link' name='precipitation' href='#precipitation'></a> precipitation</dt><dd><p class='desc'><span class='description'><p>Type of precipitation (Swedish text).</p>
</span></p></dd><dt><a class='title-link' name='wind_direction' href='#wind_direction'></a> wind_direction</dt><dd><p class='desc'><span class='description'><p>Wind direction in degrees.</p>
</span></p></dd><dt><a class='title-link' name='wind_direction_text' href='#wind_direction_text'></a> wind_direction_text</dt><dd><p class='desc'><span class='description'><p>Rough wind direction in twelve variants (Swedish text).</p>
</span></p></dd><dt><a class='title-link' name='wind_speed' href='#wind_speed'></a> wind_speed</dt><dd><p class='desc'><span class='description'><p>Average wind speed during the last 10 minutes.</p>
</span></p></dd><dt><a class='title-link' name='precipitation_amount' href='#precipitation_amount'></a> precipitation_amount</dt><dd><p class='desc'><span class='description'><p>Amount of precipitation.</p>
</span></p></dd><dt><a class='title-link' name='precipitation_amountname' href='#precipitation_amountname'></a> precipitation_amountname</dt><dd><p class='desc'><span class='description'><p>Amount of precipitation in thirteen variants (Swedish text).</p>
</span></p></dd></dl></dd></dl>
</div>
<h2>Obtaining API key</h2>
<p>Please click <a href="https://api.trafikinfo.trafikverket.se/">here</a> and register to obtain the API key.</p>
<h2>Weather stations</h2>
<p>Click <a href="https://www.trafikverket.se/trafikinformation/vag/?TrafficType=personalTraffic&amp;map=1/606442.17/6886316.22/&amp;Layers=RoadWeather%2b">here</a> to get a map of valid weather stations. Once a station is found, copy the name according to the below picture and paste it in your <code>configuration.yaml</code> file as the <code>station</code> variable.</p>
<p class='img'>
  <img src='/images/screenshots/get_trafikverket_weather_station_example.png' />
</p>
<h2>Examples</h2>
<pre><code class="language-yaml">sensor:
  - platform: trafikverket_weatherstation
    name: Trafikverket Kungälv
    api_key: YOUR_API_KEY
    station: Kungälv
    monitored_conditions:
        - air_temp
        - road_temp
        - humidity
        - precipitation
        - wind_direction
        - wind_direction_text
        - wind_speed
  - platform: trafikverket_weatherstation
    name: Trafikverket Lanna
    api_key: YOUR_API_KEY
    station: Lanna
    monitored_conditions:
        - air_temp
        - road_temp
        - humidity
  - platform: trafikverket_weatherstation
    name: Trafikverket Nöbbele
    api_key: YOUR_API_KEY
    station: Nöbbele
    monitored_conditions:
        - air_temp
        - road_temp
        - humidity
        - precipitation
        - precipitation_amount
        - precipitation_amountname
</code></pre>
:ET