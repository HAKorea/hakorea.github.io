<!doctype html>
  <!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html lang="en" class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html lang="en"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>RFXtrx Binary Sensor - 홈어시스턴트</title>
    <meta name="author" content="Home Assistant">
    <meta name="description" content="Instructions on how to integrate RFXtrx binary sensors into Home Assistant.">
    
    <meta name="viewport" content="width=device-width">
    <link rel="canonical" href="https://hakorea.github.io/integrations/binary_sensor.rfxtrx/">

    <meta property="fb:app_id" content="">
    <meta property="og:title" content="RFXtrx Binary Sensor">
    <meta property="og:site_name" content="홈어시스턴트">
    <meta property="og:url" content="https://hakorea.github.io/integrations/binary_sensor.rfxtrx/">
    <meta property="og:type" content="article">
    <meta property="og:description" content="Instructions on how to integrate RFXtrx binary sensors into Home Assistant.">
    <meta property="og:image" content="https://hakorea.github.io/images/default-social.png">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@">
    
    <meta name="twitter:title" content="RFXtrx Binary Sensor">
    <meta name="twitter:description" content="Instructions on how to integrate RFXtrx binary sensors into Home Assistant.">
    <meta name="twitter:image" content="https://hakorea.github.io/images/default-social.png">

    <link href="/stylesheets/prism.css?8acb84bc0387c9548a63998fcfea0139" rel="stylesheet">
    <link href="/stylesheets/screen.css?0a23d70030bf362ca935e76ccc50922c" media="screen, projection, print" rel="stylesheet">
    <link href="/atom.xml" rel="alternate" title="홈어시스턴트" type="application/atom+xml">
    <link rel='shortcut icon' href='/images/favicon.ico' />
    <link rel='icon' type='image/png' href='/images/favicon-192x192.png' sizes='192x192' />
  </head>

  <body >

    <header class='site-header'>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item three-tenths lap-two-sixths palm-one-whole ha-title">
      <a href="/" class="site-title">
        <img src="/images/home-assistant-logo.svg" width="36" height="36" alt="Home Assistant">
        <span>홈어시스턴트</span>
      </a>
    </div>

    <div class="grid__item seven-tenths lap-four-sixths palm-one-whole">
      <nav>
        <input type="checkbox" id="toggle">
        <label for="toggle" class="toggle" data-open="Main Menu" data-close="Close Menu"></label>
        <ul class="menu pull-right">
            
            <li><a href="/getting-started/">시작하기</a></li>
            <li><a href="/integrations/">통합구성요소</a></li>
            <li><a href="/docs/">문서</a></li>
            <li><a href="/cookbook/">예제</a></li>
            <li>KOREAN(not official)</li>
        </ul>
      </nav>

      <div class='search-container' style='display: none'>
        <div class='search'>
          <i class="icon-search"></i>
          <input id='search' placeholder='Search the docs…'>
          <a href='#' class='close'><i class="icon-remove-sign"></i></a>
        </div>
      </div>
    </div>
  </div>
</div>

    </header>

    

    <div class="grid-wrapper">
      <div class="grid grid-center">
        
        <div class="grid__item two-thirds lap-one-whole palm-one-whole">
        

          
            <article class="page">
  
  
    

<div class="edit-github"><a href="https://github.com/hakorea/hakorea.github.io/tree/current/source/_integrations/binary_sensor.rfxtrx.markdown" rel="external nofollow">깃허브 편집</a></div>


  

  
  <header>
    <h1 class="title indent">
      RFXtrx Binary Sensor
    </h1>
  </header>
  <hr class="divider">
  

  <p>The <code>rfxtrx</code> platform support binary sensors that
communicate in the frequency range of 433.92 MHz.
The rfxtrx binary sensor integration provides support for them.</p>
<p>Many cheap sensors available on the web today are based on a particular RF chip
called <em>PT-2262</em>. Depending on the running firmware on the RFXcom box, some of
them may be recognized under the X10 protocol but most of them are recognized
under the <em>Lighting4</em> protocol. The rfxtrx binary sensor integration provides
some special options for them, while other rfxtrx protocols should work too.</p>
<h2>
<a class="title-link" name="setting-up-your-devices" href="#setting-up-your-devices"></a> Setting up your devices</h2>
<p>Once you have set up your <a href="/integrations/rfxtrx/">rfxtrx hub</a>, the easiest way
to find your binary sensors is to add this to your <code>configuration.yaml</code>:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
binary_sensor:
  platform: rfxtrx
  automatic_add: true
</code></pre>
<p>Open your Home Assistant frontend and go to the “states” page.
Then make sure to trigger your sensor. You should see a new entity
appear in the <em>Current entities</em> list, starting with “binary_sensor.”
and some hexadecimal digits. Those hexadecimal digits are your device id.</p>
<p>For example: “binary_sensor.0913000022670e013b70”. Here your device id
is <code>0913000022670e013b70</code>. Then you should update your configuration to:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
binary_sensor:
  platform: rfxtrx
  devices:
    0913000022670e013b70:
      name: device_name
</code></pre>
<div class="config-vars">
  <h3>
<a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class="">
<dt>
<a class="title-link" name="devices" href="#devices"></a> devices</dt>
<dd><p class="desc"><span class="type">(<span class="list">list</span>)</span><span class="required">(Optional)</span><span class="description"><p>A list of devices.</p>
</span></p></dd>
<dd><dl class="nested">
<dt>
<a class="title-link" name="name" href="#name"></a> name</dt>
<dd><p class="desc"><span class="type">(<span class="string">string</span>)</span><span class="required">(Optional)</span><span class="description"><p>Override the name to use in the frontend.</p>
</span></p></dd>
<dt>
<a class="title-link" name="device_class" href="#device_class"></a> device_class</dt>
<dd><p class="desc"><span class="type">(<span class="device_class"><a href="/docs/configuration/customizing-devices/#device-class">device_class</a></span>)</span><span class="required">(Optional)</span><span class="description"><p>Sets the <a href="/integrations/binary_sensor/">class of the device</a>, changing the device state and icon that is displayed on the frontend.</p>
</span></p></dd>
<dt>
<a class="title-link" name="fire_event" href="#fire_event"></a> fire_event</dt>
<dd>
<p class="desc"><span class="type">(<span class="boolean">boolean</span>)</span><span class="required">(Optional)</span><span class="description"><p>Fires an event even if the state is the same as before. Can be used for automations.</p>
</span></p>
<p class="default">
Default value: </p>
<p>false</p>
</dd>
<dt>
<a class="title-link" name="off_delay" href="#off_delay"></a> off_delay</dt>
<dd><p class="desc"><span class="type">(<span class="integer">integer</span>)</span><span class="required">(Optional)</span><span class="description"><p>For sensors that only sends ‘On’ state updates, this variable sets a delay after which the sensor state will be updated back to ‘Off’.</p>
</span></p></dd>
<dt>
<a class="title-link" name="data_bits" href="#data_bits"></a> data_bits</dt>
<dd><p class="desc"><span class="type">(<span class="integer">integer</span>)</span><span class="required">(Optional)</span><span class="description"><p>Defines how many bits are used for commands inside the data packets sent by the device.</p>
</span></p></dd>
<dt>
<a class="title-link" name="command_on" href="#command_on"></a> command_on</dt>
<dd><p class="desc"><span class="type">(<span class="string">string</span>)</span><span class="required">(Optional)</span><span class="description"><p>Defines the data bits value that is sent by the device upon an ‘On’ command.</p>
</span></p></dd>
<dt>
<a class="title-link" name="command_off" href="#command_off"></a> command_off</dt>
<dd><p class="desc"><span class="type">(<span class="string">string</span>)</span><span class="required">(Optional)</span><span class="description"><p>Defines the data bits value that is sent by the device upon an ‘Off’ command.</p>
</span></p></dd>
</dl></dd>
<dt>
<a class="title-link" name="automatic_add" href="#automatic_add"></a> automatic_add</dt>
<dd>
<p class="desc"><span class="type">(<span class="boolean">boolean</span>)</span><span class="required">(Optional)</span><span class="description"><p>To enable the automatic addition of new binary sensors.</p>
</span></p>
<p class="default">
Default value: </p>
<p>false</p>
</dd>
</dl>
</div>
<div class="note warning">
<p>This integration and the <a href="/integrations/switch.rfxtrx/">rfxtrx switch</a> can steal each other’s devices when setting the <code>automatic_add</code> configuration parameter to <code>true</code>.
Set <code>automatic_add</code> only when you have some devices to add to your installation, otherwise leave it to <code>false</code>.</p>
</div>
<div class="note warning">
<p>If a device ID consists of only numbers, please make sure to surround it with quotes.
This is a known limitation in YAML, because the device ID will be interpreted as a number otherwise.</p>
</div>
<p>Binary sensors have only two states - “on” and “off”. Many door or window
opening sensors will send a signal each time the door/window is open or closed.
However, depending on their hardware or on their purpose,
some sensors are only able to signal their “on” state:</p>
<ul>
<li>Most motion sensors send a signal each time they detect motion. They stay “on” for a few seconds and go back to sleep, ready to signal other motion events. Usually, they do not send a signal when they go back to sleep.</li>
<li>Some doorbells may also only send “on” signals when their toggle switch is pressed, but no “off” signal when the switch is released.</li>
</ul>
<p>For those devices, use the <em>off_delay</em> parameter.
It defines a delay after which a device will go back to an “Off” state.
That “Off” state will be fired internally by Home Assistant, just as if
the device fired it by itself. If a motion sensor can only send signals
once every 5 seconds, sets the <em>off_delay</em> parameter to <em>seconds: 5</em>.</p>
<p>Example configuration:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
binary_sensor:
  platform: rfxtrx
  automatic_add: true
  devices:
    091300006ca2c6001080:
    name: motion_hall
    device_class: motion
    off_delay:
      seconds: 5
</code></pre>
<h3>
<a class="title-link" name="options-for-pt-2262-devices-under-the-lighting4-protocol" href="#options-for-pt-2262-devices-under-the-lighting4-protocol"></a> Options for PT-2262 devices under the Lighting4 protocol</h3>
<p>When a data packet is transmitted by a PT-2262 device using the Lighting4
protocol, there is no way to automatically extract the device identifier and the
command from the packet. Each device has its own id/command length combination
and the fields lengths are not included in the data. One device that sends 2
different commands will be seen as 2 devices on Home Assistant. For such cases,
the following options are available in order to circumvent the problem:</p>
<ul>
<li>
<strong>data_bits</strong> (<em>Optional</em>)</li>
<li>
<strong>command_on</strong> (<em>Optional</em>)</li>
<li>
<strong>command_off</strong> (<em>Optional</em>)</li>
</ul>
<p>Let’s try to add a new PT-2262 sensor using the “automatic_add”
option and have a look at Home Assistant system log.</p>
<p>Have your sensor trigger the “On” state for the first time.
Some messages will appear:</p>
<pre><code class="language-text">INFO (Thread-6) [homeassistant.components.binary_sensor.rfxtrx] Added binary sensor 0913000022670e013970 (Device_id: 22670e Class: LightingDevice Sub: 0)
</code></pre>
<p>Here the sensor has the id <em>22670e</em>.</p>
<p>Now have your sensor trigger the “Off” state and look for the following
message in the Home Assistant log. You should see that your device
has been detected as a <em>new</em> device when triggering its “Off” state:</p>
<pre><code class="language-text">INFO (Thread-6) [homeassistant.components.binary_sensor.rfxtrx] Added binary sensor 09130000226707013d70 (Device_id: 226707 Class: LightingDevice Sub: 0)
</code></pre>
<p>Here the device id is <em>226707</em>, which is almost similar to
the <em>22670e</em> we had on the “On” event a few seconds ago.</p>
<p>From those two values, you can guess that the actual id of your device is
<em>22670</em>, and that <em>e</em> and <em>7</em> are commands for “On” and “Off” states
respectively. As one hexadecimal digit uses 4 bits,
we can conclude that the device is using 4 data bits.</p>
<p>So here is the actual configuration section for the binary sensor:</p>
<pre><code class="language-yaml">platform: rfxtrx
automatic_add: true
devices:
  0913000022670e013b70:
    name: window_room2
    device_class: opening
    data_bits: 4
    command_on: 0xe
    command_off: 0x7
</code></pre>
<p>The <em>automatic_add</em> option makes the rfxtrx binary sensor integration calculate
and display the configuration options for you in the Home Assistant logs:</p>
<pre><code class="language-text">INFO (Thread-6) [homeassistant.components.rfxtrx] rfxtrx: found possible device 226707 for 22670e with the following configuration:
data_bits=4
command_on=0xe
command_off=0x7
INFO (Thread-6) [homeassistant.components.binary_sensor.rfxtrx] Found possible matching deviceid 22670e.
</code></pre>
<p>This automatic guess should work most of the time but there is
no guarantee on that. You should activate it only when you
want to configure your new devices and leave it off otherwise.</p>
<h3>
<a class="title-link" name="known-working-devices" href="#known-working-devices"></a> Known working devices</h3>
<p>The following devices are known to work with the rfxtrx binary sensor component.
There are too many other to list.</p>
<ul>
<li>
<p>Motion detectors:</p>
<ul>
<li>Kerui P817 and P829.</li>
<li>Chuango PIR-700.</li>
</ul>
</li>
<li>
<p>Door / window sensors:</p>
<ul>
<li>Kerui D026 door / window sensor: can trigger on “open” and “close”. Has a tamper switch.</li>
<li>Nexa LMST-606.</li>
</ul>
</li>
</ul>


</article>

          
        </div>

        
        <aside id="sidebar" class="grid__item one-third lap-one-whole palm-one-whole">
          <div class="grid">
  
  
    <section class="aside-module grid__item one-whole lap-one-half">

<div class='edit-github'><a href='https://github.com/hakorea/hakorea.github.io/tree/current/source/_integrations/binary_sensor.rfxtrx.markdown'>깃허브 편집</a></div>

<div class='brand-logo-container section'><img src='/images/supported_brands/rfxtrx.png' /></div><div class="section">
    <kb-alert-link integration="rfxtrx"></kb-alert-link>
  </div><div class='section'>
      Introduced in release: 0.48
    </div><div class='section'>
    Source: <a href='https://github.com/home-assistant/home-assistant/blob/dev/homeassistant/components/rfxtrx/'>/components/rfxtrx/</a>
  </div><div class='section'>
    <h1 class="title delta">카테고리</h1>
    <ul class='divided'><li>
        <a href='/integrations/#binary-sensor'>Binary Sensor</a>
      </li></ul>
    </div></section>

<script src="https://alerts.home-assistant.io/ce-alert-link.js"></script>

  
</div>

        </aside>
        
      </div>
    </div>

    <footer>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <div class="copyright grid">
        <div class='company grid__item one-third lap-one-half palm-one-whole'>
          <div class="title">
            <img width="40" src="/images/favicon-192x192-full.png" alt="Home Assistant"> 홈어시스턴트
          </div>
          <div class="icons">
            <a rel="me" href='https://twitter.com/home_assistant' title="Twitter"><i class="icon-twitter"></i></a>
            <a rel="me" href='https://www.facebook.com/homeassistantio' title="Facebook"><i class="icon-facebook"></i></a>
            <a rel="me" href='https://github.com/home-assistant/home-assistant' title="GitHub"><i class="icon-github"></i></a>
          </div>
        </div>

        <div class='grid__item one-third lap-one-half palm-one-whole'>
          <ul>
            <li><a href='https://alerts.home-assistant.io'>Home Assistant Alerts</a></li>
            <li><a href='https://developers.home-assistant.io'>Developers</a></li>
            <li><a href='https://data.home-assistant.io'>Data Science</a></li>
            <li><a href='mailto:hello@home-assistant.io'>Contact</a> (no support!)</li>
            <li><a href='/security/'>Security Vulnerabilities</a></li>
            <li><a href='/privacy/'>Privacy</a></li>
            <li><a href='https://status.home-assistant.io'>System Status</a></li>
          </ul>
        </div>

        <div class='grid__item one-third lap-one-half palm-one-whole'>
          이 웹사이트는 <a href='https://jekyllrb.com/'>지킬</a>과
          <a href='https://github.com/coogie/oscailte'>Oscalite 테마</a>를 사용합니다.
          Hosted by <a href='https://www.netlify.com/'>Netlify</a>.
        </div>
      </div>
    </div>
  </div>
</div>

    </footer>

    <script>
var _gaq=[['_setAccount',''],['_trackPageview']];
(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

<script src="/javascripts/prism.js?5d6619066a1fc5cd819a93c132b539ac" type="text/javascript"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript">
docsearch({
  apiKey: 'ae96d94b201c5444c8a443093edf3efb',
  indexName: 'home-assistant',
  inputSelector: '#search',
  debug: false // Set debug to true if you want to inspect the dropdown
});
document.querySelector('.search .close').addEventListener('click', function(ev) {
  ev.preventDefault();
  document.querySelector('.search-container').style.display = 'none';
});
document.querySelector('.show-search').addEventListener('click', function(ev) {
  ev.preventDefault();
  document.querySelector('.search-container').style.display = 'block';
  document.getElementById('toggle').checked = false;
  document.querySelector('.search-container input').focus();
});
</script>

  </body>
</html>
