<!doctype html>
  <!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html lang="en" class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html lang="en"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Habitica - 홈어시스턴트</title>
    <meta name="author" content="Home Assistant">
    <meta name="description" content="Instructions on enabling Habitica support for your Home Assistant">
    
    <meta name="viewport" content="width=device-width">
    <link rel="canonical" href="https://hakorea.github.io/integrations/habitica/">

    <meta property="fb:app_id" content="">
    <meta property="og:title" content="Habitica">
    <meta property="og:site_name" content="홈어시스턴트">
    <meta property="og:url" content="https://hakorea.github.io/integrations/habitica/">
    <meta property="og:type" content="article">
    <meta property="og:description" content="Instructions on enabling Habitica support for your Home Assistant">
    <meta property="og:image" content="https://hakorea.github.io/images/default-social.png">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@">
    
    <meta name="twitter:title" content="Habitica">
    <meta name="twitter:description" content="Instructions on enabling Habitica support for your Home Assistant">
    <meta name="twitter:image" content="https://hakorea.github.io/images/default-social.png">

    <link href="/stylesheets/prism.css?8acb84bc0387c9548a63998fcfea0139" rel="stylesheet">
    <link href="/stylesheets/screen.css?0a23d70030bf362ca935e76ccc50922c" media="screen, projection, print" rel="stylesheet">
    <link href="/atom.xml" rel="alternate" title="홈어시스턴트" type="application/atom+xml">
    <link rel='shortcut icon' href='/images/favicon.ico' />
    <link rel='icon' type='image/png' href='/images/favicon-192x192.png' sizes='192x192' />
  </head>

  <body >

    <header class='site-header'>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item three-tenths lap-two-sixths palm-one-whole ha-title">
      <a href="/" class="site-title">
        <img src="/images/home-assistant-logo.svg" width="36" height="36" alt="Home Assistant">
        <span>홈어시스턴트</span>
      </a>
    </div>

    <div class="grid__item seven-tenths lap-four-sixths palm-one-whole">
      <nav>
        <input type="checkbox" id="toggle">
        <label for="toggle" class="toggle" data-open="Main Menu" data-close="Close Menu"></label>
        <ul class="menu pull-right">
            
            <li><a href="/getting-started/">시작하기</a></li>
            <li><a href="/integrations/">통합구성요소</a></li>
            <li><a href="/docs/">문서</a></li>
            <li><a href="/cookbook/">예제</a></li>
            <li>KOREAN(not official)</li>
        </ul>
      </nav>

      <div class='search-container' style='display: none'>
        <div class='search'>
          <i class="icon-search"></i>
          <input id='search' placeholder='Search the docs…'>
          <a href='#' class='close'><i class="icon-remove-sign"></i></a>
        </div>
      </div>
    </div>
  </div>
</div>

    </header>

    

    <div class="grid-wrapper">
      <div class="grid grid-center">
        
        <div class="grid__item two-thirds lap-one-whole palm-one-whole">
        

          
            <article class="page">
  
  
    

<div class="edit-github"><a href="https://github.com/hakorea/hakorea.github.io/tree/current/source/_integrations/habitica.markdown" rel="external nofollow">깃허브 편집</a></div>


  

  
  <header>
    <h1 class="title indent">
      Habitica
    </h1>
  </header>
  <hr class="divider">
  

  <p>This integration allows you to monitor and manage your Habitica profile. This integration exposes the <a href="https://habitica.com/apidoc/" rel="external nofollow">Habitica’s API</a> as a Home Assistant service. It supports multiple users and allows you to automate checking out your habits and daily tasks or casting magics using Home Assistant.</p>
<p>There is currently support for the following device types within Home Assistant:</p>
<ul>
<li>Sensor - Allows you to view and monitor your player data from <a href="https://habitica.com/" rel="external nofollow">Habitica</a> in Home Assistant.</li>
</ul>
<p>The sensors will automatically appear, after setup the Habitica component.</p>
<p>To use the integration you should use this example configuration:</p>
<pre><code class="language-yaml"># Minimum viable configuration.yaml entry
habitica:
  - api_user: YOUR_USER_ID
    api_key: YOUR_API_KEY
</code></pre>
<p>You can specify several users, providing <code>api_user</code> and <code>api_key</code> for each.
At runtime you will be able to use API for each respective user by their Habitica’s username.
You can override this by passing <code>name</code> key, this value will be used instead of the username.
If you are hosting your own instance of Habitica, you can specify a URL to it in <code>url</code> key.</p>
<div class="config-vars">
  <h3>
<a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class="">
<dt>
<a class="title-link" name="api_user" href="#api_user"></a> api_user</dt>
<dd><p class="desc"><span class="type">(<span class="string">string</span>)</span><span class="required">(Required)</span><span class="description"><p>Habitica’s API user ID. This value can be grabbed from <a href="https://habitica.com/user/settings/api" rel="external nofollow">account setting</a></p>
</span></p></dd>
<dt>
<a class="title-link" name="api_key" href="#api_key"></a> api_key</dt>
<dd><p class="desc"><span class="type">(<span class="string">string</span>)</span><span class="required">(Required)</span><span class="description"><p>Habitica’s API password (token). This value can be grabbed from <a href="https://habitica.com/user/settings/api" rel="external nofollow">account setting</a> by pressing ‘Show API token’</p>
</span></p></dd>
<dt>
<a class="title-link" name="name" href="#name"></a> name</dt>
<dd>
<p class="desc"><span class="type">(<span class="string">string</span>)</span><span class="required">(Optional)</span><span class="description"><p>Override for Habitica’s username. Will be used for service calls</p>
</span></p>
<p class="default">
Default value: </p>
<p>Deduced at startup</p>
</dd>
<dt>
<a class="title-link" name="url" href="#url"></a> url</dt>
<dd>
<p class="desc"><span class="type">(<span class="string">string</span>)</span><span class="required">(Optional)</span><span class="description"><p>URL to your Habitica instance, if you are hosting your own</p>
</span></p>
<p class="default">
Default value: </p>
<p><a href="https://habitica.com" rel="external nofollow">https://habitica.com</a></p>
</dd>
<dt>
<a class="title-link" name="sensors" href="#sensors"></a> sensors</dt>
<dd>
<p class="desc"><span class="type">(<span class="list">list</span>)</span><span class="required">(Optional)</span><span class="description"><p>List of sensors to generate for this user. If you don’t specify this entry then the default (all sensors) will be generated. If you specify this entry empty then no sensors will be generated.</p>
</span></p>
<p class="default">
Default value: </p>
<p>all (<code>name</code>, <code>hp</code>, <code>maxHealth</code>, <code>mp</code>, <code>maxMP</code>, <code>exp</code>, <code>toNextLevel</code>, <code>lvl</code>, <code>gp</code>, <code>class</code>)</p>
</dd>
</dl>
</div>
<h3>
<a class="title-link" name="api-service-parameters" href="#api-service-parameters"></a> API Service Parameters</h3>
<p>The API is exposed to Home Assistant as a service called <code>habitica.api_call</code>. To call it you should specify this keys in service data:</p>
<table>
<thead>
<tr>
<th>Service data attribute</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td>yes</td>
<td>string</td>
<td>Habitica’s username as per <code>configuration.yaml</code> entry.</td>
</tr>
<tr>
<td><code>path</code></td>
<td>yes</td>
<td>[string]</td>
<td>Items from API URL in form of an array with method attached at the end. See the example below.</td>
</tr>
<tr>
<td><code>args</code></td>
<td>no</td>
<td>map</td>
<td>Any additional json or url parameter arguments. See the example below and <a href="https://habitica.com/apidoc/" rel="external nofollow">apidoc</a>.</td>
</tr>
</tbody>
</table>
<p>A successful call to this service will fire an event <code>habitica_api_call_success</code>.</p>
<table>
<thead>
<tr>
<th>Event data attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td>string</td>
<td>Copied from service data attribute.</td>
</tr>
<tr>
<td><code>path</code></td>
<td>[string]</td>
<td>Copied from service data attribute.</td>
</tr>
<tr>
<td><code>data</code></td>
<td>map</td>
<td>Deserialized <code>data</code> field of JSON object Habitica’s server returned in response to api call. For more info see <a href="https://habitica.com/apidoc/" rel="external nofollow">docs</a>.</td>
</tr>
</tbody>
</table>
<h4>
<a class="title-link" name="lets-consider-some-examples-on-how-to-call-the-service" href="#lets-consider-some-examples-on-how-to-call-the-service"></a> Let’s consider some examples on how to call the service.</h4>
<p>For example, let’s say that there is a configured <code>habitica</code> platform for user <code>xxxNotAValidNickxxx</code> with their respective <code>api_user</code> and <code>api_key</code>.
Let’s create a new task (a todo) for this user via Home Assistant. There is an <a href="https://habitica.com/apidoc/#api-Task-CreateUserTasks" rel="external nofollow">API call</a> for this purpose.
To create a new task one should hit <code>https://habitica.com/api/v3/tasks/user</code> endpoint with <code>POST</code> request with a json object with task properties.
So let’s call the API on <code>habitica.api_call</code>.</p>
<ul>
<li>The <code>name</code> key becomes <code>xxxNotAValidNickxxx</code>.</li>
<li>The <code>path</code> key is trickier.
<ul>
<li>Remove <code>https://habitica.com/api/v3/</code> at the beginning of the endpoint URL.</li>
<li>Split the remaining on slashes (/) and <strong>append the lowercase method</strong> at the end.</li>
<li>You should get <code>["tasks", "user", "post"]</code>. To get a better idea of the API you are recommended to try all of the API calls in IPython console <a href="https://github.com/ASMfreaK/habitipy/blob/master/README.md" rel="external nofollow">using this package</a>.</li>
</ul>
</li>
<li>The <code>args</code> key is more or less described in the <a href="https://habitica.com/apidoc/" rel="external nofollow">docs</a>.</li>
</ul>
<p>Combining all together:
call <code>habitica.api_call</code> with data</p>
<pre><code class="language-json">{
  "name": "xxxNotAValidNickxxx",
  "path": ["tasks", "user", "post"],
  "args": {"text": "Use API from Home Assistant", "type": "todo"}
}
</code></pre>
<p>This call will create a new todo on <code>xxxNotAValidNickxxx</code>’s account with text <code>Use API from Home Assistant</code> like this:</p>
<p><img src="/images/screenshots/habitica_new_task.png" alt="example task created"></p>
<p>Also an event <code>habitica_api_call_success</code> will be fired with the following data:</p>
<pre><code class="language-json">{
  "name": "xxxNotAValidNickxxx",
  "path": ["tasks", "user", "post"],
  "data": {
    "challenge": {},
    "group": {"approval": {"required": false,
     "approved": false,
     "requested": false},
    "assignedUsers": [],
    "sharedCompletion": "recurringCompletion"},
    "completed": false,
    "collapseChecklist": false,
    "type": "todo",
    "notes": "",
    "tags": [],
    "value": 0,
    "priority": 1,
    "attribute": "str",
    "text": "Use API from Home Assistant",
    "checklist": [],
    "reminders": [],
    "_id": "NEW_TASK_UUID",
    "createdAt": "2018-08-09T18:03:27.759Z",
    "updatedAt": "2018-08-09T18:03:27.759Z",
    "userId": "xxxNotAValidNickxxx's ID",
    "id": "NEW_TASK_UUID"}
}
</code></pre>


</article>

          
        </div>

        
        <aside id="sidebar" class="grid__item one-third lap-one-whole palm-one-whole">
          <div class="grid">
  
  
    <section class="aside-module grid__item one-whole lap-one-half">

<div class='edit-github'><a href='https://github.com/hakorea/hakorea.github.io/tree/current/source/_integrations/habitica.markdown'>깃허브 편집</a></div>

<div class='brand-logo-container section'><img src='/images/supported_brands/habitica.png' /></div><div class="section">
    <kb-alert-link integration="habitica"></kb-alert-link>
  </div><div class='section'>
      IoT class<sup><a href='/blog/2016/02/12/classifying-the-internet-of-things/#classifiers'><i class="icon-info-sign"></i></a></sup>: Cloud Polling
    </div><div class='section'>
      Introduced in release: 0.78
    </div><div class='section'>
    Source: <a href='https://github.com/home-assistant/home-assistant/blob/dev/homeassistant/components/habitica/'>/components/habitica/</a>
  </div><div class='section'>
    <h1 class="title delta">카테고리</h1>
    <ul class='divided'><li>
        <a href='/integrations/#hub'>Hub</a>
      </li><li>
        <a href='/integrations/#sensor'>Sensor</a>
      </li></ul>
    </div></section>

<script src="https://alerts.home-assistant.io/ce-alert-link.js"></script>

  
</div>

        </aside>
        
      </div>
    </div>

    <footer>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <div class="copyright grid">
        <div class='company grid__item one-third lap-one-half palm-one-whole'>
          <div class="title">
            <img width="40" src="/images/favicon-192x192-full.png" alt="Home Assistant"> 홈어시스턴트
          </div>
          <div class="icons">
            <a rel="me" href='https://twitter.com/home_assistant' title="Twitter"><i class="icon-twitter"></i></a>
            <a rel="me" href='https://www.facebook.com/homeassistantio' title="Facebook"><i class="icon-facebook"></i></a>
            <a rel="me" href='https://github.com/home-assistant/home-assistant' title="GitHub"><i class="icon-github"></i></a>
          </div>
        </div>

        <div class='grid__item one-third lap-one-half palm-one-whole'>
          <ul>
            <li><a href='https://alerts.home-assistant.io'>Home Assistant Alerts</a></li>
            <li><a href='https://developers.home-assistant.io'>Developers</a></li>
            <li><a href='https://data.home-assistant.io'>Data Science</a></li>
            <li><a href='mailto:hello@home-assistant.io'>Contact</a> (no support!)</li>
            <li><a href='/security/'>Security Vulnerabilities</a></li>
            <li><a href='/privacy/'>Privacy</a></li>
            <li><a href='https://status.home-assistant.io'>System Status</a></li>
          </ul>
        </div>

        <div class='grid__item one-third lap-one-half palm-one-whole'>
          이 웹사이트는 <a href='https://jekyllrb.com/'>지킬</a>과
          <a href='https://github.com/coogie/oscailte'>Oscalite 테마</a>를 사용합니다.
          Hosted by <a href='https://www.netlify.com/'>Netlify</a>.
        </div>
      </div>
    </div>
  </div>
</div>

    </footer>

    <script>
var _gaq=[['_setAccount',''],['_trackPageview']];
(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

<script src="/javascripts/prism.js?5d6619066a1fc5cd819a93c132b539ac" type="text/javascript"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript">
docsearch({
  apiKey: 'ae96d94b201c5444c8a443093edf3efb',
  indexName: 'home-assistant',
  inputSelector: '#search',
  debug: false // Set debug to true if you want to inspect the dropdown
});
document.querySelector('.search .close').addEventListener('click', function(ev) {
  ev.preventDefault();
  document.querySelector('.search-container').style.display = 'none';
});
document.querySelector('.show-search').addEventListener('click', function(ev) {
  ev.preventDefault();
  document.querySelector('.search-container').style.display = 'block';
  document.getElementById('toggle').checked = false;
  document.querySelector('.search-container input').focus();
});
</script>

  </body>
</html>
