<!doctype html>
  <!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html lang="en" class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html lang="en"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Spotify - 홈어시스턴트</title>
    <meta name="author" content="Home Assistant">
    <meta name="description" content="Instructions on how to integrate Spotify into Home Assistant.">
    
    <meta name="viewport" content="width=device-width">
    <link rel="canonical" href="https://hakorea.github.io/integrations/spotify/">

    <meta property="fb:app_id" content="">
    <meta property="og:title" content="Spotify">
    <meta property="og:site_name" content="홈어시스턴트">
    <meta property="og:url" content="https://hakorea.github.io/integrations/spotify/">
    <meta property="og:type" content="article">
    <meta property="og:description" content="Instructions on how to integrate Spotify into Home Assistant.">
    <meta property="og:image" content="https://hakorea.github.io/images/default-social.png">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@">
    
    <meta name="twitter:title" content="Spotify">
    <meta name="twitter:description" content="Instructions on how to integrate Spotify into Home Assistant.">
    <meta name="twitter:image" content="https://hakorea.github.io/images/default-social.png">

    <link href="/stylesheets/prism.css?8acb84bc0387c9548a63998fcfea0139" rel="stylesheet">
    <link href="/stylesheets/screen.css?0a23d70030bf362ca935e76ccc50922c" media="screen, projection, print" rel="stylesheet">
    <link href="/atom.xml" rel="alternate" title="홈어시스턴트" type="application/atom+xml">
    <link rel='shortcut icon' href='/images/favicon.ico' />
    <link rel='icon' type='image/png' href='/images/favicon-192x192.png' sizes='192x192' />
  </head>

  <body >

    <header class='site-header'>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item three-tenths lap-two-sixths palm-one-whole ha-title">
      <a href="/" class="site-title">
        <img src="/images/home-assistant-logo.svg" width="36" height="36" alt="Home Assistant">
        <span>홈어시스턴트</span>
      </a>
    </div>

    <div class="grid__item seven-tenths lap-four-sixths palm-one-whole">
      <nav>
        <input type="checkbox" id="toggle">
        <label for="toggle" class="toggle" data-open="Main Menu" data-close="Close Menu"></label>
        <ul class="menu pull-right">
            
            <li><a href="/getting-started/">시작하기</a></li>
            <li><a href="/integrations/">통합구성요소</a></li>
            <li><a href="/docs/">문서</a></li>
            <li><a href="/cookbook/">예제</a></li>
            <li>KOREAN(not official)</li>
        </ul>
      </nav>

      <div class='search-container' style='display: none'>
        <div class='search'>
          <i class="icon-search"></i>
          <input id='search' placeholder='Search the docs…'>
          <a href='#' class='close'><i class="icon-remove-sign"></i></a>
        </div>
      </div>
    </div>
  </div>
</div>

    </header>

    

    <div class="grid-wrapper">
      <div class="grid grid-center">
        
        <div class="grid__item two-thirds lap-one-whole palm-one-whole">
        

          
            <article class="page">
  
  
    

<div class="edit-github"><a href="https://github.com/hakorea/hakorea.github.io/tree/current/source/_integrations/spotify.markdown" rel="external nofollow">깃허브 편집</a></div>


  

  
  <header>
    <h1 class="title indent">
      Spotify
    </h1>
  </header>
  <hr class="divider">
  

  <p>The <code>spotify</code> media player platform allows you to control
<a href="https://www.spotify.com/" rel="external nofollow">Spotify</a> playback from Home Assistant.</p>
<h2>
<a class="title-link" name="prerequisites" href="#prerequisites"></a> Prerequisites</h2>
<ul>
<li>Spotify account</li>
<li>Spotify application, properly configured (see below)</li>
</ul>
<div class="note">
Controlling the Spotify integration (pause, play, next, etc.) requires a Premium account. If you do not have a Premium account, the integration in the frontend will not show the controls.
</div>
<p>To create the required Spotify application:</p>
<ul>
<li>Login to <a href="https://developer.spotify.com" rel="external nofollow">Spotify Developer</a>
</li>
<li>Visit the <a href="https://developer.spotify.com/my-applications/#!/applications" rel="external nofollow">My Applications</a> page</li>
<li>Select <strong>Create An App</strong>. Enter any name and description. Once your application is created, view it and copy your <strong>Client ID</strong> and <strong>Client Secret</strong>, which are used in the Home Assistant configuration file.</li>
<li>Add a <strong>Redirect URI</strong> in one of the following forms:</li>
</ul>
<p>If you are not using SSL:
<code>http://&lt;your_home_assistant_url_or_local_ip&gt;/api/spotify</code></p>
<p>If you are using SSL:
<code>https://&lt;your_home_assistant_url_or_local_ip&gt;/api/spotify</code></p>
<ul>
<li>Click <strong>Save</strong> after adding the URI.</li>
</ul>
<p>If you are using an externally accessible address you will likely also need to set the <code>base_url</code> attribute of the <a href="/integrations/http/">HTTP Component</a>. This should be set using the same base URL as the redirect URI, e.g., if you used a domain name (not local IP) in the redirect, then use the same domain name in your <code>base_url</code>.</p>
<h2>
<a class="title-link" name="configuration" href="#configuration"></a> Configuration</h2>
<p>To add Spotify to your installation,
add the following to your <code>configuration.yaml</code> file:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
media_player:
  - platform: spotify
    client_id: YOUR_CLIENT_ID
    client_secret: YOUR_CLIENT_SECRET
    aliases:
        abc123def456: 'Living Room'
        9183abas000: 'Bed Room'
</code></pre>
<div class="config-vars">
  <h3>
<a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class="">
<dt>
<a class="title-link" name="client_id" href="#client_id"></a> client_id</dt>
<dd><p class="desc"><span class="type">(<span class="string">string</span>)</span><span class="required">(Required)</span><span class="description"><p>Client ID from your Spotify application.</p>
</span></p></dd>
<dt>
<a class="title-link" name="client_secret" href="#client_secret"></a> client_secret</dt>
<dd><p class="desc"><span class="type">(<span class="string">string</span>)</span><span class="required">(Required)</span><span class="description"><p>Client Secret from your Spotify application.</p>
</span></p></dd>
<dt>
<a class="title-link" name="cache_path" href="#cache_path"></a> cache_path</dt>
<dd>
<p class="desc"><span class="type">(<span class="string">string</span>)</span><span class="required">(Optional)</span><span class="description"><p>Path to cache authentication token.</p>
</span></p>
<p class="default">
Default value: </p>
<p>.spotify-token-cache</p>
</dd>
<dt>
<a class="title-link" name="aliases" href="#aliases"></a> aliases</dt>
<dd><p class="desc"><span class="type">(<span class="map">map</span>)</span><span class="required">(Optional)</span><span class="description"><p>Dictionary of device ids to be aliased, handy for devices that Spotify cannot properly determine the device name of. New devices will be logged to the <code>info</code> channel for ease of aliasing.</p>
</span></p></dd>
<dt>
<a class="title-link" name="name" href="#name"></a> name</dt>
<dd>
<p class="desc"><span class="type">(<span class="string">string</span>)</span><span class="required">(Optional)</span><span class="description"><p>The name of the device used in the frontend.</p>
</span></p>
<p class="default">
Default value: </p>
<p>Spotify</p>
</dd>
</dl>
</div>
<h2>
<a class="title-link" name="setup" href="#setup"></a> Setup</h2>
<p>After the prerequisites and configuration are complete, restart Home Assistant.
Under notifications a <strong>Spotify</strong> configurator element will be available. Click on “Link Spotify account” and follow the instructions to
authorize Home Assistant to access your Spotify account. A Spotify media player
will then appear. If you are prompted to download a file after completing
authorization, discard the download. It is not needed.</p>
<h2>
<a class="title-link" name="sources" href="#sources"></a> Sources</h2>
<p>The sources are based on if you have streamed to these devices before in
Spotify. If you don’t have any sources, then simply stream from your phone to
another device in your house: Bluetooth, echo, etc. Once you do, the sources will
show up in the Spotify developer console as a device to cast/stream to.
Go to <a href="https://developer.spotify.com" rel="external nofollow">https://developer.spotify.com</a> and login. Click on “Console” in top menu and then “Player” in the left menu. Select 	“/v1/me/player/devices” in the list. Then click “Get token”, accept the terms and click “Try it”. Your active Spotify devices will then be listed in the right panel, beneath the curl-line (for example, “name”: “Web Player (Chrome)”).<br>
These names can then be used in for example an input selector:</p>
<pre><code class="language-yaml">  spotify_source:
    name: 'Source:'
    options:
      - Spotifyd@rock64
      - Web Player (Chrome)
</code></pre>
<p>The devices won’t show up in the dev-console as sources unless they are powered on as well.</p>
<h2>
<a class="title-link" name="uri-links-for-playlistsetc" href="#uri-links-for-playlistsetc"></a> URI Links For Playlists/Etc.</h2>
<p>You can send playlists to spotify via the <code>"media_content_type": "playlist"</code> and something like (depending on your content ID)
<code>"media_content_id": "spotify:user:spotify:playlist:37i9dQZF1DWSkkUxEhrBdF"</code>
which are part of the
<a href="/integrations/media_player/#service-media_playerplay_media">media_player.play_media</a>
service. You can test this from the services
control panel in the Home Assistant frontend.</p>
<h2>
<a class="title-link" name="services" href="#services"></a> Services</h2>
<p>Extra services besides the default ones in component <a href="/integrations/media_player/">Media Player component</a>.</p>
<h3>
<a class="title-link" name="service-play_playlist" href="#service-play_playlist"></a> Service play_playlist</h3>
<p>Play a Spotify playlist with an option to start on a random position of the playlist.</p>
<table>
<thead>
<tr>
<th>Service data attribute</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>media_content_id</code></td>
<td>no</td>
<td>Spotify URI of playlist. Must be playlist kind of URI.</td>
</tr>
<tr>
<td><code>random_song</code></td>
<td>yes</td>
<td>True to select random song at start, False to start from beginning.</td>
</tr>
</tbody>
</table>
<p>The above playlist example is a URI link to the “Reggae Infusions” playlist.
<a href="https://support.spotify.com/us/article/sharing-music/" rel="external nofollow">This support document from Spotify</a>
explains how to get this URI value to use for playlists in the Spotify component.</p>
<h2>
<a class="title-link" name="unsupported-devices" href="#unsupported-devices"></a> Unsupported Devices</h2>
<ul>
<li>
<strong>Sonos</strong>: Although Sonos is a Spotify Connect device, it is not supported by the official Spotify API.</li>
</ul>


</article>

          
        </div>

        
        <aside id="sidebar" class="grid__item one-third lap-one-whole palm-one-whole">
          <div class="grid">
  
  
    <section class="aside-module grid__item one-whole lap-one-half">

<div class='edit-github'><a href='https://github.com/hakorea/hakorea.github.io/tree/current/source/_integrations/spotify.markdown'>깃허브 편집</a></div>

<div class='brand-logo-container section'><img src='/images/supported_brands/spotify.png' /></div><div class="section">
    <kb-alert-link integration="spotify"></kb-alert-link>
  </div><div class='section'>
      IoT class<sup><a href='/blog/2016/02/12/classifying-the-internet-of-things/#classifiers'><i class="icon-info-sign"></i></a></sup>: Cloud Polling
    </div><div class='section'>
      Introduced in release: 0.43
    </div><div class='section'>
    Source: <a href='https://github.com/home-assistant/home-assistant/blob/dev/homeassistant/components/spotify/'>/components/spotify/</a>
  </div><div class='section'>
    <h1 class="title delta">카테고리</h1>
    <ul class='divided'><li>
        <a href='/integrations/#media-player'>Media Player</a>
      </li></ul>
    </div></section>

<script src="https://alerts.home-assistant.io/ce-alert-link.js"></script>

  
</div>

        </aside>
        
      </div>
    </div>

    <footer>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <div class="copyright grid">
        <div class='company grid__item one-third lap-one-half palm-one-whole'>
          <div class="title">
            <img width="40" src="/images/favicon-192x192-full.png" alt="Home Assistant"> 홈어시스턴트
          </div>
          <div class="icons">
            <a rel="me" href='https://twitter.com/home_assistant' title="Twitter"><i class="icon-twitter"></i></a>
            <a rel="me" href='https://www.facebook.com/homeassistantio' title="Facebook"><i class="icon-facebook"></i></a>
            <a rel="me" href='https://github.com/home-assistant/home-assistant' title="GitHub"><i class="icon-github"></i></a>
          </div>
        </div>

        <div class='grid__item one-third lap-one-half palm-one-whole'>
          <ul>
            <li><a href='https://alerts.home-assistant.io'>Home Assistant Alerts</a></li>
            <li><a href='https://developers.home-assistant.io'>Developers</a></li>
            <li><a href='https://data.home-assistant.io'>Data Science</a></li>
            <li><a href='mailto:hello@home-assistant.io'>Contact</a> (no support!)</li>
            <li><a href='/security/'>Security Vulnerabilities</a></li>
            <li><a href='/privacy/'>Privacy</a></li>
            <li><a href='https://status.home-assistant.io'>System Status</a></li>
          </ul>
        </div>

        <div class='grid__item one-third lap-one-half palm-one-whole'>
          이 웹사이트는 <a href='https://jekyllrb.com/'>지킬</a>과
          <a href='https://github.com/coogie/oscailte'>Oscalite 테마</a>를 사용합니다.
          Hosted by <a href='https://www.netlify.com/'>Netlify</a>.
        </div>
      </div>
    </div>
  </div>
</div>

    </footer>

    <script>
var _gaq=[['_setAccount',''],['_trackPageview']];
(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

<script src="/javascripts/prism.js?5d6619066a1fc5cd819a93c132b539ac" type="text/javascript"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript">
docsearch({
  apiKey: 'ae96d94b201c5444c8a443093edf3efb',
  indexName: 'home-assistant',
  inputSelector: '#search',
  debug: false // Set debug to true if you want to inspect the dropdown
});
document.querySelector('.search .close').addEventListener('click', function(ev) {
  ev.preventDefault();
  document.querySelector('.search-container').style.display = 'none';
});
document.querySelector('.show-search').addEventListener('click', function(ev) {
  ev.preventDefault();
  document.querySelector('.search-container').style.display = 'block';
  document.getElementById('toggle').checked = false;
  document.querySelector('.search-container input').focus();
});
</script>

  </body>
</html>
