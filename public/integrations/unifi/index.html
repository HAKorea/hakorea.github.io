<!doctype html>
  <!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html lang="en" class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html lang="en"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Ubiquiti UniFi - ÌôàÏñ¥ÏãúÏä§ÌÑ¥Ìä∏</title>
    <meta name="author" content="Home Assistant">
    <meta name="description" content="Instructions on how to configure UniFi integration with UniFi Controller by Ubiquiti.">
    
    <meta name="viewport" content="width=device-width">
    <link rel="canonical" href="https://hakorea.github.io/integrations/unifi/">

    <meta property="fb:app_id" content="">
    <meta property="og:title" content="Ubiquiti UniFi">
    <meta property="og:site_name" content="ÌôàÏñ¥ÏãúÏä§ÌÑ¥Ìä∏">
    <meta property="og:url" content="https://hakorea.github.io/integrations/unifi/">
    <meta property="og:type" content="article">
    <meta property="og:description" content="Instructions on how to configure UniFi integration with UniFi Controller by Ubiquiti.">
    <meta property="og:image" content="https://hakorea.github.io/images/default-social.png">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@">
    
    <meta name="twitter:title" content="Ubiquiti UniFi">
    <meta name="twitter:description" content="Instructions on how to configure UniFi integration with UniFi Controller by Ubiquiti.">
    <meta name="twitter:image" content="https://hakorea.github.io/images/default-social.png">

    <link href="/stylesheets/prism.css?8acb84bc0387c9548a63998fcfea0139" rel="stylesheet">
    <link href="/stylesheets/screen.css?0a23d70030bf362ca935e76ccc50922c" media="screen, projection, print" rel="stylesheet">
    <link href="/atom.xml" rel="alternate" title="ÌôàÏñ¥ÏãúÏä§ÌÑ¥Ìä∏" type="application/atom+xml">
    <link rel='shortcut icon' href='/images/favicon.ico' />
    <link rel='icon' type='image/png' href='/images/favicon-192x192.png' sizes='192x192' />
  </head>

  <body >

    <header class='site-header'>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item three-tenths lap-two-sixths palm-one-whole ha-title">
      <a href="/" class="site-title">
        <img src="/images/home-assistant-logo.svg" width="36" height="36" alt="Home Assistant">
        <span>ÌôàÏñ¥ÏãúÏä§ÌÑ¥Ìä∏</span>
      </a>
    </div>

    <div class="grid__item seven-tenths lap-four-sixths palm-one-whole">
      <nav>
        <input type="checkbox" id="toggle">
        <label for="toggle" class="toggle" data-open="Main Menu" data-close="Close Menu"></label>
        <ul class="menu pull-right">
            
            <li><a href="/getting-started/">ÏãúÏûëÌïòÍ∏∞</a></li>
            <li><a href="/integrations/">ÌÜµÌï©Íµ¨ÏÑ±ÏöîÏÜå</a></li>
            <li><a href="/docs/">Î¨∏ÏÑú</a></li>
            <li><a href="/cookbook/">ÏòàÏ†ú</a></li>
            <li>KOREAN(not official)</li>
        </ul>
      </nav>

      <div class='search-container' style='display: none'>
        <div class='search'>
          <i class="icon-search"></i>
          <input id='search' placeholder='Search the docs‚Ä¶'>
          <a href='#' class='close'><i class="icon-remove-sign"></i></a>
        </div>
      </div>
    </div>
  </div>
</div>

    </header>

    

    <div class="grid-wrapper">
      <div class="grid grid-center">
        
        <div class="grid__item two-thirds lap-one-whole palm-one-whole">
        

          
            <article class="page">
  
  
    

<div class="edit-github"><a href="https://github.com/hakorea/hakorea.github.io/tree/current/source/_integrations/unifi.markdown" rel="external nofollow">ÍπÉÌóàÎ∏å Ìé∏Ïßë</a></div>


  

  
  <header>
    <h1 class="title indent">
      Ubiquiti UniFi
    </h1>
  </header>
  <hr class="divider">
  

  <p><a href="https://unifi-sdn.ubnt.com/" rel="external nofollow">UniFi</a> by <a href="https://www.ubnt.com/" rel="external nofollow">Ubiquiti Networks, inc.</a> is a software that binds gateways, switches and wireless access points together with one graphical front end.</p>
<p>There is currently support for the following device types within Home Assistant:</p>
<ul>
<li><a href="#presence-detection">Presence Detection</a></li>
<li><a href="#switch">Switch</a></li>
</ul>
<h2>
<a class="title-link" name="configuration" href="#configuration"></a> Configuration</h2>
<p>Home Assistant offers UniFi integration through <strong>Configuration</strong> -&gt; <strong>Integrations</strong> -&gt; <strong>UniFi Controller</strong>.</p>
<p>Enter <code>host address</code>, <code>user name</code> and <code>password</code> and then continue to select which <code>site</code> you want to connect to Home Assistant. The user needs administrator privileges in order to control POE switches.</p>
<h3>
<a class="title-link" name="extra-configuration-for-device-tracker" href="#extra-configuration-for-device-tracker"></a> Extra configuration for device tracker</h3>
<p>You can augment the behavior of UniFi device tracker by adding</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
unifi:
  controllers:
    - host: unifi
      site: My site
      ssid_filter:
        - 'HomeSSID'
        - 'IoTSSID'
</code></pre>
<div class="config-vars">
  <h3>
<a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class="">
<dt>
<a class="title-link" name="host" href="#host"></a> host</dt>
<dd>
<p class="desc"><span class="type">(<span class="string">string</span>)</span><span class="required">(Required)</span><span class="description"><p>Same address as relevant config entry, needed to identify config entry.</p>
</span></p>
<p class="default">
Default value: </p>
<p>None</p>
</dd>
<dt>
<a class="title-link" name="site" href="#site"></a> site</dt>
<dd>
<p class="desc"><span class="type">(<span class="string">string</span>)</span><span class="required">(Required)</span><span class="description"><p>Same site as relevant config entry, needed to identify config entry.</p>
</span></p>
<p class="default">
Default value: </p>
<p>None</p>
</dd>
<dt>
<a class="title-link" name="block_client" href="#block_client"></a> block_client</dt>
<dd>
<p class="desc"><span class="type">(<span class="list">list</span>)</span><span class="required">(Optional)</span><span class="description"><p>A list of Clients MAC Addresses that can be blocked from the network.</p>
</span></p>
<p class="default">
Default value: </p>
<p>None</p>
</dd>
<dt>
<a class="title-link" name="detection_time" href="#detection_time"></a> detection_time</dt>
<dd>
<p class="desc"><span class="type">(<span class="integer">integer</span>)</span><span class="required">(Optional)</span><span class="description"><p>How long since the last seen time before the device is marked away, specified in seconds.</p>
</span></p>
<p class="default">
Default value: </p>
<p>300</p>
</dd>
<dt>
<a class="title-link" name="dont_track_clients" href="#dont_track_clients"></a> dont_track_clients</dt>
<dd>
<p class="desc"><span class="type">(<span class="boolean">boolean</span>)</span><span class="required">(Optional)</span><span class="description"><p>enable to not allow device tracker to track clients.</p>
</span></p>
<p class="default">
Default value: </p>
<p>false</p>
</dd>
<dt>
<a class="title-link" name="dont_track_devices" href="#dont_track_devices"></a> dont_track_devices</dt>
<dd>
<p class="desc"><span class="type">(<span class="boolean">boolean</span>)</span><span class="required">(Optional)</span><span class="description"><p>enable to not allow device tracker to track devices.</p>
</span></p>
<p class="default">
Default value: </p>
<p>false</p>
</dd>
<dt>
<a class="title-link" name="dont_track_wired_clients" href="#dont_track_wired_clients"></a> dont_track_wired_clients</dt>
<dd>
<p class="desc"><span class="type">(<span class="boolean">boolean</span>)</span><span class="required">(Optional)</span><span class="description"><p>enable to not allow device tracker to track wired clients.</p>
</span></p>
<p class="default">
Default value: </p>
<p>false</p>
</dd>
<dt>
<a class="title-link" name="ssid_filter" href="#ssid_filter"></a> ssid_filter</dt>
<dd>
<p class="desc"><span class="type">(<span class="list">list</span>)</span><span class="required">(Optional)</span><span class="description"><p>Filter the SSIDs that tracking will occur on.</p>
</span></p>
<p class="default">
Default value: </p>
<p>None</p>
</dd>
</dl>
</div>
<h3>
<a class="title-link" name="configuring-users" href="#configuring-users"></a> Configuring Users</h3>
<p>The UniFi controller allows you to create multiple users on it besides the main administrator. If all you want to use is the device tracker then it is recommended that you create a limited user that has <code>read-only</code> permissions for the Unifi device tracker. If you want blocking of network access or POE control as well you would need to have ‚Äòadmin‚Äô permissions.</p>
<h3>
<a class="title-link" name="conflicts-with-mqtt" href="#conflicts-with-mqtt"></a> Conflicts with MQTT</h3>
<p>The Unifi controller can either be a dedicated hardware device (UniFi‚Äôs cloud key), or as software any Linux system. If you run the Unifi controller on the same operating system as Home Assistant there may be conflicts in ports if you have the MQTT integration as well.</p>
<p>It is recommended that you run the Unifi controller in a dedicated virtual machine to avoid that situation.</p>
<h2>
<a class="title-link" name="presence-detection" href="#presence-detection"></a> Presence detection</h2>
<p>This platform allows you to detect presence by looking at devices connected to a <a href="https://ubnt.com/" rel="external nofollow">Ubiquiti</a> <a href="https://www.ubnt.com/enterprise/#unifi" rel="external nofollow">UniFi</a> controller.</p>
<h3>
<a class="title-link" name="troubleshooting-and-time-synchronization" href="#troubleshooting-and-time-synchronization"></a> Troubleshooting and Time Synchronization</h3>
<p>Presence detection depends on accurate time configuration between Home Assistant and the UniFi controller.</p>
<p>If Home Assistant and the UniFi controller are running on separate machines or VMs ensure that all clocks are synchronized. Failing to have synchronized clocks will lead to Home Assistant failing to mark a device as home.</p>
<p><a href="https://github.com/home-assistant/home-assistant/issues/10507" rel="external nofollow">Related Issue</a></p>
<h2>
<a class="title-link" name="switch" href="#switch"></a> Switch</h2>
<h3>
<a class="title-link" name="block-network-access-for-clients" href="#block-network-access-for-clients"></a> Block network access for clients</h3>
<p>Allow control of network access to clients configured in the <code>configuration.yaml</code> file by adding a list of the MAC addresses. Items in this list will have a Home Assistant switch created, using the Unifi Device name, allowing for blocking and unblocking.</p>
<h3>
<a class="title-link" name="control-clients-powered-by-poe" href="#control-clients-powered-by-poe"></a> Control clients powered by POE</h3>
<p>Entities appear automatically for each connected POE client. If no POE client device is in operation, no entity will be visible. Note: Unifi infrastructure devices such as access points and other switches are not (yet) supported, even if they are powered over ethernet themselves.</p>
<p>Note that POE control actually configures the network port of the switch which the client is connected to.</p>
<h2>
<a class="title-link" name="debugging-integration" href="#debugging-integration"></a> Debugging integration</h2>
<p>If you have problems with UniFi or the integration you can add debug prints to the log.</p>
<pre><code class="language-yaml">logger:
  default: info
  logs:
    aiounifi: debug
    homeassistant.components.unifi: debug
    homeassistant.components.device_tracker.unifi: debug
    homeassistant.components.switch.unifi: debug
</code></pre>


</article>

          
        </div>

        
        <aside id="sidebar" class="grid__item one-third lap-one-whole palm-one-whole">
          <div class="grid">
  
  
    <section class="aside-module grid__item one-whole lap-one-half">

<div class='edit-github'><a href='https://github.com/hakorea/hakorea.github.io/tree/current/source/_integrations/unifi.markdown'>ÍπÉÌóàÎ∏å Ìé∏Ïßë</a></div>

<div class='brand-logo-container section'><img src='/images/supported_brands/ubiquiti.png' /></div><div class="section">
    <kb-alert-link integration="unifi"></kb-alert-link>
  </div><div class='section'>
      IoT class<sup><a href='/blog/2016/02/12/classifying-the-internet-of-things/#classifiers'><i class="icon-info-sign"></i></a></sup>: Local Polling
    </div><div class='section'>
      Quality Scale: <a href='/docs/quality_scale/'>üèÜ (platinum)</a>
    </div><div class='section'>
      Introduced in release: 0.81
    </div><div class='section'>
      This integration is configurable via UI
    </div><div class='section'>
    Source: <a href='https://github.com/home-assistant/home-assistant/blob/dev/homeassistant/components/unifi/'>/components/unifi/</a>
  </div><div class='section'>
    <h1 class="title delta">Ïπ¥ÌÖåÍ≥†Î¶¨</h1>
    <ul class='divided'><li>
        <a href='/integrations/#hub'>Hub</a>
      </li><li>
        <a href='/integrations/#presence-detection'>Presence Detection</a>
      </li><li>
        <a href='/integrations/#switch'>Switch</a>
      </li></ul>
    </div></section>

<script src="https://alerts.home-assistant.io/ce-alert-link.js"></script>

  
</div>

        </aside>
        
      </div>
    </div>

    <footer>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <div class="copyright grid">
        <div class='company grid__item one-third lap-one-half palm-one-whole'>
          <div class="title">
            <img width="40" src="/images/favicon-192x192-full.png" alt="Home Assistant"> ÌôàÏñ¥ÏãúÏä§ÌÑ¥Ìä∏
          </div>
          <div class="icons">
            <a rel="me" href='https://twitter.com/home_assistant' title="Twitter"><i class="icon-twitter"></i></a>
            <a rel="me" href='https://www.facebook.com/homeassistantio' title="Facebook"><i class="icon-facebook"></i></a>
            <a rel="me" href='https://github.com/home-assistant/home-assistant' title="GitHub"><i class="icon-github"></i></a>
          </div>
        </div>

        <div class='grid__item one-third lap-one-half palm-one-whole'>
          <ul>
            <li><a href='https://alerts.home-assistant.io'>Home Assistant Alerts</a></li>
            <li><a href='https://developers.home-assistant.io'>Developers</a></li>
            <li><a href='https://data.home-assistant.io'>Data Science</a></li>
            <li><a href='mailto:hello@home-assistant.io'>Contact</a> (no support!)</li>
            <li><a href='/security/'>Security Vulnerabilities</a></li>
            <li><a href='/privacy/'>Privacy</a></li>
            <li><a href='https://status.home-assistant.io'>System Status</a></li>
          </ul>
        </div>

        <div class='grid__item one-third lap-one-half palm-one-whole'>
          Ïù¥ ÏõπÏÇ¨Ïù¥Ìä∏Îäî <a href='https://jekyllrb.com/'>ÏßÄÌÇ¨</a>Í≥º
          <a href='https://github.com/coogie/oscailte'>Oscalite ÌÖåÎßà</a>Î•º ÏÇ¨Ïö©Ìï©ÎãàÎã§.
          Hosted by <a href='https://www.netlify.com/'>Netlify</a>.
        </div>
      </div>
    </div>
  </div>
</div>

    </footer>

    <script>
var _gaq=[['_setAccount',''],['_trackPageview']];
(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

<script src="/javascripts/prism.js?5d6619066a1fc5cd819a93c132b539ac" type="text/javascript"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript">
docsearch({
  apiKey: 'ae96d94b201c5444c8a443093edf3efb',
  indexName: 'home-assistant',
  inputSelector: '#search',
  debug: false // Set debug to true if you want to inspect the dropdown
});
document.querySelector('.search .close').addEventListener('click', function(ev) {
  ev.preventDefault();
  document.querySelector('.search-container').style.display = 'none';
});
document.querySelector('.show-search').addEventListener('click', function(ev) {
  ev.preventDefault();
  document.querySelector('.search-container').style.display = 'block';
  document.getElementById('toggle').checked = false;
  document.querySelector('.search-container input').focus();
});
</script>

  </body>
</html>
