<!doctype html>
  <!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html lang="en" class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html lang="en"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>1-Wire - 홈어시스턴트</title>
    <meta name="author" content="Home Assistant">
    <meta name="description" content="Instructions on how to integrate One wire (1-wire) sensors into Home Assistant.">
    
    <meta name="viewport" content="width=device-width">
    <link rel="canonical" href="https://hakorea.github.io/integrations/onewire/">

    <meta property="fb:app_id" content="">
    <meta property="og:title" content="1-Wire">
    <meta property="og:site_name" content="홈어시스턴트">
    <meta property="og:url" content="https://hakorea.github.io/integrations/onewire/">
    <meta property="og:type" content="article">
    <meta property="og:description" content="Instructions on how to integrate One wire (1-wire) sensors into Home Assistant.">
    <meta property="og:image" content="https://hakorea.github.io/images/default-social.png">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@">
    
    <meta name="twitter:title" content="1-Wire">
    <meta name="twitter:description" content="Instructions on how to integrate One wire (1-wire) sensors into Home Assistant.">
    <meta name="twitter:image" content="https://hakorea.github.io/images/default-social.png">

    <link href="/stylesheets/prism.css?8acb84bc0387c9548a63998fcfea0139" rel="stylesheet">
    <link href="/stylesheets/screen.css?0a23d70030bf362ca935e76ccc50922c" media="screen, projection, print" rel="stylesheet">
    <link href="/atom.xml" rel="alternate" title="홈어시스턴트" type="application/atom+xml">
    <link rel='shortcut icon' href='/images/favicon.ico' />
    <link rel='icon' type='image/png' href='/images/favicon-192x192.png' sizes='192x192' />
  </head>

  <body >

    <header class='site-header'>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item three-tenths lap-two-sixths palm-one-whole ha-title">
      <a href="/" class="site-title">
        <img src="/images/home-assistant-logo.svg" width="36" height="36" alt="Home Assistant">
        <span>홈어시스턴트</span>
      </a>
    </div>

    <div class="grid__item seven-tenths lap-four-sixths palm-one-whole">
      <nav>
        <input type="checkbox" id="toggle">
        <label for="toggle" class="toggle" data-open="Main Menu" data-close="Close Menu"></label>
        <ul class="menu pull-right">
            
            <li><a href="/getting-started/">시작하기</a></li>
            <li><a href="/integrations/">통합구성요소</a></li>
            <li><a href="/docs/">문서</a></li>
            <li><a href="/cookbook/">예제</a></li>
            <li>KOREAN(not official)</li>
        </ul>
      </nav>

      <div class='search-container' style='display: none'>
        <div class='search'>
          <i class="icon-search"></i>
          <input id='search' placeholder='Search the docs…'>
          <a href='#' class='close'><i class="icon-remove-sign"></i></a>
        </div>
      </div>
    </div>
  </div>
</div>

    </header>

    

    <div class="grid-wrapper">
      <div class="grid grid-center">
        
        <div class="grid__item two-thirds lap-one-whole palm-one-whole">
        

          
            <article class="page">
  
  
    

<div class="edit-github"><a href="https://github.com/hakorea/hakorea.github.io/tree/current/source/_integrations/onewire.markdown" rel="external nofollow">깃허브 편집</a></div>


  

  
  <header>
    <h1 class="title indent">
      1-Wire
    </h1>
  </header>
  <hr class="divider">
  

  <p>The <code>onewire</code> platform supports sensors which are using the One wire (1-wire) bus for communication.</p>
<p>Supported devices:</p>
<ul>
<li><a href="https://datasheets.maximintegrated.com/en/ds/DS18B20.pdf" rel="external nofollow">DS18B20</a></li>
<li><a href="https://www.maximintegrated.com/en/products/sensors/DS18S20.html" rel="external nofollow">DS18S20</a></li>
<li><a href="https://datasheets.maximintegrated.com/en/ds/DS1822.pdf" rel="external nofollow">DS1822</a></li>
<li><a href="https://datasheets.maximintegrated.com/en/ds/DS1825.pdf" rel="external nofollow">DS1825</a></li>
<li>
<a href="https://datasheets.maximintegrated.com/en/ds/DS28EA00.pdf" rel="external nofollow">DS28EA00</a> temperature sensors</li>
<li>
<a href="https://datasheets.maximintegrated.com/en/ds/DS2406.pdf" rel="external nofollow">DS2406/TAI-8570</a> Temperature and pressure sensor made by AAG</li>
<li>
<a href="https://datasheets.maximintegrated.com/en/ds/DS2438.pdf" rel="external nofollow">DS2438/B1-R1-A</a> Temperature, pressure and humidity sensor by AAG</li>
</ul>
<p>The 1-Wire bus can be connected directly to the IO pins of Raspberry Pi or using dedicated interface adapter (e.g <a href="https://datasheets.maximintegrated.com/en/ds/DS9490-DS9490R.pdf" rel="external nofollow">DS9490R</a>).</p>
<h2>
<a class="title-link" name="raspberry-pi-setup" href="#raspberry-pi-setup"></a> Raspberry Pi setup</h2>
<p>In order to setup 1-Wire support on Raspberry Pi, you’ll need to edit <code>/boot/config.txt</code> following <a href="https://www.waveshare.com/wiki/Raspberry_Pi_Tutorial_Series:_1-Wire_DS18B20_Sensor#Enable_1-Wire" rel="external nofollow">this documentation</a>.
To edit <code>/boot/config.txt</code> on Hass.io use <a href="https://developers.home-assistant.io/docs/en/hassio_debugging.html">this documentation</a> to enable SSH and edit <code>/mnt/boot/config.txt</code> via <code>vi</code>.</p>
<h2>
<a class="title-link" name="interface-adapter-setup" href="#interface-adapter-setup"></a> Interface adapter setup</h2>
<h3>
<a class="title-link" name="owfs" href="#owfs"></a> owfs</h3>
<p>When an interface adapter is used, sensors can be accessed on Linux hosts via <a href="https://owfs.org/" rel="external nofollow">owfs 1-Wire file system</a>. When using an interface adapter and the owfs, the <code>mount_dir</code> option must be configured to correspond a directory, where owfs device tree has been mounted.</p>
<h3>
<a class="title-link" name="owserver" href="#owserver"></a> owserver</h3>
<p>When an interface adapter is used, you can also access sensors on a remote or local Linux host that is running owserver.  owserver by default runs on port 4304. Use the <code>host</code> option to specify the host or IP of the remote server, and the optional <code>port</code> option to change the port from the default.</p>
<h3>
<a class="title-link" name="units-with-multiple-sensors" href="#units-with-multiple-sensors"></a> Units with multiple sensors</h3>
<p>This platform works with devices with multiple sensors which will cause a discontinuity in recorded values. Existing devices will receive a new ID and therefore show up as new devices.
If you wish to maintain continuity it can be resolved in the database by renaming the old devices to the new names.</p>
<p>Connect to your database using the instructions from <a href="/docs/backend/database/">Database section</a>. Check the names of sensors:</p>
<pre><code class="language-sql">SELECT entity_id, COUNT(*) as count FROM states GROUP BY entity_id ORDER BY count DESC LIMIT 10;
</code></pre>
<p>Alter the names of sensors using the following examples:</p>
<pre><code class="language-sql">UPDATE states SET entity_id='sensor.&lt;sensor_name&gt;_temperature' WHERE entity_id LIKE 'sensor.&lt;sensor_name&gt;%' AND attributes LIKE '%\u00b0C%';
UPDATE states SET entity_id='sensor.&lt;sensor_name&gt;_pressure' WHERE entity_id LIKE 'sensor.&lt;sensor_name&gt;%' AND attributes LIKE '%mb%';
UPDATE states SET entity_id='sensor.&lt;sensor_name&gt;_humidity' WHERE entity_id LIKE 'sensor.&lt;sensor_name&gt;%' AND attributes LIKE '%%%' ESCAPE '';
</code></pre>
<p>Remember to replace <code>&lt;sensor_name&gt;</code> with the actual name of the sensor as seen in the <code>SELECT</code> query.</p>
<h2>
<a class="title-link" name="configuration" href="#configuration"></a> Configuration</h2>
<p>To enable One wire sensors in your installation, add the following to your <code>configuration.yaml</code> file:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
sensor:
  - platform: onewire
</code></pre>
<div class="config-vars">
  <h3>
<a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class="">
<dt>
<a class="title-link" name="names" href="#names"></a> names</dt>
<dd><p class="desc"><span class="type">(<span class="string">string</span>)</span><span class="required">(Optional)</span><span class="description"><p>ID and friendly name of your sensors.</p>
</span></p></dd>
<dt>
<a class="title-link" name="mount_dir" href="#mount_dir"></a> mount_dir</dt>
<dd><p class="desc"><span class="type">(<span class="string">string</span>)</span><span class="required">(Optional)</span><span class="description"><p>Location of device tree if owfs driver used.</p>
</span></p></dd>
<dt>
<a class="title-link" name="host" href="#host"></a> host</dt>
<dd><p class="desc"><span class="type">(<span class="string">string</span>)</span><span class="required">(Optional)</span><span class="description"><p>Remote or local host running owserver.</p>
</span></p></dd>
<dt>
<a class="title-link" name="port" href="#port"></a> port</dt>
<dd>
<p class="desc"><span class="type">(<span class="integer">integer</span>)</span><span class="required">(Optional)</span><span class="description"><p>The port number of the owserver (requires <code>host</code>).</p>
</span></p>
<p class="default">
Default value: </p>
<p>4304</p>
</dd>
</dl>
</div>
<h3>
<a class="title-link" name="configuration-example" href="#configuration-example"></a> Configuration Example</h3>
<p>When <code>onewire</code> is added to Home Assistant, it will generate an ID for the sensor. You can specify a friendly name for the sensor with the name configuration option.</p>
<pre><code class="language-yaml"># Named sensor configuration.yaml entry
sensor:
  - platform: onewire
    names:
      GENERATED_ID: FRIENDLY_NAME
</code></pre>


</article>

          
        </div>

        
        <aside id="sidebar" class="grid__item one-third lap-one-whole palm-one-whole">
          <div class="grid">
  
  
    <section class="aside-module grid__item one-whole lap-one-half">

<div class='edit-github'><a href='https://github.com/hakorea/hakorea.github.io/tree/current/source/_integrations/onewire.markdown'>깃허브 편집</a></div>

<div class='brand-logo-container section'><img src='/images/supported_brands/onewire.png' /></div><div class="section">
    <kb-alert-link integration="onewire"></kb-alert-link>
  </div><div class='section'>
      IoT class<sup><a href='/blog/2016/02/12/classifying-the-internet-of-things/#classifiers'><i class="icon-info-sign"></i></a></sup>: Local Polling
    </div><div class='section'>
      Introduced in release: 0.12
    </div><div class='section'>
    Source: <a href='https://github.com/home-assistant/home-assistant/blob/dev/homeassistant/components/onewire/'>/components/onewire/</a>
  </div><div class='section'>
    <h1 class="title delta">카테고리</h1>
    <ul class='divided'><li>
        <a href='/integrations/#diy'>DIY</a>
      </li></ul>
    </div></section>

<script src="https://alerts.home-assistant.io/ce-alert-link.js"></script>

  
</div>

        </aside>
        
      </div>
    </div>

    <footer>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <div class="copyright grid">
        <div class='company grid__item one-third lap-one-half palm-one-whole'>
          <div class="title">
            <img width="40" src="/images/favicon-192x192-full.png" alt="Home Assistant"> 홈어시스턴트
          </div>
          <div class="icons">
            <a rel="me" href='https://twitter.com/home_assistant' title="Twitter"><i class="icon-twitter"></i></a>
            <a rel="me" href='https://www.facebook.com/homeassistantio' title="Facebook"><i class="icon-facebook"></i></a>
            <a rel="me" href='https://github.com/home-assistant/home-assistant' title="GitHub"><i class="icon-github"></i></a>
          </div>
        </div>

        <div class='grid__item one-third lap-one-half palm-one-whole'>
          <ul>
            <li><a href='https://alerts.home-assistant.io'>Home Assistant Alerts</a></li>
            <li><a href='https://developers.home-assistant.io'>Developers</a></li>
            <li><a href='https://data.home-assistant.io'>Data Science</a></li>
            <li><a href='mailto:hello@home-assistant.io'>Contact</a> (no support!)</li>
            <li><a href='/security/'>Security Vulnerabilities</a></li>
            <li><a href='/privacy/'>Privacy</a></li>
            <li><a href='https://status.home-assistant.io'>System Status</a></li>
          </ul>
        </div>

        <div class='grid__item one-third lap-one-half palm-one-whole'>
          이 웹사이트는 <a href='https://jekyllrb.com/'>지킬</a>과
          <a href='https://github.com/coogie/oscailte'>Oscalite 테마</a>를 사용합니다.
          Hosted by <a href='https://www.netlify.com/'>Netlify</a>.
        </div>
      </div>
    </div>
  </div>
</div>

    </footer>

    <script>
var _gaq=[['_setAccount',''],['_trackPageview']];
(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

<script src="/javascripts/prism.js?5d6619066a1fc5cd819a93c132b539ac" type="text/javascript"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript">
docsearch({
  apiKey: 'ae96d94b201c5444c8a443093edf3efb',
  indexName: 'home-assistant',
  inputSelector: '#search',
  debug: false // Set debug to true if you want to inspect the dropdown
});
document.querySelector('.search .close').addEventListener('click', function(ev) {
  ev.preventDefault();
  document.querySelector('.search-container').style.display = 'none';
});
document.querySelector('.show-search').addEventListener('click', function(ev) {
  ev.preventDefault();
  document.querySelector('.search-container').style.display = 'block';
  document.getElementById('toggle').checked = false;
  document.querySelector('.search-container input').focus();
});
</script>

  </body>
</html>
