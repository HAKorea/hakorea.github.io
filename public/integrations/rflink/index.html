<!doctype html>
  <!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html lang="en" class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html lang="en"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>RFLink - 홈어시스턴트</title>
    <meta name="author" content="Home Assistant">
    <meta name="description" content="Instructions on how to integrate RFLink gateway into Home Assistant.">
    
    <meta name="viewport" content="width=device-width">
    <link rel="canonical" href="https://hakorea.github.io/integrations/rflink/">

    <meta property="fb:app_id" content="">
    <meta property="og:title" content="RFLink">
    <meta property="og:site_name" content="홈어시스턴트">
    <meta property="og:url" content="https://hakorea.github.io/integrations/rflink/">
    <meta property="og:type" content="article">
    <meta property="og:description" content="Instructions on how to integrate RFLink gateway into Home Assistant.">
    <meta property="og:image" content="https://hakorea.github.io/images/default-social.png">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@">
    
    <meta name="twitter:title" content="RFLink">
    <meta name="twitter:description" content="Instructions on how to integrate RFLink gateway into Home Assistant.">
    <meta name="twitter:image" content="https://hakorea.github.io/images/default-social.png">

    <link href="/stylesheets/prism.css?8acb84bc0387c9548a63998fcfea0139" rel="stylesheet">
    <link href="/stylesheets/screen.css?0a23d70030bf362ca935e76ccc50922c" media="screen, projection, print" rel="stylesheet">
    <link href="/atom.xml" rel="alternate" title="홈어시스턴트" type="application/atom+xml">
    <link rel='shortcut icon' href='/images/favicon.ico' />
    <link rel='icon' type='image/png' href='/images/favicon-192x192.png' sizes='192x192' />
  </head>

  <body >

    <header class='site-header'>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item three-tenths lap-two-sixths palm-one-whole ha-title">
      <a href="/" class="site-title">
        <img src="/images/home-assistant-logo.svg" width="36" height="36" alt="Home Assistant">
        <span>홈어시스턴트</span>
      </a>
    </div>

    <div class="grid__item seven-tenths lap-four-sixths palm-one-whole">
      <nav>
        <input type="checkbox" id="toggle">
        <label for="toggle" class="toggle" data-open="Main Menu" data-close="Close Menu"></label>
        <ul class="menu pull-right">
            
            <li><a href="/getting-started/">시작하기</a></li>
            <li><a href="/integrations/">통합구성요소</a></li>
            <li><a href="/docs/">문서</a></li>
            <li><a href="/cookbook/">예제</a></li>
            <li>KOREAN(not official)</li>
        </ul>
      </nav>

      <div class='search-container' style='display: none'>
        <div class='search'>
          <i class="icon-search"></i>
          <input id='search' placeholder='Search the docs…'>
          <a href='#' class='close'><i class="icon-remove-sign"></i></a>
        </div>
      </div>
    </div>
  </div>
</div>

    </header>

    

    <div class="grid-wrapper">
      <div class="grid grid-center">
        
        <div class="grid__item two-thirds lap-one-whole palm-one-whole">
        

          
            <article class="page">
  
  
    

<div class="edit-github"><a href="https://github.com/hakorea/hakorea.github.io/tree/current/source/_integrations/rflink.markdown" rel="external nofollow">깃허브 편집</a></div>


  

  
  <header>
    <h1 class="title indent">
      RFLink
    </h1>
  </header>
  <hr class="divider">
  

  <p>The <code>rflink</code> integration supports devices that use <a href="http://www.rflink.nl/blog2/download" rel="external nofollow">RFLink gateway firmware</a>, for example, the <a href="https://www.nodo-shop.nl/nl/21-rflink-gateway" rel="external nofollow">Nodo RFLink Gateway</a>. RFLink Gateway is an Arduino Mega firmware that allows two-way communication with a multitude of RF wireless devices using cheap hardware (Arduino + transceiver).</p>
<p>The 433 MHz spectrum is used by many manufacturers mostly using their own protocol/standard and includes devices like: light switches, blinds, weather stations, alarms and various other sensors.</p>
<p>RFLink Gateway supports a number of RF frequencies, using a wide range of low-cost hardware. <a href="http://www.rflink.nl/blog2/" rel="external nofollow">Their website</a> provides details for various RF transmitters, receivers and transceiver modules for 433MHz, 868MHz and 2.4 GHz.</p>
<div class="note">
Note: Versions later than R44 add support for Ikea Ansluta, Philips Living Colors Gen1 and MySensors devices.
</div>
<p>A complete list of devices supported by RFLink can be found <a href="http://www.rflink.nl/blog2/devlist" rel="external nofollow">here</a>.</p>
<p>This integration is tested with the following hardware/software:</p>
<ul>
<li>Nodo RFLink Gateway V1.4/RFLink R46</li>
</ul>
<h2>
<a class="title-link" name="configuration" href="#configuration"></a> Configuration</h2>
<p>To enable RFLink in your installation, add the following to your <code>configuration.yaml</code> file:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
rflink:
  port: /dev/serial/by-id/usb-id01234
</code></pre>
<div class="config-vars">
  <h3>
<a class="title-link" name="configuration-variables" href="#configuration-variables"></a> Configuration Variables</h3>
  <dl class="">
<dt>
<a class="title-link" name="port" href="#port"></a> port</dt>
<dd><p class="desc"><span class="type">(<span class="string">string</span>)</span><span class="required">(Required)</span><span class="description"><p>The path to RFLink USB/serial device or TCP port in TCP mode.</p>
</span></p></dd>
<dt>
<a class="title-link" name="host" href="#host"></a> host</dt>
<dd><p class="desc"><span class="type">(<span class="string">string</span>)</span><span class="required">(Optional)</span><span class="description"><p>Switches to TCP mode, connects to host instead of to USB/serial.</p>
</span></p></dd>
<dt>
<a class="title-link" name="wait_for_ack" href="#wait_for_ack"></a> wait_for_ack</dt>
<dd>
<p class="desc"><span class="type">(<span class="boolean">boolean</span>)</span><span class="required">(Optional)</span><span class="description"><p>Wait for RFLink to acknowledge commands sent before sending new command (slower but more reliable).</p>
</span></p>
<p class="default">
Default value: </p>
<p>true</p>
</dd>
<dt>
<a class="title-link" name="ignore_devices" href="#ignore_devices"></a> ignore_devices</dt>
<dd><p class="desc"><span class="type">(<span class="list string">list | string</span>)</span><span class="required">(Optional)</span><span class="description"><p>List of device id’s to ignore. Supports wildcards (<code>*</code>, <code>?</code>).</p>
</span></p></dd>
<dt>
<a class="title-link" name="reconnect_interval" href="#reconnect_interval"></a> reconnect_interval</dt>
<dd>
<p class="desc"><span class="type">(<span class="integer">integer</span>)</span><span class="required">(Optional)</span><span class="description"><p>Time in seconds between reconnect attempts.</p>
</span></p>
<p class="default">
Default value: </p>
<p>10</p>
</dd>
</dl>
</div>
<h3>
<a class="title-link" name="full-example" href="#full-example"></a> Full example</h3>
<pre><code class="language-yaml"># Example configuration.yaml entry
rflink:
  port: /dev/serial/by-id/usb-id01234
  wait_for_ack: false
  ignore_devices:
    - newkaku_000001_01
    - digitech_*
</code></pre>
<h3>
<a class="title-link" name="tcp-mode" href="#tcp-mode"></a> TCP mode</h3>
<p>TCP mode allows you to connect to an RFLink device over a TCP/IP network. This is useful if placing the RFLink device next to the HA server is not optimal or desired (eg: bad reception).</p>
<p>To expose the USB/serial interface over TCP on a different host (Linux) the following command can be used:</p>
<pre><code class="language-bash">$ socat /dev/ttyACM0,b57600 TCP-LISTEN:1234,reuseaddr
</code></pre>
<p>Other methods of exposing the serial interface over TCP are possible (eg: ESP8266 or using Arduino Wifi shield). Essentially the serial stream should be directly mapped to the TCP stream.</p>
<p>Tested with Wifi serial bridge <a href="https://github.com/jeelabs/esp-link/releases/tag/v2.2.3" rel="external nofollow">esp-link V2.2.3</a> running on a NodeMCU (ESP8266 Wifi module) with ESP8266 TXD0 (pin D10) and RXD0 (pin D9) connected to Arduino MEGA 2560 RX (Pin 2) and TX (Pin 3) respectively.</p>
<div class="note warning">
<p>Due to different logic levels, a voltage level shifter is required between the 3.3V NodeMCU and 5V Arduino MEGA 2560 pins. The BSS138 bidirectional logic level converter has been tested for serial pins and the <a href="https://www.aliexpress.com/item/8CH-IIC-I2C-Logic-Level-Converter-Bi-Directional-Module-DC-DC-5V-to-3-3V-Setp/32238089139.html" rel="external nofollow">link</a> is recommended for the CC2500 transceiver (used for Ikea Ansluta and Philips Living Colors)</p>
</div>
<div class="note">
When re-flashing the Arduino MEGA, disconnect the ESP8266 to avoid programming difficulties.
</div>
<pre><code class="language-yaml"># Example configuration.yaml entry
rflink:
  host: 192.168.0.10
  port: 1234
</code></pre>
<h3>
<a class="title-link" name="adding-devices-automatically" href="#adding-devices-automatically"></a> Adding devices Automatically</h3>
<p>In order to have your devices discovered automatically, you need to add the following to the configuration.
When pressing the button on the physical remote, RFLink detects the signal and the device should be added automatically to Home Assistant.</p>
<pre><code class="language-yaml">light:
  - platform: rflink
    automatic_add: true
sensor:
  - platform: rflink
    automatic_add: true
</code></pre>
<p><a href="/integrations/switch.rflink/">RFLink Switches</a> and <a href="/integrations/binary_sensor.rflink/">RFLink Binary Sensors</a> cannot be added automatically.</p>
<p>The RFLink integration does not know the difference between a binary sensor, a switch and a light. Therefore all switchable devices are automatically added as light by default. However, once the ID of a switch is known, it can be used to configure it as a switch or a binary sensor type in Home Assistant, for example, to add it to a different group, hide it or configure a nice name.</p>
<h3>
<a class="title-link" name="ignoring-devices" href="#ignoring-devices"></a> Ignoring devices</h3>
<p>The RFLink platform can be configured to completely ignore a device on a platform level. This is useful when you have neighbors which also use 433 MHz technology.</p>
<p>For example:</p>
<pre><code class="language-yaml"># Example configuration.yaml entry
rflink:
  port: /dev/serial/by-id/usb-id01234
  wait_for_ack: false
  ignore_devices:
    - newkaku_000001_01
    - digitech_*
    - kaku_1_*
</code></pre>
<p>This configuration will ignore the button <code>1</code> of the <code>newkaku</code> device with ID <code>000001</code>, all devices of the <code>digitech</code> protocol and all switches of the <code>kaku</code> protocol device with codewheel ID <code>1</code>.</p>
<h3>
<a class="title-link" name="device-support" href="#device-support"></a> Device support</h3>
<p>Even though a lot of devices are supported by RFLink, not all have been tested/implemented. If you have a device supported by RFLink but not by this integration please consider testing and adding support yourself.</p>
<h3>
<a class="title-link" name="device-incorrectly-identified" href="#device-incorrectly-identified"></a> Device Incorrectly Identified</h3>
<p>If you find a device is recognized differently, with different protocols or the ON OFF is swapped or detected as two ON commands, it can  be overcome with the RFLink ‘RF Signal Learning’ mechanism from RFLink Rev 46 (11 March 2017). <a href="http://www.rflink.nl/blog2/faq#RFFind" rel="external nofollow">Link to further detail.</a></p>
<h3>
<a class="title-link" name="technical-overview" href="#technical-overview"></a> Technical Overview</h3>
<ul>
<li>The<code>rflink</code> Python module is an asyncio transport/protocol which is setup to fire a callback for every (valid/supported) packet received by the RFLink gateway.</li>
<li>This integration uses this callback to distribute ‘rflink packet events’ over <a href="/docs/configuration/events/">Home Assistant’s event bus</a> which can be subscribed to by entities/platform implementations.</li>
<li>The platform implementation takes care of creating new devices (if enabled) for unseen incoming packet ID’s.</li>
<li>Device entities take care of matching to the packet ID, interpreting and performing actions based on the packet contents. Common entity logic is maintained in this main component.</li>
</ul>
<h3>
<a class="title-link" name="debug-logging" href="#debug-logging"></a> Debug Logging</h3>
<p>For debugging purposes or context when investigating issues you can enable debug logging for RFLink with the following config snippet:</p>
<pre><code class="language-yaml">logger:
  default: error
  logs:
    rflink: debug
    homeassistant.components.rflink: debug
</code></pre>
<p>This will give you output looking like this:</p>
<pre><code class="language-bash">17-03-07 20:12:05 DEBUG (MainThread) [rflink.protocol] received data: 20;00;Nod
17-03-07 20:12:05 DEBUG (MainThread) [rflink.protocol] received data: o RadioFrequencyLink - R
17-03-07 20:12:05 DEBUG (MainThread) [rflink.protocol] received data: FLink Gateway V1.1 - R45
17-03-07 20:12:05 DEBUG (MainThread) [rflink.protocol] received data: ;
17-03-07 20:12:05 DEBUG (MainThread) [rflink.protocol] got packet: 20;00;Nodo RadioFrequencyLink - RFLink Gateway V1.1 - R45;
17-03-07 20:12:05 DEBUG (MainThread) [rflink.protocol] decoded packet: {'firmware': 'RFLink Gateway', 'revision': '45', 'node': 'gateway', 'protocol': 'unknown', 'hardware': 'Nodo RadioFrequencyLink', 'version': '1.1'}
17-03-07 20:12:05 DEBUG (MainThread) [rflink.protocol] got event: {'version': '1.1', 'firmware': 'RFLink Gateway', 'revision': '45', 'hardware': 'Nodo RadioFrequencyLink', 'id': 'rflink'}
17-03-07 20:12:05 DEBUG (MainThread) [homeassistant.components.rflink] event of type unknown: {'version': '1.1', 'firmware': 'RFLink Gateway', 'revision': '45', 'hardware': 'Nodo RadioFrequencyLink', 'id': 'rflink'}
</code></pre>


</article>

          
        </div>

        
        <aside id="sidebar" class="grid__item one-third lap-one-whole palm-one-whole">
          <div class="grid">
  
  
    <section class="aside-module grid__item one-whole lap-one-half">

<div class='edit-github'><a href='https://github.com/hakorea/hakorea.github.io/tree/current/source/_integrations/rflink.markdown'>깃허브 편집</a></div>

<div class='brand-logo-container section'><img src='/images/supported_brands/rflink.png' /></div><div class="section">
    <kb-alert-link integration="rflink"></kb-alert-link>
  </div><div class='section'>
      Introduced in release: 0.38
    </div><div class='section'>
    Source: <a href='https://github.com/home-assistant/home-assistant/blob/dev/homeassistant/components/rflink/'>/components/rflink/</a>
  </div><div class='section'>
    <h1 class="title delta">카테고리</h1>
    <ul class='divided'><li>
        <a href='/integrations/#hub'>Hub</a>
      </li></ul>
    </div></section>

<script src="https://alerts.home-assistant.io/ce-alert-link.js"></script>

  
</div>

        </aside>
        
      </div>
    </div>

    <footer>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <div class="copyright grid">
        <div class='company grid__item one-third lap-one-half palm-one-whole'>
          <div class="title">
            <img width="40" src="/images/favicon-192x192-full.png" alt="Home Assistant"> 홈어시스턴트
          </div>
          <div class="icons">
            <a rel="me" href='https://twitter.com/home_assistant' title="Twitter"><i class="icon-twitter"></i></a>
            <a rel="me" href='https://www.facebook.com/homeassistantio' title="Facebook"><i class="icon-facebook"></i></a>
            <a rel="me" href='https://github.com/home-assistant/home-assistant' title="GitHub"><i class="icon-github"></i></a>
          </div>
        </div>

        <div class='grid__item one-third lap-one-half palm-one-whole'>
          <ul>
            <li><a href='https://alerts.home-assistant.io'>Home Assistant Alerts</a></li>
            <li><a href='https://developers.home-assistant.io'>Developers</a></li>
            <li><a href='https://data.home-assistant.io'>Data Science</a></li>
            <li><a href='mailto:hello@home-assistant.io'>Contact</a> (no support!)</li>
            <li><a href='/security/'>Security Vulnerabilities</a></li>
            <li><a href='/privacy/'>Privacy</a></li>
            <li><a href='https://status.home-assistant.io'>System Status</a></li>
          </ul>
        </div>

        <div class='grid__item one-third lap-one-half palm-one-whole'>
          이 웹사이트는 <a href='https://jekyllrb.com/'>지킬</a>과
          <a href='https://github.com/coogie/oscailte'>Oscalite 테마</a>를 사용합니다.
          Hosted by <a href='https://www.netlify.com/'>Netlify</a>.
        </div>
      </div>
    </div>
  </div>
</div>

    </footer>

    <script>
var _gaq=[['_setAccount',''],['_trackPageview']];
(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

<script src="/javascripts/prism.js?5d6619066a1fc5cd819a93c132b539ac" type="text/javascript"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript">
docsearch({
  apiKey: 'ae96d94b201c5444c8a443093edf3efb',
  indexName: 'home-assistant',
  inputSelector: '#search',
  debug: false // Set debug to true if you want to inspect the dropdown
});
document.querySelector('.search .close').addEventListener('click', function(ev) {
  ev.preventDefault();
  document.querySelector('.search-container').style.display = 'none';
});
document.querySelector('.show-search').addEventListener('click', function(ev) {
  ev.preventDefault();
  document.querySelector('.search-container').style.display = 'block';
  document.getElementById('toggle').checked = false;
  document.querySelector('.search-container input').focus();
});
</script>

  </body>
</html>
