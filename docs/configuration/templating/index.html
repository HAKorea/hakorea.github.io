<!doctype html>
  <!--[if lt IE 7]>      <html lang="en" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html lang="en" class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html lang="en" class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html lang="en"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Templating - 홈어시스턴트</title>
    <meta name="author" content="Home Assistant">
    <meta name="description" content="Instructions on how to use the templating feature of Home Assistant.">
    
    <meta name="viewport" content="width=device-width">
    <link rel="canonical" href="https://hakorea.github.io/docs/configuration/templating/">

    <meta property="fb:app_id" content="">
    <meta property="og:title" content="Templating">
    <meta property="og:site_name" content="홈어시스턴트">
    <meta property="og:url" content="https://hakorea.github.io/docs/configuration/templating/">
    <meta property="og:type" content="article">
    <meta property="og:description" content="Instructions on how to use the templating feature of Home Assistant.">
    <meta property="og:image" content="https://hakorea.github.io/images/default-social.png">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@">
    
    <meta name="twitter:title" content="Templating">
    <meta name="twitter:description" content="Instructions on how to use the templating feature of Home Assistant.">
    <meta name="twitter:image" content="https://hakorea.github.io/images/default-social.png">

    <link href="/stylesheets/prism.css?8acb84bc0387c9548a63998fcfea0139" rel="stylesheet">
    <link href="/stylesheets/screen.css?0a23d70030bf362ca935e76ccc50922c" media="screen, projection, print" rel="stylesheet">
    <link href="/atom.xml" rel="alternate" title="홈어시스턴트" type="application/atom+xml">
    <link rel='shortcut icon' href='/images/favicon.ico' />
    <link rel='icon' type='image/png' href='/images/favicon-192x192.png' sizes='192x192' />
  </head>

  <body >

    <header class='site-header'>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item three-tenths lap-two-sixths palm-one-whole ha-title">
      <a href="/" class="site-title">
        <img src="/images/home-assistant-logo.svg" width="36" height="36" alt="Home Assistant">
        <span>홈어시스턴트</span>
      </a>
    </div>

    <div class="grid__item seven-tenths lap-four-sixths palm-one-whole">
      <nav>
        <input type="checkbox" id="toggle">
        <label for="toggle" class="toggle" data-open="Main Menu" data-close="Close Menu"></label>
        <ul class="menu pull-right">
            
            <li><a href="/getting-started/">시작하기</a></li>
            <li><a href="/integrations/">통합구성요소</a></li>
            <li><a href="/docs/">문서</a></li>
            <li><a href="/cookbook/">예제</a></li>
            <li><a href='#' class='show-search'><i class="icon-search"></i></a></li>
            <li>KOREAN(not official)</li>
        </ul>
      </nav>

      <div class='search-container' style='display: none'>
        <div class='search'>
          <i class="icon-search"></i>
          <input id='search' placeholder='Search the docs…'>
          <a href='#' class='close'><i class="icon-remove-sign"></i></a>
        </div>
      </div>
    </div>
  </div>
</div>

    </header>

    

    <div class="grid-wrapper">
      <div class="grid grid-center">
        
        <div class="grid__item two-thirds lap-one-whole palm-one-whole">
        

          
            <article class="page">
  
  
    

<div class="edit-github"><a href="https://github.com/hakorea/gitpages_source/blob/master/source/_docs/configuration/templating.markdown" rel="external nofollow">깃허브 편집</a></div>


  

  
  <header>
    <h1 class="title indent">
      Templating
    </h1>
  </header>
  <hr class="divider">
  

  <p>This is an advanced feature of Home Assistant. You’ll need a basic understanding of:</p>
<ul>
<li>
<a href="/developers/architecture/">Home Assistant architecture</a>, especially states.</li>
<li>The <a href="/topics/state_object/">State object</a>.</li>
</ul>
<p>Templating is a powerful feature that allows you to control information going into and out of the system. It is used for:</p>
<ul>
<li>Formatting outgoing messages in, for example, the <a href="/integrations/notify/">notify</a> platforms and <a href="/integrations/alexa/">alexa</a> component.</li>
<li>Process incoming data from sources that provide raw data, like <a href="/integrations/mqtt/">MQTT</a>, <a href="/integrations/rest/"><code>rest</code> sensor</a> or the <a href="/integrations/sensor.command_line/"><code>command_line</code> sensor</a>.</li>
<li>
<a href="/docs/automation/templating/">Automation Templating</a>.</li>
</ul>
<h2>
<a class="title-link" name="building-templates" href="#building-templates"></a> Building templates</h2>
<p>Templating in Home Assistant is powered by the <a href="https://palletsprojects.com/p/jinja" rel="external nofollow">Jinja2</a> templating engine. This means that we are using their syntax and make some custom Home Assistant variables available to templates during rendering. Jinja2 supports a wide variety of operations:</p>
<ul>
<li><a href="https://jinja.palletsprojects.com/en/master/templates/#math" rel="external nofollow">Mathematical operation</a></li>
<li><a href="https://jinja.palletsprojects.com/en/master/templates/#comparisons" rel="external nofollow">Comparisons</a></li>
<li><a href="https://jinja.palletsprojects.com/en/master/templates/#logic" rel="external nofollow">Logic</a></li>
</ul>
<p>We will not go over the basics of the syntax, as Jinja2 does a great job of this in their <a href="https://jinja.palletsprojects.com/en/master/templates/" rel="external nofollow">templates documentation</a>.</p>
<p>The frontend has a template editor tool to help develop and debug templates. Click on the <img src="/images/screenshots/developer-tool-templates-icon.png" alt="template developer tool icon" class="no-shadow" height="38"> icon, create your template in the <em>Template editor</em> and check the results on the right.</p>
<p>Templates can get big pretty fast. To keep a clear overview, consider using YAML multiline strings to define your templates:</p>
<pre><code class="language-yaml">script:
  msg_who_is_home:
    sequence:
      - service: notify.notify
        data_template:
          message: &gt;
            {% if is_state('device_tracker.paulus', 'home') %}
              Ha, Paulus is home!
            {% else %}
              Paulus is at {{ states('device_tracker.paulus') }}.
            {% endif %}
</code></pre>
<h2>
<a class="title-link" name="home-assistant-template-extensions" href="#home-assistant-template-extensions"></a> Home Assistant template extensions</h2>
<p>Extensions allow templates to access all of the Home Assistant specific states and adds other convenience functions and filters.</p>
<h3>
<a class="title-link" name="states" href="#states"></a> States</h3>
<ul>
<li>Iterating <code>states</code> will yield each state sorted alphabetically by entity ID.</li>
<li>Iterating <code>states.domain</code> will yield each state of that domain sorted alphabetically by entity ID.</li>
<li>
<code>states.sensor.temperature</code> returns the state object for <code>sensor.temperature</code> (avoid when possible, see note below).</li>
<li>
<code>states('device_tracker.paulus')</code> will return the state string (not the object) of the given entity or <code>unknown</code> if it doesn’t exist.</li>
<li>
<code>is_state('device_tracker.paulus', 'home')</code> will test if the given entity is the specified state.</li>
<li>
<code>state_attr('device_tracker.paulus', 'battery')</code> will return the value of the attribute or None if it doesn’t exist.</li>
<li>
<code>is_state_attr('device_tracker.paulus', 'battery', 40)</code> will test if the given entity attribute is the specified state (in this case, a numeric value).</li>
</ul>
<div class="note warning">
<p>Avoid using <code>states.sensor.temperature.state</code>, instead use <code>states('sensor.temperature')</code>. It is strongly advised to use the <code>states()</code>, <code>is_state()</code>, <code>state_attr()</code> and <code>is_state_attr()</code> as much as possible, to avoid errors and error message when the entity isn’t ready yet (e.g., during Home Assistant startup).</p>
</div>
<p>Besides the normal <a href="/topics/state_object/">state object methods and properties</a>, <code>states.sensor.temperature.state_with_unit</code> will print the state of the entity and, if available, the unit.</p>
<h4>
<a class="title-link" name="states-examples" href="#states-examples"></a> States examples</h4>
<p>The next two statements result in the same value if the state exists. The second one will result in an error if the state does not exist.</p>
<pre><code class="language-text">{{ states('device_tracker.paulus') }}
{{ states.device_tracker.paulus.state }}
</code></pre>
<p>Print out a list of all the sensor states:</p>
<pre><code class="language-text">{% for state in states.sensor %}
  {{ state.entity_id }}={{ state.state }},
{% endfor %}
</code></pre>
<p>Other state examples:</p>
<pre><code class="language-text">{% if is_state('device_tracker.paulus', 'home') %}
  Ha, Paulus is home!
{% else %}
  Paulus is at {{ states('device_tracker.paulus') }}.
{% endif %}

{{ states('sensor.temperature') | float + 1 }}

{{ (states('sensor.temperature') | float * 10) | round(2) }}

{% if states('sensor.temperature') | float &gt; 20 %}
  It is warm!
{% endif %}

{{ as_timestamp(states.binary_sensor.garage_door.last_changed) }}

{{ as_timestamp(now()) - as_timestamp(states.binary_sensor.garage_door.last_changed) }}
</code></pre>
<h3>
<a class="title-link" name="attributes" href="#attributes"></a> Attributes</h3>
<p>You can print an attribute with <code>state_attr</code> if state is defined.</p>
<h4>
<a class="title-link" name="attributes-examples" href="#attributes-examples"></a> Attributes examples</h4>
<pre><code class="language-text">{% if states.device_tracker.paulus %}
  {{ state_attr('device_tracker.paulus', 'battery') }}
{% else %}
  ??
{% endif %}
</code></pre>
<p>With strings:</p>
<pre><code class="language-text">{% set tracker_name = "paulus"%}

{% if states("device_tracker." + tracker_name) != "unknown" %}
  {{ state_attr("device_tracker." + tracker_name, "battery")}}
{% else %}
  ??
{% endif %}
</code></pre>
<h3>
<a class="title-link" name="working-with-groups" href="#working-with-groups"></a> Working with Groups</h3>
<p>The <code>expand</code> function and filter can be used to sort entities and expand groups. It outputs a sorted array of entities with no duplicates.</p>
<h4>
<a class="title-link" name="expand-examples" href="#expand-examples"></a> Expand examples</h4>
<pre><code class="language-text">{% for tracker in expand('device_tracker.paulus', 'group.child_trackers') %}
  {{ state_attr(tracker, 'battery') }}
  {%- if not loop.last %}, {% endif -%}
{% endfor %}
</code></pre>
<p>The same thing can also be expressed as a filter:</p>
<pre><code class="language-text">{{ ['device_tracker.paulus', 'group.child_trackers'] | expand 
  | selectattr("attributes.battery", 'defined')
  | join(', ', attribute="attributes.battery") }}
</code></pre>
<h3>
<a class="title-link" name="time" href="#time"></a> Time</h3>
<ul>
<li>
<code>now()</code> will be rendered as the current time in your time zone.
<ul>
<li>For specific values: <code>now().second</code>, <code>now().minute</code>, <code>now().hour</code>, <code>now().day</code>, <code>now().month</code>, <code>now().year</code>, <code>now().weekday()</code> and <code>now().isoweekday()</code>
</li>
</ul>
</li>
<li>
<code>utcnow()</code> will be rendered as UTC time.
<ul>
<li>For specific values: <code>utcnow().second</code>, <code>utcnow().minute</code>, <code>utcnow().hour</code>, <code>utcnow().day</code>, <code>utcnow().month</code>, <code>utcnow().year</code>, <code>utcnow().weekday()</code> and <code>utcnow().isoweekday()</code>.</li>
</ul>
</li>
<li>
<code>as_timestamp()</code> will convert datetime object or string to UNIX timestamp. This function also be used as a filter.</li>
<li>
<code>strptime(string, format)</code> will parse a string to a datetime based on a <a href="https://docs.python.org/3.6/library/datetime.html#strftime-and-strptime-behavior" rel="external nofollow">format</a>.</li>
<li>
<code>relative_time</code> will convert datetime object to its human-friendly “age” string. The age can be in second, minute, hour, day, month or year (but only the biggest unit is considered, e.g. if it’s 2 days and 3 hours, “2 days” will be returned). Note that it only works for dates <em>in the past</em>.</li>
<li>Filter <code>timestamp_local</code>  will convert an UNIX timestamp to local time/data.</li>
<li>Filter <code>timestamp_utc</code> will convert a UNIX timestamp to UTC time/data.</li>
<li>Filter <code>timestamp_custom(format_string, local_boolean)</code> will convert a UNIX timestamp to a custom format, the use of a local timestamp is default. Supports the standard <a href="https://docs.python.org/3/library/time.html#time.strftime" rel="external nofollow">Python time formatting options</a>.</li>
</ul>
<h3>
<a class="title-link" name="tofrom-json" href="#tofrom-json"></a> To/From JSON</h3>
<p>The <code>to_json</code> filter serializes an object to a JSON string. In some cases, it may be necessary to format a JSON string for use with a webhook, as a parameter for command line utilities or any number of other applications. This can be complicated in a template, especially when dealing with escaping special characters. Using the <code>to_json</code> filter, this is handled automatically.</p>
<p>The <code>from_json</code> filter operates similarly, but in the other direction, de-serializing a JSON string back into an object.</p>
<h3>
<a class="title-link" name="tofrom-json-examples" href="#tofrom-json-examples"></a> To/From JSON examples</h3>
<p>In this example, the special character ‘°’ will be automatically escaped in order to produce valid JSON. The difference between the stringified object and the actual JSON is evident.</p>
<p><em>Template</em></p>
<pre><code class="language-text">{% set temp = {'temperature': 25, 'unit': '°C'} %}
stringified object: {{ temp }}
object|to_json: {{ temp|to_json }}
</code></pre>
<p><em>Output</em></p>
<pre><code class="language-text">stringified object: {'temperature': 25, 'unit': '°C'}
object|to_json: {"temperature": 25, "unit": "\u00b0C"}
</code></pre>
<p>Conversely, <code>from_json</code> can be used to de-serialize a JSON string back into an object to make it possible to easily extract usable data.</p>
<p><em>Template</em></p>
<pre><code class="language-text">{% set temp = '{"temperature": 25, "unit": "\u00b0C"}'|from_json %}
The temperature is {{ temp.temperature }}{{ temp.unit }}
</code></pre>
<p><em>Output</em></p>
<pre><code class="language-text">The temperature is 25°C
</code></pre>
<h3>
<a class="title-link" name="distance" href="#distance"></a> Distance</h3>
<ul>
<li>
<code>distance()</code> will measure the distance in kilometers between home, entity, coordinates.</li>
<li>
<code>closest()</code> will find the closest entity.</li>
</ul>
<h4>
<a class="title-link" name="distance-examples" href="#distance-examples"></a> Distance examples</h4>
<p>If only one location is passed in, Home Assistant will measure the distance from home.</p>
<pre><code class="language-text">Using Lat Lng coordinates: {{ distance(123.45, 123.45) }}

Using State: {{ distance(states.device_tracker.paulus) }}

These can also be combined in any combination:
{{ distance(123.45, 123.45, 'device_tracker.paulus') }}
{{ distance('device_tracker.anne_therese', 'device_tracker.paulus') }}
</code></pre>
<h4>
<a class="title-link" name="closest-examples" href="#closest-examples"></a> Closest examples</h4>
<p>The closest function and filter will find the closest entity to the Home Assisant location:</p>
<pre><code class="language-text">Query all entities: {{ closest(states) }}
Query all entities of a specific domain: {{ closest(states.device_tracker) }}
Query all entities in group.children: {{ closest('group.children') }}
Query all entities in group.children: {{ closest(states.group.children) }}
</code></pre>
<p>Find entities closest to a coordinate or another entity. All previous arguments still apply for second argument.</p>
<pre><code class="language-text">Closest to a coordinate: {{ closest(23.456, 23.456, 'group.children') }}
Closest to an entity: {{ closest('zone.school', 'group.children') }}
Closest to an entity: {{ closest(states.zone.school, 'group.children') }}
</code></pre>
<p>Since closest returns a state, we can combine it with distance too.</p>
<pre><code class="language-text">{{ closest(states).name }} is {{ distance(closest(states)) }} kilometers away.
</code></pre>
<p>The last argument of the closest function has an implicit <code>expand</code>, and can take any iterable sequence of states or entity IDs, and will expand groups:</p>
<pre><code class="language-text">Closest out of given entities: 
    {{ closest(['group.children', states.device_tracker]) }}
Closest to a coordinate:  
    {{ closest(23.456, 23.456, ['group.children', states.device_tracker]) }}
Closest to some entity: 
    {{ closest(states.zone.school, ['group.children', states.device_tracker]) }}
</code></pre>
<p>It will also work as a filter over an iterable group of entities or groups:</p>
<pre><code class="language-text">Closest out of given entities: 
    {{ ['group.children', states.device_tracker] | closest }}
Closest to a coordinate:  
    {{ ['group.children', states.device_tracker] | closest(23.456, 23.456) }}
Closest to some entity: 
    {{ ['group.children', states.device_tracker] | closest(states.zone.school) }}
</code></pre>
<h3>
<a class="title-link" name="formatting" href="#formatting"></a> Formatting</h3>
<ul>
<li>
<code>float</code> will format the output as float.</li>
</ul>
<h3>
<a class="title-link" name="numeric-functions-and-filters" href="#numeric-functions-and-filters"></a> Numeric functions and filters</h3>
<p>Some of these functions can also be used in a <a href="https://jinja.palletsprojects.com/en/master/templates/#id11" rel="external nofollow">filter</a>. This means they can act as a normal function like this <code>sqrt(2)</code>, or as part of a filter like this <code>2|sqrt</code>.</p>
<ul>
<li>
<code>log(value, base)</code> will take the logarithm of the input. When the base is omitted, it defaults to <code>e</code> - the natural logarithm. Can also be used as a filter.</li>
<li>
<code>sin(value)</code> will return the sine of the input. Can be used as a filter.</li>
<li>
<code>cos(value)</code> will return the cosine of the input. Can be used as a filter.</li>
<li>
<code>tan(value)</code> will return the tangent of the input. Can be used as a filter.</li>
<li>
<code>asin(value)</code> will return the arcus sine of the input. Can be used as a filter.</li>
<li>
<code>acos(value)</code> will return the arcus cosine of the input. Can be used as a filter.</li>
<li>
<code>atan(value)</code> will return the arcus tangent of the input. Can be used as a filter.</li>
<li>
<code>atan2(y, x)</code> will return the four quadrant arcus tangent of y / x. Can be used as a filter.</li>
<li>
<code>sqrt(value)</code> will return the square root of the input. Can be used as a filter.</li>
<li>
<code>e</code> mathematical constant, approximately 2.71828.</li>
<li>
<code>pi</code> mathematical constant, approximately 3.14159.</li>
<li>
<code>tau</code> mathematical constant, approximately 6.28318.</li>
<li>Filter <code>round(x)</code> will convert the input to a number and round it to <code>x</code> decimals. Round has four modes and the default mode (with no mode specified) will <a href="https://en.wikipedia.org/wiki/Rounding#Roundhalfto_even" rel="external nofollow">round-to-even</a>.
<ul>
<li>
<code>round(x, "floor")</code> will always round down to <code>x</code> decimals</li>
<li>
<code>round(x, "ceil")</code> will always round up to <code>x</code> decimals</li>
<li>
<code>round(1, "half")</code> will always round to the nearest .5 value. <code>x</code> should be 1 for this mode</li>
</ul>
</li>
<li>Filter <code>max</code> will obtain the largest item in a sequence.</li>
<li>Filter <code>min</code> will obtain the smallest item in a sequence.</li>
<li>Filter <code>value_one|bitwise_and(value_two)</code> perform a bitwise and(&amp;) operation with two values.</li>
<li>Filter <code>value_one|bitwise_or(value_two)</code> perform a bitwise or(|) operation with two values.</li>
<li>Filter <code>ord</code> will return for a string of length one an integer representing the Unicode code point of the character when the argument is a Unicode object, or the value of the byte when the argument is an 8-bit string.</li>
</ul>
<h3>
<a class="title-link" name="regular-expressions" href="#regular-expressions"></a> Regular expressions</h3>
<ul>
<li>Filter <code>string|regex_match(find, ignorecase=FALSE)</code> will match the find expression at the beginning of the string using regex.</li>
<li>Filter <code>string|regex_search(find, ignorecase=FALSE)</code> will match the find expression anywhere in the string using regex.</li>
<li>Filter <code>string|regex_replace(find='', replace='', ignorecase=False)</code> will replace the find expression with the replace string using regex.</li>
<li>Filter <code>string|regex_findall_index(find='', index=0, ignorecase=False)</code> will find all regex matches of find in string and return the match at index (findall returns an array of matches).</li>
</ul>
<h2>
<a class="title-link" name="processing-incoming-data" href="#processing-incoming-data"></a> Processing incoming data</h2>
<p>The other part of templating is processing incoming data. It allows you to modify incoming data and extract only the data you care about. This will only work for platforms and integrations that mention support for this in their documentation.</p>
<p>It depends per integration or platform, but it is common to be able to define a template using the <code>value_template</code> configuration key. When a new value arrives, your template will be rendered while having access to the following values on top of the usual Home Assistant extensions:</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>value</code></td>
<td>The incoming value.</td>
</tr>
<tr>
<td><code>value_json</code></td>
<td>The incoming value parsed as JSON.</td>
</tr>
</tbody>
</table>
<p>This means that if the incoming values looks like the sample below:</p>
<pre><code class="language-json">{
  "on": "true",
  "temp": 21
}
</code></pre>
<p>The template for <code>on</code> would be:</p>
<pre><code class="language-yaml">'{{value_json.on}}'
</code></pre>
<p>Nested JSON in a response is supported as well:</p>
<pre><code class="language-json">{
  "sensor": {
    "type": "air",
    "id": "12345"
  },
  "values": {
    "temp": 26.09,
    "hum": 56.73
  }
}
</code></pre>
<p>Just use the “Square bracket notation” to get the value.</p>
<pre><code class="language-yaml">'{{ value_json['values']['temp'] }}'
</code></pre>
<p>The following overview contains a couple of options to get the needed values:</p>
<pre><code class="language-text"># Incoming value:
{"primes": [2, 3, 5, 7, 11, 13]}

# Extract third prime number
{{ value_json.primes[2] }}

# Format output
{{ "%+.1f" | value_json }}

# Math
{{ value_json | float * 1024 }}
{{ float(value_json) * (2**10) }}
{{ value_json | log }}
{{ log(1000, 10) }}
{{ sin(pi / 2) }}
{{ cos(tau) }}
{{ tan(pi) }}
{{ sqrt(e) }}

# Timestamps
{{ value_json.tst | timestamp_local }}
{{ value_json.tst | timestamp_utc }}
{{ value_json.tst | timestamp_custom('%Y' True) }}
</code></pre>
<p>To evaluate a response, go to the <img src="/images/screenshots/developer-tool-templates-icon.png" alt="template developer tool icon" class="no-shadow" height="38"> template developer tools, create your output in “Template”, and check the result.</p>
<pre><code class="language-yaml">{% set value_json=
    {"name":"Outside",
	 "device":"weather-ha",
     "data":
	    {"temp":"24C",
		 "hum":"35%"
		 }	}%}

{{value_json.data.hum[:-1]}}
</code></pre>
<h2>
<a class="title-link" name="some-more-things-to-keep-in-mind" href="#some-more-things-to-keep-in-mind"></a> Some more things to keep in mind</h2>
<h3>
<a class="title-link" name="entity_id-that-begins-with-a-number" href="#entity_id-that-begins-with-a-number"></a> entity_id that begins with a number</h3>
<p>If your template uses an <code>entity_id</code> that begins with a number (example: <code>states.device_tracker.2008_gmc</code>) you must use a bracket syntax to avoid errors caused by rendering the <code>entity_id</code> improperly. In the example given, the correct syntax for the device tracker would be: <code>states.device_tracker['2008_gmc']</code></p>
<h3>
<a class="title-link" name="templates-without-entities-using-now" href="#templates-without-entities-using-now"></a> Templates without entities using now()</h3>
<p>Note that templates that depend on time (<code>now()</code>) and do not use any entities will not be updated as it only happens on entity state changes. For more information and examples refer to <a href="/integrations/template/#working-without-entities"><code>template</code> sensor documentation</a></p>
<h3>
<a class="title-link" name="priority-of-operators" href="#priority-of-operators"></a> Priority of operators</h3>
<p>The default priority of operators is that the filter (<code>|</code>) has priority over everything except brackets. This means that:</p>
<pre><code class="language-yaml">{{ states('sensor.temperature') | float / 10 | round(2) }}
</code></pre>
<p>Would round <code>10</code> to 2 decimal places, then divide <code>states('sensor.temperature')</code> by that.</p>


</article>

          
        </div>

        
        <aside id="sidebar" class="grid__item one-third lap-one-whole palm-one-whole">
          <div class="grid">
  
  
    <section class="aside-module grid__item one-whole lap-one-half">
  <div class="section">
    <h1 class="title delta">목차</h1>
    <ul class="divided sidebar-menu">
      <li>
        <b><a  href='/faq/'>FAQ </a></b> |
        <b><a  href='/docs/glossary/'>Glossary </a></b>
      </li>
      <li>
        <b><a  href='/docs/installation/'>설치 </a></b>
        <ul>
          <li><a  href='/hassio/'>Hass.io </a></li>
          <li><a  href='/docs/installation/updating/'>업데이트 </a></li>
          <li>
            <a  href='/docs/installation/troubleshooting/'>문제해결
            </a>
          </li>
        </ul>
      </li>
      <li>
        <b><a  href='/docs/configuration/'>설정 </a></b>
        <ul>
          <li><a  href='/docs/configuration/yaml/'>YAML </a></li>
          <li>
            <a  href='/docs/configuration/basic/'>기본 설정 </a>
          </li>
          <li>
            <a  href='/docs/configuration/devices/'>기기 추가 </a>
          </li>
          <li>
            <a  href='/docs/configuration/customizing-devices/'>Customizing
            entities </a>
          </li>
          <li>
            <a  href='/docs/configuration/troubleshooting/'>문제해결
            </a>
          </li>
          <li>
            <a  href='/docs/configuration/securing/'>Security Check Points
            </a>
          </li>
        </ul>
      </li>
      <li>
        <b>Advanced Configuration</b>
        <ul>
          <li><a  href='/docs/configuration/remote/'>Remote access </a></li>
          <li><a  href='/docs/configuration/packages/'>Packages </a></li>
          <li>
            <a  href='/docs/configuration/splitting_configuration/'>Splitting up the configuration </a>
          </li>
          <li>
            <a  href='/docs/configuration/secrets/'>Storing Secrets </a>
          </li>
          <li><a class='active' href='/docs/configuration/templating/'>Templating </a></li>
          <li>
            <a  href='/docs/configuration/platform_options/'>Entity
            component platform options </a>
          </li>
        </ul>
      </li>
      <li>
        <b><a  href='/docs/authentication/'>Authentication </a></b>
        <ul>
          <li>
            <a  href='/docs/authentication/providers/'>Auth Providers </a>
          </li>
          <li>
            <a  href='/docs/authentication/multi-factor-auth/'>Multi Factor
            Auth </a>
          </li>
        </ul>
      </li>
      <li>
        <b>Core objects</b>
        <ul>
          <li><a  href='/docs/configuration/events/'>Events </a></li>
          <li>
            <a  href='/docs/configuration/state_object/'>State Objects </a>
          </li>
        </ul>
      </li>
      <li>
        <b><a  href='/docs/automation/'>Automation </a></b>
        <ul>
          <li><a  href='/docs/automation/examples/'>Examples </a></li>
          <li><a  href='/docs/automation/editor/'>Editor </a></li>
          <li><a  href='/docs/automation/trigger/'>Triggers </a></li>
          <li><a  href='/docs/automation/condition/'>Conditions </a></li>
          <li><a  href='/docs/automation/action/'>Actions </a></li>
          <li><a  href='/docs/automation/templating/'>Templates </a></li>
          <li>
            <a  href='/docs/automation/troubleshooting/'>Troubleshooting </a>
          </li>
        </ul>
      </li>
      <li>
        <b><a  href='/docs/frontend/'>Frontend </a></b>
        <ul>
          <li>
            <a  href='/docs/frontend/mobile/'>Android/iOS Homescreen </a>
          </li>
          <li>
            <a  href='/docs/frontend/browsers/'>Browser Compatibility List
            </a>
          </li>
          <li><a  href='/lovelace'>Lovelace UI </a></li>
        </ul>
      </li>
      <li>
        <b><a  href='/docs/backend/'>Backend </a></b>
        <ul>
          <li><a  href='/docs/backend/database/'>Database </a></li>
          <li><a  href='/docs/backend/updater/'>Updater </a></li>
          <li><a  href='/developers/api/'>API </a></li>
        </ul>
      </li>
      <li>
        <b><a  href='/docs/scripts/'>Scripts </a></b>
        <ul>
          <li><a  href='/docs/scripts/service-calls/'>Service Calls </a></li>
          <li><a  href='/docs/scripts/conditions/'>Conditions </a></li>
          <li><a  href='/docs/scripts/editor/'>Editor </a></li>
        </ul>
      </li>
      <li>
        <b><a  href='/docs/scene/'>Scenes </a></b>
        <ul>
          <li><a  href='/docs/scene/editor/'>Editor </a></li>
        </ul>
      </li>
      <li>
        <b><a  href='/docs/tools/'>Tools and Helpers </a></b>
        <ul>
          <li><a  href='/docs/tools/dev-tools/'>Developer Tools </a></li>
          <li><a  href='/docs/tools/hass/'>hass </a></li>
          <li><a  href='/docs/tools/benchmark/'>benchmark </a></li>
          <li><a  href='/docs/tools/check_config/'>check_config </a></li>
          <li><a  href='/docs/tools/credstash/'>credstash </a></li>
          <li><a  href='/docs/tools/ensure_config/'>ensure_config </a></li>
          <li><a  href='/docs/tools/keyring/'>keyring </a></li>
        </ul>
      </li>
      <li>
        <b><a  href='/docs/security/'>Security </a></b>
        <ul>
          <li>
            <a  href='/docs/security/webserver/'>Web server fingerprint </a>
          </li>
          <li><a  href='/docs/security/porosity/'>Porosity </a></li>
        </ul>
      </li>
      <li>
        <b><a  href='/docs/z-wave/'>Z-Wave </a></b>
        <ul>
          <li>
            <a  href='/docs/z-wave/installation/'>Configuring the Z-Wave
            component </a>
          </li>
          <li><a  href='/docs/z-wave/adding/'>Adding devices </a></li>
          <li>
            <a  href='/docs/z-wave/control-panel/'>The Z-Wave control panel
            </a>
          </li>
          <li><a  href='/docs/z-wave/controllers/'>Controllers </a></li>
          <li>
            <a  href='/docs/z-wave/devices/'>Devices </a> and <a  href='/docs/z-wave/entities/'>Entities </a>
          </li>
          <li>
            <a  href='/docs/z-wave/query-stage/'>Query Stages </a> for devices
          </li>
          <li>
            <a  href='/docs/z-wave/device-specific/'>Device Specific </a>
            configuration
          </li>
          <li>
            <a  href='/docs/z-wave/events/'>Events </a> and <a  href='/docs/z-wave/services/'>Services </a>
          </li>
        </ul>
      </li>
      <li>
        <b><a  href='/docs/mqtt/'>MQTT </a></b>
        <ul>
          <li><a  href='/docs/mqtt/broker/'>Broker </a></li>
          <li><a  href='/docs/mqtt/certificate/'>Certificate </a></li>
          <li><a  href='/docs/mqtt/discovery/'>Discovery </a></li>
          <li><a  href='/docs/mqtt/service/'>Publish service </a></li>
          <li>
            <a  href='/docs/mqtt/birth_will/'>Birth and last will messages
            </a>
          </li>
          <li><a  href='/docs/mqtt/testing/'>Testing your setup </a></li>
          <li><a  href='/docs/mqtt/logging/'>Logging </a></li>
          <li><a  href='/docs/mqtt/processing_json/'>Processing JSON </a></li>
        </ul>
      </li>
      <li>
        <b><a  href='/docs/ecosystem/ios/'>iOS </a></b>
        <ul>
          <li>
            <a  href='/docs/ecosystem/ios/notifications/basic/'>Basic
            notifications </a>
          </li>
          <ul>
            <li>
              <a  href='/docs/ecosystem/ios/notifications/sounds/'>Sounds </a>
            </li>
            <li>
              <a  href='/docs/ecosystem/ios/notifications/architecture/'>Architecture </a>
            </li>
            <li>
              <a  href='/docs/ecosystem/ios/notifications/privacy_security_rate_limits/'>Privacy, rate limiting and security </a>
            </li>
          </ul>
          <li>Advanced notifications</li>
          <ul>
            <li>
              <a  href='/docs/ecosystem/ios/notifications/attachments/'>Attachments </a>
            </li>
            <li>
              <a  href='/docs/ecosystem/ios/notifications/content_extensions/'>Dynamic
              content </a>
            </li>
            <li>
              <a  href='/docs/ecosystem/ios/notifications/actions/'>Actionable notifications </a>
            </li>
            <li>
              <a  href='/docs/ecosystem/ios/notifications/requesting_location_updates/'>Requesting location updates </a>
            </li>
          </ul>
          <li>
            <a  href='/docs/ecosystem/ios/location/'>Location Tracking </a>
          </li>
          <li>
            <a  href='/docs/ecosystem/ios/integration/'>Integration with
            other apps </a>
          </li>
        </ul>
      </li>
      <li>
        <a  href='/docs/ecosystem/'>Ecosystem </a>
        <ul>
          <li>
            <a  href='/docs/autostart/'>Autostart </a>
            <ul>
              <li>
                <a  href='/docs/autostart/systemd/'>systemd (Linux) </a>
              </li>
              <li>
                <a  href='/docs/autostart/upstart/'>Upstart (Linux) </a>
              </li>
              <li><a  href='/docs/autostart/init.d/'>init.d (Linux) </a></li>
              <li><a  href='/docs/autostart/macos/'>macOS </a></li>
              <li><a  href='/docs/autostart/synology/'>Synology NAS </a></li>
            </ul>
          </li>
          <li>
            <a  href='/docs/ecosystem/appdaemon/'>AppDaemon </a>
          </li>
          <li>
            <a  href='/docs/ecosystem/hadashboard/'>HADashboard </a>
          </li>
          <li>
            <a  href='/docs/ecosystem/notebooks/'>Notebooks </a>
            <ul>
              <li><a  href='/docs/ecosystem/notebooks/'>Introduction </a></li>
              <li>
                <a  href='/docs/ecosystem/notebooks/installation/'>Installation </a>
              </li>
              <li><a  href='/docs/ecosystem/notebooks/graph/'>Graph </a></li>
              <li>
                <a  href='/docs/ecosystem/notebooks/api/'>Home Assistant API
                </a>
              </li>
              <li>
                <a  href='/docs/ecosystem/notebooks/database/'>Database </a>
              </li>
              <li>
                <a  href='/docs/ecosystem/notebooks/stats/'>Statistics </a>
              </li>
            </ul>
          </li>
          <li>
            Remote access
            <ul>
              <li><a  href='/docs/ecosystem/apache/'>Apache </a></li>
              <li><a  href='/docs/ecosystem/caddy/'>Caddy Server </a></li>
              <li><a  href='/docs/ecosystem/haproxy/'>HAProxy </a></li>
              <li><a  href='/docs/ecosystem/nginx/'>NGINX </a></li>
              <li>
                <a  href='/docs/ecosystem/nginx_subdomain/'>NGINX with
                subdomain</a>
              </li>
              <li><a  href='/docs/ecosystem/tor/'>Tor Onion Service </a></li>
            </ul>
          </li>
          <li>
            <a  href='/docs/ecosystem/certificates/'>Certificates </a>
            <ul>
              <li>
                <a  href='/docs/ecosystem/certificates/tls_self_signed_certificate/'>Self-signed certificate </a>
              </li>
              <li>
                <a  href='/docs/ecosystem/certificates/tls_domain_certificate/'>Certificate
                domain owners </a>
              </li>
              <li>
                <a  href='/docs/ecosystem/certificates/lets_encrypt/'>Let's
                Encrypt (detailed) </a>
              </li>
            </ul>
          </li>
          <li>
            Backup
            <ul>
              <li>
                <a  href='/docs/ecosystem/backup/backup_github/'>Backup to
                GitHub </a>
              </li>
              <li>
                <a  href='/docs/ecosystem/backup/backup_dropbox/'>Backup to
                Dropbox </a>
              </li>
              <li>
                <a  href='/docs/ecosystem/backup/backup_usb/'>Backup to USB
                device </a>
              </li>
            </ul>
          </li>
          <li><a  href='/docs/ecosystem/synology/'>Synology </a></li>
          <li>
            <a  href='/docs/ecosystem/hass-configurator/'>Configurator
            </a>
          </li>
        </ul>
      </li>
    </ul>
  </div>
</section>

  
</div>

        </aside>
        
      </div>
    </div>

    <footer>
      <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <div class="copyright grid">
        <div class='company grid__item one-third lap-one-half palm-one-whole'>
          <div class="title">
            <img width="40" src="/images/favicon-192x192-full.png" alt="Home Assistant"> 홈어시스턴트
          </div>
        </div>

        <div class='grid__item one-third lap-one-half palm-one-whole'>
          <ul>
            <li><a href='https://alerts.home-assistant.io'>Home Assistant Alerts</a></li>
            <li><a href='https://cafe.naver.com/koreassistant'>HA 네이버 카페</a></li>
          </ul>
        </div>

        <div class='grid__item one-third lap-one-half palm-one-whole'>
          이 웹사이트는 <a href='https://jekyllrb.com/'>Jekyll</a>과
          <a href='https://github.com/coogie/oscailte'>Oscalite 테마</a>를 사용합니다.
        </div>
      </div>
    </div>
  </div>
</div>

    </footer>

    <script>
var _gaq=[['_setAccount',''],['_trackPageview']];
(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

<script src="/javascripts/prism.js?5d6619066a1fc5cd819a93c132b539ac" type="text/javascript"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript">
docsearch({
  apiKey: 'ae96d94b201c5444c8a443093edf3efb',
  indexName: 'home-assistant',
  inputSelector: '#search',
  debug: false // Set debug to true if you want to inspect the dropdown
});
document.querySelector('.search .close').addEventListener('click', function(ev) {
  ev.preventDefault();
  document.querySelector('.search-container').style.display = 'none';
});
document.querySelector('.show-search').addEventListener('click', function(ev) {
  ev.preventDefault();
  document.querySelector('.search-container').style.display = 'block';
  document.getElementById('toggle').checked = false;
  document.querySelector('.search-container input').focus();
});
</script>

  </body>
</html>
